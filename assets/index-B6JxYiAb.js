function AN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aU(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var PN={exports:{}},Mg={},kN={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),lU=Symbol.for("react.portal"),uU=Symbol.for("react.fragment"),cU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),dU=Symbol.for("react.provider"),hU=Symbol.for("react.context"),pU=Symbol.for("react.forward_ref"),mU=Symbol.for("react.suspense"),gU=Symbol.for("react.memo"),yU=Symbol.for("react.lazy"),VR=Symbol.iterator;function vU(t){return t===null||typeof t!="object"?null:(t=VR&&t[VR]||t["@@iterator"],typeof t=="function"?t:null)}var ON={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NN=Object.assign,DN={};function Rc(t,e,n){this.props=t,this.context=e,this.refs=DN,this.updater=n||ON}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LN(){}LN.prototype=Rc.prototype;function Gb(t,e,n){this.props=t,this.context=e,this.refs=DN,this.updater=n||ON}var Qb=Gb.prototype=new LN;Qb.constructor=Gb;NN(Qb,Rc.prototype);Qb.isPureReactComponent=!0;var UR=Array.isArray,MN=Object.prototype.hasOwnProperty,Yb={current:null},FN={key:!0,ref:!0,__self:!0,__source:!0};function jN(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MN.call(e,r)&&!FN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:Yb.current}}function _U(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function wU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var BR=/\/+/g;function Rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wU(""+t.key):e.toString(36)}function $p(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case lU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rv(o,0):r,UR(i)?(n="",t!=null&&(n=t.replace(BR,"$&/")+"/"),$p(i,e,n,"",function(u){return u})):i!=null&&(Xb(i)&&(i=_U(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",UR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Rv(s,a);o+=$p(s,e,n,l,i)}else if(l=vU(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Rv(s,a++),o+=$p(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function up(t,e,n){if(t==null)return t;var r=[],i=0;return $p(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},zp={transition:null},bU={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:zp,ReactCurrentOwner:Yb};function VN(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:up,forEach:function(t,e,n){up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return up(t,function(){e++}),e},toArray:function(t){return up(t,function(e){return e})||[]},only:function(t){if(!Xb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=Rc;ut.Fragment=uU;ut.Profiler=fU;ut.PureComponent=Gb;ut.StrictMode=cU;ut.Suspense=mU;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bU;ut.act=VN;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NN({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MN.call(e,l)&&!FN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:hU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dU,_context:t},t.Consumer=t};ut.createElement=jN;ut.createFactory=function(t){var e=jN.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:pU,render:t}};ut.isValidElement=Xb;ut.lazy=function(t){return{$$typeof:yU,_payload:{_status:-1,_result:t},_init:EU}};ut.memo=function(t,e){return{$$typeof:gU,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=zp.transition;zp.transition={};try{t()}finally{zp.transition=e}};ut.unstable_act=VN;ut.useCallback=function(t,e){return br.current.useCallback(t,e)};ut.useContext=function(t){return br.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return br.current.useDeferredValue(t)};ut.useEffect=function(t,e){return br.current.useEffect(t,e)};ut.useId=function(){return br.current.useId()};ut.useImperativeHandle=function(t,e,n){return br.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return br.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return br.current.useReducer(t,e,n)};ut.useRef=function(t){return br.current.useRef(t)};ut.useState=function(t){return br.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return br.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return br.current.useTransition()};ut.version="18.3.1";kN.exports=ut;var O=kN.exports;const Pe=Kb(O),vm=AN({__proto__:null,default:Pe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU=O,SU=Symbol.for("react.element"),xU=Symbol.for("react.fragment"),RU=Object.prototype.hasOwnProperty,IU=TU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CU={key:!0,ref:!0,__self:!0,__source:!0};function UN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RU.call(e,r)&&!CU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SU,type:t,key:s,ref:o,props:i,_owner:IU.current}}Mg.Fragment=xU;Mg.jsx=UN;Mg.jsxs=UN;PN.exports=Mg;var x=PN.exports,BN={exports:{}},ti={},$N={exports:{}},zN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,X){var fe=Q.length;Q.push(X);e:for(;0<fe;){var te=fe-1>>>1,$=Q[te];if(0<i($,X))Q[te]=X,Q[fe]=$,fe=te;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var X=Q[0],fe=Q.pop();if(fe!==X){Q[0]=fe;e:for(var te=0,$=Q.length,K=$>>>1;te<K;){var ee=2*(te+1)-1,Ae=Q[ee],Re=ee+1,W=Q[Re];if(0>i(Ae,fe))Re<$&&0>i(W,Ae)?(Q[te]=W,Q[Re]=fe,te=Re):(Q[te]=Ae,Q[ee]=fe,te=ee);else if(Re<$&&0>i(W,fe))Q[te]=W,Q[Re]=fe,te=Re;else break e}}return X}function i(Q,X){var fe=Q.sortIndex-X.sortIndex;return fe!==0?fe:Q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,y=3,_=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=Q)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function I(Q){if(S=!1,v(Q),!E)if(n(l)!==null)E=!0,he(k);else{var X=n(u);X!==null&&Y(I,X.startTime-Q)}}function k(Q,X){E=!1,S&&(S=!1,R(T),T=-1),_=!0;var fe=y;try{for(v(X),p=n(l);p!==null&&(!(p.expirationTime>X)||Q&&!j());){var te=p.callback;if(typeof te=="function"){p.callback=null,y=p.priorityLevel;var $=te(p.expirationTime<=X);X=t.unstable_now(),typeof $=="function"?p.callback=$:p===n(l)&&r(l),v(X)}else r(l);p=n(l)}if(p!==null)var K=!0;else{var ee=n(u);ee!==null&&Y(I,ee.startTime-X),K=!1}return K}finally{p=null,y=fe,_=!1}}var B=!1,D=null,T=-1,N=5,L=-1;function j(){return!(t.unstable_now()-L<N)}function V(){if(D!==null){var Q=t.unstable_now();L=Q;var X=!0;try{X=D(!0,Q)}finally{X?M():(B=!1,D=null)}}else B=!1}var M;if(typeof w=="function")M=function(){w(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,me=le.port2;le.port1.onmessage=V,M=function(){me.postMessage(null)}}else M=function(){C(V,0)};function he(Q){D=Q,B||(B=!0,M())}function Y(Q,X){T=C(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,he(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var fe=y;y=X;try{return Q()}finally{y=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=y;y=Q;try{return X()}finally{y=fe}},t.unstable_scheduleCallback=function(Q,X,fe){var te=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?te+fe:te):fe=te,Q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=fe+$,Q={id:d++,callback:X,priorityLevel:Q,startTime:fe,expirationTime:$,sortIndex:-1},fe>te?(Q.sortIndex=fe,e(u,Q),n(l)===null&&Q===n(u)&&(S?(R(T),T=-1):S=!0,Y(I,fe-te))):(Q.sortIndex=$,e(l,Q),E||_||(E=!0,he(k))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var X=y;return function(){var fe=y;y=X;try{return Q.apply(this,arguments)}finally{y=fe}}}})(zN);$N.exports=zN;var AU=$N.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU=O,ei=AU;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HN=new Set,fd={};function Fl(t,e){sc(t,e),sc(t+"Capture",e)}function sc(t,e){for(fd[t]=e,t=0;t<e.length;t++)HN.add(e[t])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=Object.prototype.hasOwnProperty,kU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$R={},zR={};function OU(t){return W1.call(zR,t)?!0:W1.call($R,t)?!1:kU.test(t)?zR[t]=!0:($R[t]=!0,!1)}function NU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DU(t,e,n,r){if(e===null||typeof e>"u"||NU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new Tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new Tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new Tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new Tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new Tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new Tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new Tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new Tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new Tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jb=/[\-:]([a-z])/g;function Zb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jb,Zb);Wn[e]=new Tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jb,Zb);Wn[e]=new Tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jb,Zb);Wn[e]=new Tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new Tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new Tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function eT(t,e,n,r){var i=Wn.hasOwnProperty(e)?Wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DU(e,n,i,r)&&(n=null),r||i===null?OU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=PU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cp=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),qN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),rT=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),KN=Symbol.for("react.offscreen"),HR=Symbol.iterator;function af(t){return t===null||typeof t!="object"?null:(t=HR&&t[HR]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,Iv;function If(t){if(Iv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iv=e&&e[1]||""}return`
`+Iv+t}var Cv=!1;function Av(t,e){if(!t||Cv)return"";Cv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function LU(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=Av(t.type,!1),t;case 11:return t=Av(t.type.render,!1),t;case 1:return t=Av(t.type,!0),t;default:return""}}function Y1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ku:return"Fragment";case Pu:return"Portal";case K1:return"Profiler";case tT:return"StrictMode";case G1:return"Suspense";case Q1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WN:return(t.displayName||"Context")+".Consumer";case qN:return(t._context.displayName||"Context")+".Provider";case nT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rT:return e=t.displayName||null,e!==null?e:Y1(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Y1(t(e))}catch{}}return null}function MU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y1(e);case 8:return e===tT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FU(t){var e=GN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fp(t){t._valueTracker||(t._valueTracker=FU(t))}function QN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X1(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YN(t,e){e=e.checked,e!=null&&eT(t,"checked",e,!1)}function J1(t,e){YN(t,e);var n=ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z1(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z1(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z1(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cf=Array.isArray;function Wu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Cf(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ua(n)}}function XN(t,e){var n=ua(e.value),r=ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function GR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dp,ZN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jU=["Webkit","ms","Moz","O"];Object.keys(Bf).forEach(function(t){jU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bf[e]=Bf[t]})});function eD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bf.hasOwnProperty(t)&&Bf[t]?(""+e).trim():e+"px"}function tD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VU=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nE(t,e){if(e){if(VU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function rE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iE=null;function iT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sE=null,Ku=null,Gu=null;function QR(t){if(t=Xd(t)){if(typeof sE!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=Bg(e),sE(t.stateNode,t.type,e))}}function nD(t){Ku?Gu?Gu.push(t):Gu=[t]:Ku=t}function rD(){if(Ku){var t=Ku,e=Gu;if(Gu=Ku=null,QR(t),e)for(t=0;t<e.length;t++)QR(e[t])}}function iD(t,e){return t(e)}function sD(){}var Pv=!1;function oD(t,e,n){if(Pv)return t(e,n);Pv=!0;try{return iD(t,e,n)}finally{Pv=!1,(Ku!==null||Gu!==null)&&(sD(),rD())}}function hd(t,e){var n=t.stateNode;if(n===null)return null;var r=Bg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var oE=!1;if(no)try{var lf={};Object.defineProperty(lf,"passive",{get:function(){oE=!0}}),window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{oE=!1}function UU(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var $f=!1,wm=null,Em=!1,aE=null,BU={onError:function(t){$f=!0,wm=t}};function $U(t,e,n,r,i,s,o,a,l){$f=!1,wm=null,UU.apply(BU,arguments)}function zU(t,e,n,r,i,s,o,a,l){if($U.apply(this,arguments),$f){if($f){var u=wm;$f=!1,wm=null}else throw Error(ve(198));Em||(Em=!0,aE=u)}}function jl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YR(t){if(jl(t)!==t)throw Error(ve(188))}function HU(t){var e=t.alternate;if(!e){if(e=jl(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return YR(i),t;if(s===r)return YR(i),e;s=s.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function lD(t){return t=HU(t),t!==null?uD(t):null}function uD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uD(t);if(e!==null)return e;t=t.sibling}return null}var cD=ei.unstable_scheduleCallback,XR=ei.unstable_cancelCallback,qU=ei.unstable_shouldYield,WU=ei.unstable_requestPaint,cn=ei.unstable_now,KU=ei.unstable_getCurrentPriorityLevel,sT=ei.unstable_ImmediatePriority,fD=ei.unstable_UserBlockingPriority,bm=ei.unstable_NormalPriority,GU=ei.unstable_LowPriority,dD=ei.unstable_IdlePriority,Fg=null,vs=null;function QU(t){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Fg,t,void 0,(t.current.flags&128)===128)}catch{}}var Bi=Math.clz32?Math.clz32:JU,YU=Math.log,XU=Math.LN2;function JU(t){return t>>>=0,t===0?32:31-(YU(t)/XU|0)|0}var hp=64,pp=4194304;function Af(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Af(a):(s&=o,s!==0&&(r=Af(s)))}else o=n&~i,o!==0?r=Af(o):s!==0&&(r=Af(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bi(e),i=1<<n,r|=t[n],e&=~i;return r}function ZU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZU(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hD(){var t=hp;return hp<<=1,!(hp&4194240)&&(hp=64),t}function kv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bi(e),t[e]=n}function t9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function pD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mD,aT,gD,yD,vD,uE=!1,mp=[],Qo=null,Yo=null,Xo=null,pd=new Map,md=new Map,Mo=[],n9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JR(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function uf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&aT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r9(t,e,n,r,i){switch(e){case"focusin":return Qo=uf(Qo,t,e,n,r,i),!0;case"dragenter":return Yo=uf(Yo,t,e,n,r,i),!0;case"mouseover":return Xo=uf(Xo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,uf(pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,uf(md.get(s)||null,t,e,n,r,i)),!0}return!1}function _D(t){var e=el(t.target);if(e!==null){var n=jl(e);if(n!==null){if(e=n.tag,e===13){if(e=aD(n),e!==null){t.blockedOn=e,vD(t.priority,function(){gD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iE=r,n.target.dispatchEvent(r),iE=null}else return e=Xd(n),e!==null&&aT(e),t.blockedOn=n,!1;e.shift()}return!0}function ZR(t,e,n){Hp(t)&&n.delete(e)}function i9(){uE=!1,Qo!==null&&Hp(Qo)&&(Qo=null),Yo!==null&&Hp(Yo)&&(Yo=null),Xo!==null&&Hp(Xo)&&(Xo=null),pd.forEach(ZR),md.forEach(ZR)}function cf(t,e){t.blockedOn===e&&(t.blockedOn=null,uE||(uE=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,i9)))}function gd(t){function e(i){return cf(i,t)}if(0<mp.length){cf(mp[0],t);for(var n=1;n<mp.length;n++){var r=mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&cf(Qo,t),Yo!==null&&cf(Yo,t),Xo!==null&&cf(Xo,t),pd.forEach(e),md.forEach(e),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)_D(n),n.blockedOn===null&&Mo.shift()}var Qu=mo.ReactCurrentBatchConfig,Sm=!0;function s9(t,e,n,r){var i=Ct,s=Qu.transition;Qu.transition=null;try{Ct=1,lT(t,e,n,r)}finally{Ct=i,Qu.transition=s}}function o9(t,e,n,r){var i=Ct,s=Qu.transition;Qu.transition=null;try{Ct=4,lT(t,e,n,r)}finally{Ct=i,Qu.transition=s}}function lT(t,e,n,r){if(Sm){var i=cE(t,e,n,r);if(i===null)Bv(t,e,r,xm,n),JR(t,r);else if(r9(i,t,e,n,r))r.stopPropagation();else if(JR(t,r),e&4&&-1<n9.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&mD(s),s=cE(t,e,n,r),s===null&&Bv(t,e,r,xm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bv(t,e,r,null,n)}}var xm=null;function cE(t,e,n,r){if(xm=null,t=iT(r),t=el(t),t!==null)if(e=jl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xm=t,null}function wD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KU()){case sT:return 1;case fD:return 4;case bm:case GU:return 16;case dD:return 536870912;default:return 16}default:return 16}}var zo=null,uT=null,qp=null;function ED(){if(qp)return qp;var t,e=uT,n=e.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qp=i.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gp(){return!0}function eI(){return!1}function ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gp:eI,this.isPropagationStopped=eI,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gp)},persist:function(){},isPersistent:gp}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cT=ni(Ic),Yd=en({},Ic,{view:0,detail:0}),a9=ni(Yd),Ov,Nv,ff,jg=en({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ff&&(ff&&t.type==="mousemove"?(Ov=t.screenX-ff.screenX,Nv=t.screenY-ff.screenY):Nv=Ov=0,ff=t),Ov)},movementY:function(t){return"movementY"in t?t.movementY:Nv}}),tI=ni(jg),l9=en({},jg,{dataTransfer:0}),u9=ni(l9),c9=en({},Yd,{relatedTarget:0}),Dv=ni(c9),f9=en({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),d9=ni(f9),h9=en({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p9=ni(h9),m9=en({},Ic,{data:0}),nI=ni(m9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v9[t])?!!e[t]:!1}function fT(){return _9}var w9=en({},Yd,{key:function(t){if(t.key){var e=g9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fT,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E9=ni(w9),b9=en({},jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rI=ni(b9),T9=en({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fT}),S9=ni(T9),x9=en({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),R9=ni(x9),I9=en({},jg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C9=ni(I9),A9=[9,13,27,32],dT=no&&"CompositionEvent"in window,zf=null;no&&"documentMode"in document&&(zf=document.documentMode);var P9=no&&"TextEvent"in window&&!zf,bD=no&&(!dT||zf&&8<zf&&11>=zf),iI=" ",sI=!1;function TD(t,e){switch(t){case"keyup":return A9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function k9(t,e){switch(t){case"compositionend":return SD(e);case"keypress":return e.which!==32?null:(sI=!0,iI);case"textInput":return t=e.data,t===iI&&sI?null:t;default:return null}}function O9(t,e){if(Ou)return t==="compositionend"||!dT&&TD(t,e)?(t=ED(),qp=uT=zo=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bD&&e.locale!=="ko"?null:e.data;default:return null}}var N9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N9[t.type]:e==="textarea"}function xD(t,e,n,r){nD(r),e=Rm(e,"onChange"),0<e.length&&(n=new cT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,yd=null;function D9(t){MD(t,0)}function Vg(t){var e=Lu(t);if(QN(e))return t}function L9(t,e){if(t==="change")return e}var RD=!1;if(no){var Lv;if(no){var Mv="oninput"in document;if(!Mv){var aI=document.createElement("div");aI.setAttribute("oninput","return;"),Mv=typeof aI.oninput=="function"}Lv=Mv}else Lv=!1;RD=Lv&&(!document.documentMode||9<document.documentMode)}function lI(){Hf&&(Hf.detachEvent("onpropertychange",ID),yd=Hf=null)}function ID(t){if(t.propertyName==="value"&&Vg(yd)){var e=[];xD(e,yd,t,iT(t)),oD(D9,e)}}function M9(t,e,n){t==="focusin"?(lI(),Hf=e,yd=n,Hf.attachEvent("onpropertychange",ID)):t==="focusout"&&lI()}function F9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vg(yd)}function j9(t,e){if(t==="click")return Vg(e)}function V9(t,e){if(t==="input"||t==="change")return Vg(e)}function U9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wi=typeof Object.is=="function"?Object.is:U9;function vd(t,e){if(Wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!W1.call(e,i)||!Wi(t[i],e[i]))return!1}return!0}function uI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cI(t,e){var n=uI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uI(n)}}function CD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AD(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B9(t){var e=AD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CD(n.ownerDocument.documentElement,n)){if(r!==null&&hT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cI(n,s);var o=cI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $9=no&&"documentMode"in document&&11>=document.documentMode,Nu=null,fE=null,qf=null,dE=!1;function fI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dE||Nu==null||Nu!==_m(r)||(r=Nu,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&vd(qf,r)||(qf=r,r=Rm(fE,"onSelect"),0<r.length&&(e=new cT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nu)))}function yp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Du={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},Fv={},PD={};no&&(PD=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function Ug(t){if(Fv[t])return Fv[t];if(!Du[t])return t;var e=Du[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PD)return Fv[t]=e[n];return t}var kD=Ug("animationend"),OD=Ug("animationiteration"),ND=Ug("animationstart"),DD=Ug("transitionend"),LD=new Map,dI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){LD.set(t,e),Fl(e,[t])}for(var jv=0;jv<dI.length;jv++){var Vv=dI[jv],z9=Vv.toLowerCase(),H9=Vv[0].toUpperCase()+Vv.slice(1);_a(z9,"on"+H9)}_a(kD,"onAnimationEnd");_a(OD,"onAnimationIteration");_a(ND,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(DD,"onTransitionEnd");sc("onMouseEnter",["mouseout","mouseover"]);sc("onMouseLeave",["mouseout","mouseover"]);sc("onPointerEnter",["pointerout","pointerover"]);sc("onPointerLeave",["pointerout","pointerover"]);Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function hI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zU(r,e,void 0,t),t.currentTarget=null}function MD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hI(i,a,u),s=l}}}if(Em)throw t=aE,Em=!1,aE=null,t}function jt(t,e){var n=e[yE];n===void 0&&(n=e[yE]=new Set);var r=t+"__bubble";n.has(r)||(FD(e,t,2,!1),n.add(r))}function Uv(t,e,n){var r=0;e&&(r|=4),FD(n,t,r,e)}var vp="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[vp]){t[vp]=!0,HN.forEach(function(n){n!=="selectionchange"&&(q9.has(n)||Uv(n,!1,t),Uv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vp]||(e[vp]=!0,Uv("selectionchange",!1,e))}}function FD(t,e,n,r){switch(wD(e)){case 1:var i=s9;break;case 4:i=o9;break;default:i=lT}n=i.bind(null,e,n,t),i=void 0,!oE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=el(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}oD(function(){var u=s,d=iT(n),p=[];e:{var y=LD.get(t);if(y!==void 0){var _=cT,E=t;switch(t){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":_=E9;break;case"focusin":E="focus",_=Dv;break;case"focusout":E="blur",_=Dv;break;case"beforeblur":case"afterblur":_=Dv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=tI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=u9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=S9;break;case kD:case OD:case ND:_=d9;break;case DD:_=R9;break;case"scroll":_=a9;break;case"wheel":_=C9;break;case"copy":case"cut":case"paste":_=p9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=rI}var S=(e&4)!==0,C=!S&&t==="scroll",R=S?y!==null?y+"Capture":null:y;S=[];for(var w=u,v;w!==null;){v=w;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,R!==null&&(I=hd(w,R),I!=null&&S.push(wd(w,I,v)))),C)break;w=w.return}0<S.length&&(y=new _(y,E,null,n,d),p.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==iE&&(E=n.relatedTarget||n.fromElement)&&(el(E)||E[ro]))break e;if((_||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=u,E=E?el(E):null,E!==null&&(C=jl(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=u),_!==E)){if(S=tI,I="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=rI,I="onPointerLeave",R="onPointerEnter",w="pointer"),C=_==null?y:Lu(_),v=E==null?y:Lu(E),y=new S(I,w+"leave",_,n,d),y.target=C,y.relatedTarget=v,I=null,el(d)===u&&(S=new S(R,w+"enter",E,n,d),S.target=v,S.relatedTarget=C,I=S),C=I,_&&E)t:{for(S=_,R=E,w=0,v=S;v;v=wu(v))w++;for(v=0,I=R;I;I=wu(I))v++;for(;0<w-v;)S=wu(S),w--;for(;0<v-w;)R=wu(R),v--;for(;w--;){if(S===R||R!==null&&S===R.alternate)break t;S=wu(S),R=wu(R)}S=null}else S=null;_!==null&&pI(p,y,_,S,!1),E!==null&&C!==null&&pI(p,C,E,S,!0)}}e:{if(y=u?Lu(u):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var k=L9;else if(oI(y))if(RD)k=V9;else{k=F9;var B=M9}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=j9);if(k&&(k=k(t,u))){xD(p,k,n,d);break e}B&&B(t,y,u),t==="focusout"&&(B=y._wrapperState)&&B.controlled&&y.type==="number"&&Z1(y,"number",y.value)}switch(B=u?Lu(u):window,t){case"focusin":(oI(B)||B.contentEditable==="true")&&(Nu=B,fE=u,qf=null);break;case"focusout":qf=fE=Nu=null;break;case"mousedown":dE=!0;break;case"contextmenu":case"mouseup":case"dragend":dE=!1,fI(p,n,d);break;case"selectionchange":if($9)break;case"keydown":case"keyup":fI(p,n,d)}var D;if(dT)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ou?TD(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bD&&n.locale!=="ko"&&(Ou||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ou&&(D=ED()):(zo=d,uT="value"in zo?zo.value:zo.textContent,Ou=!0)),B=Rm(u,T),0<B.length&&(T=new nI(T,t,null,n,d),p.push({event:T,listeners:B}),D?T.data=D:(D=SD(n),D!==null&&(T.data=D)))),(D=P9?k9(t,n):O9(t,n))&&(u=Rm(u,"onBeforeInput"),0<u.length&&(d=new nI("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=D))}MD(p,e)})}function wd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hd(t,n),s!=null&&r.unshift(wd(t,s,i)),s=hd(t,e),s!=null&&r.push(wd(t,s,i))),t=t.return}return r}function wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hd(n,s),l!=null&&o.unshift(wd(n,l,a))):i||(l=hd(n,s),l!=null&&o.push(wd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W9=/\r\n?/g,K9=/\u0000|\uFFFD/g;function mI(t){return(typeof t=="string"?t:""+t).replace(W9,`
`).replace(K9,"")}function _p(t,e,n){if(e=mI(e),mI(t)!==e&&n)throw Error(ve(425))}function Im(){}var hE=null,pE=null;function mE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gE=typeof setTimeout=="function"?setTimeout:void 0,G9=typeof clearTimeout=="function"?clearTimeout:void 0,gI=typeof Promise=="function"?Promise:void 0,Q9=typeof queueMicrotask=="function"?queueMicrotask:typeof gI<"u"?function(t){return gI.resolve(null).then(t).catch(Y9)}:gE;function Y9(t){setTimeout(function(){throw t})}function $v(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gd(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),hs="__reactFiber$"+Cc,Ed="__reactProps$"+Cc,ro="__reactContainer$"+Cc,yE="__reactEvents$"+Cc,X9="__reactListeners$"+Cc,J9="__reactHandles$"+Cc;function el(t){var e=t[hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ro]||n[hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yI(t);t!==null;){if(n=t[hs])return n;t=yI(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[hs]||t[ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Bg(t){return t[Ed]||null}var vE=[],Mu=-1;function wa(t){return{current:t}}function zt(t){0>Mu||(t.current=vE[Mu],vE[Mu]=null,Mu--)}function Mt(t,e){Mu++,vE[Mu]=t.current,t.current=e}var ca={},cr=wa(ca),Nr=wa(!1),yl=ca;function oc(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(t){return t=t.childContextTypes,t!=null}function Cm(){zt(Nr),zt(cr)}function vI(t,e,n){if(cr.current!==ca)throw Error(ve(168));Mt(cr,e),Mt(Nr,n)}function jD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,MU(t)||"Unknown",i));return en({},n,r)}function Am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,yl=cr.current,Mt(cr,t),Mt(Nr,Nr.current),!0}function _I(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=jD(t,e,yl),r.__reactInternalMemoizedMergedChildContext=t,zt(Nr),zt(cr),Mt(cr,t)):zt(Nr),Mt(Nr,n)}var $s=null,$g=!1,zv=!1;function VD(t){$s===null?$s=[t]:$s.push(t)}function Z9(t){$g=!0,VD(t)}function Ea(){if(!zv&&$s!==null){zv=!0;var t=0,e=Ct;try{var n=$s;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$s=null,$g=!1}catch(i){throw $s!==null&&($s=$s.slice(t+1)),cD(sT,Ea),i}finally{Ct=e,zv=!1}}return null}var Fu=[],ju=0,Pm=null,km=0,ui=[],ci=0,vl=null,Hs=1,qs="";function Ga(t,e){Fu[ju++]=km,Fu[ju++]=Pm,Pm=t,km=e}function UD(t,e,n){ui[ci++]=Hs,ui[ci++]=qs,ui[ci++]=vl,vl=t;var r=Hs;t=qs;var i=32-Bi(r)-1;r&=~(1<<i),n+=1;var s=32-Bi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hs=1<<32-Bi(e)+i|n<<i|r,qs=s+t}else Hs=1<<s|n<<i|r,qs=t}function pT(t){t.return!==null&&(Ga(t,1),UD(t,1,0))}function mT(t){for(;t===Pm;)Pm=Fu[--ju],Fu[ju]=null,km=Fu[--ju],Fu[ju]=null;for(;t===vl;)vl=ui[--ci],ui[ci]=null,qs=ui[--ci],ui[ci]=null,Hs=ui[--ci],ui[ci]=null}var Yr=null,Wr=null,Kt=!1,Ni=null;function BD(t,e){var n=di(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yr=t,Wr=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vl!==null?{id:Hs,overflow:qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=di(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yr=t,Wr=null,!0):!1;default:return!1}}function _E(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wE(t){if(Kt){var e=Wr;if(e){var n=e;if(!wI(t,e)){if(_E(t))throw Error(ve(418));e=Jo(n.nextSibling);var r=Yr;e&&wI(t,e)?BD(r,n):(t.flags=t.flags&-4097|2,Kt=!1,Yr=t)}}else{if(_E(t))throw Error(ve(418));t.flags=t.flags&-4097|2,Kt=!1,Yr=t}}}function EI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yr=t}function wp(t){if(t!==Yr)return!1;if(!Kt)return EI(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mE(t.type,t.memoizedProps)),e&&(e=Wr)){if(_E(t))throw $D(),Error(ve(418));for(;e;)BD(t,e),e=Jo(e.nextSibling)}if(EI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wr=Jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Yr?Jo(t.stateNode.nextSibling):null;return!0}function $D(){for(var t=Wr;t;)t=Jo(t.nextSibling)}function ac(){Wr=Yr=null,Kt=!1}function gT(t){Ni===null?Ni=[t]:Ni.push(t)}var e7=mo.ReactCurrentBatchConfig;function df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Ep(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bI(t){var e=t._init;return e(t._payload)}function zD(t){function e(R,w){if(t){var v=R.deletions;v===null?(R.deletions=[w],R.flags|=16):v.push(w)}}function n(R,w){if(!t)return null;for(;w!==null;)e(R,w),w=w.sibling;return null}function r(R,w){for(R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function i(R,w){return R=na(R,w),R.index=0,R.sibling=null,R}function s(R,w,v){return R.index=v,t?(v=R.alternate,v!==null?(v=v.index,v<w?(R.flags|=2,w):v):(R.flags|=2,w)):(R.flags|=1048576,w)}function o(R){return t&&R.alternate===null&&(R.flags|=2),R}function a(R,w,v,I){return w===null||w.tag!==6?(w=Yv(v,R.mode,I),w.return=R,w):(w=i(w,v),w.return=R,w)}function l(R,w,v,I){var k=v.type;return k===ku?d(R,w,v.props.children,I,v.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&bI(k)===w.type)?(I=i(w,v.props),I.ref=df(R,w,v),I.return=R,I):(I=Zp(v.type,v.key,v.props,null,R.mode,I),I.ref=df(R,w,v),I.return=R,I)}function u(R,w,v,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=Xv(v,R.mode,I),w.return=R,w):(w=i(w,v.children||[]),w.return=R,w)}function d(R,w,v,I,k){return w===null||w.tag!==7?(w=fl(v,R.mode,I,k),w.return=R,w):(w=i(w,v),w.return=R,w)}function p(R,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yv(""+w,R.mode,v),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cp:return v=Zp(w.type,w.key,w.props,null,R.mode,v),v.ref=df(R,null,w),v.return=R,v;case Pu:return w=Xv(w,R.mode,v),w.return=R,w;case Do:var I=w._init;return p(R,I(w._payload),v)}if(Cf(w)||af(w))return w=fl(w,R.mode,v,null),w.return=R,w;Ep(R,w)}return null}function y(R,w,v,I){var k=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(R,w,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cp:return v.key===k?l(R,w,v,I):null;case Pu:return v.key===k?u(R,w,v,I):null;case Do:return k=v._init,y(R,w,k(v._payload),I)}if(Cf(v)||af(v))return k!==null?null:d(R,w,v,I,null);Ep(R,v)}return null}function _(R,w,v,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return R=R.get(v)||null,a(w,R,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cp:return R=R.get(I.key===null?v:I.key)||null,l(w,R,I,k);case Pu:return R=R.get(I.key===null?v:I.key)||null,u(w,R,I,k);case Do:var B=I._init;return _(R,w,v,B(I._payload),k)}if(Cf(I)||af(I))return R=R.get(v)||null,d(w,R,I,k,null);Ep(w,I)}return null}function E(R,w,v,I){for(var k=null,B=null,D=w,T=w=0,N=null;D!==null&&T<v.length;T++){D.index>T?(N=D,D=null):N=D.sibling;var L=y(R,D,v[T],I);if(L===null){D===null&&(D=N);break}t&&D&&L.alternate===null&&e(R,D),w=s(L,w,T),B===null?k=L:B.sibling=L,B=L,D=N}if(T===v.length)return n(R,D),Kt&&Ga(R,T),k;if(D===null){for(;T<v.length;T++)D=p(R,v[T],I),D!==null&&(w=s(D,w,T),B===null?k=D:B.sibling=D,B=D);return Kt&&Ga(R,T),k}for(D=r(R,D);T<v.length;T++)N=_(D,R,T,v[T],I),N!==null&&(t&&N.alternate!==null&&D.delete(N.key===null?T:N.key),w=s(N,w,T),B===null?k=N:B.sibling=N,B=N);return t&&D.forEach(function(j){return e(R,j)}),Kt&&Ga(R,T),k}function S(R,w,v,I){var k=af(v);if(typeof k!="function")throw Error(ve(150));if(v=k.call(v),v==null)throw Error(ve(151));for(var B=k=null,D=w,T=w=0,N=null,L=v.next();D!==null&&!L.done;T++,L=v.next()){D.index>T?(N=D,D=null):N=D.sibling;var j=y(R,D,L.value,I);if(j===null){D===null&&(D=N);break}t&&D&&j.alternate===null&&e(R,D),w=s(j,w,T),B===null?k=j:B.sibling=j,B=j,D=N}if(L.done)return n(R,D),Kt&&Ga(R,T),k;if(D===null){for(;!L.done;T++,L=v.next())L=p(R,L.value,I),L!==null&&(w=s(L,w,T),B===null?k=L:B.sibling=L,B=L);return Kt&&Ga(R,T),k}for(D=r(R,D);!L.done;T++,L=v.next())L=_(D,R,T,L.value,I),L!==null&&(t&&L.alternate!==null&&D.delete(L.key===null?T:L.key),w=s(L,w,T),B===null?k=L:B.sibling=L,B=L);return t&&D.forEach(function(V){return e(R,V)}),Kt&&Ga(R,T),k}function C(R,w,v,I){if(typeof v=="object"&&v!==null&&v.type===ku&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case cp:e:{for(var k=v.key,B=w;B!==null;){if(B.key===k){if(k=v.type,k===ku){if(B.tag===7){n(R,B.sibling),w=i(B,v.props.children),w.return=R,R=w;break e}}else if(B.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&bI(k)===B.type){n(R,B.sibling),w=i(B,v.props),w.ref=df(R,B,v),w.return=R,R=w;break e}n(R,B);break}else e(R,B);B=B.sibling}v.type===ku?(w=fl(v.props.children,R.mode,I,v.key),w.return=R,R=w):(I=Zp(v.type,v.key,v.props,null,R.mode,I),I.ref=df(R,w,v),I.return=R,R=I)}return o(R);case Pu:e:{for(B=v.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(R,w.sibling),w=i(w,v.children||[]),w.return=R,R=w;break e}else{n(R,w);break}else e(R,w);w=w.sibling}w=Xv(v,R.mode,I),w.return=R,R=w}return o(R);case Do:return B=v._init,C(R,w,B(v._payload),I)}if(Cf(v))return E(R,w,v,I);if(af(v))return S(R,w,v,I);Ep(R,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(R,w.sibling),w=i(w,v),w.return=R,R=w):(n(R,w),w=Yv(v,R.mode,I),w.return=R,R=w),o(R)):n(R,w)}return C}var lc=zD(!0),HD=zD(!1),Om=wa(null),Nm=null,Vu=null,yT=null;function vT(){yT=Vu=Nm=null}function _T(t){var e=Om.current;zt(Om),t._currentValue=e}function EE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yu(t,e){Nm=t,yT=Vu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kr=!0),t.firstContext=null)}function gi(t){var e=t._currentValue;if(yT!==t)if(t={context:t,memoizedValue:e,next:null},Vu===null){if(Nm===null)throw Error(ve(308));Vu=t,Nm.dependencies={lanes:0,firstContext:t}}else Vu=Vu.next=t;return e}var tl=null;function wT(t){tl===null?tl=[t]:tl.push(t)}function qD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wT(e)):(n.next=i.next,i.next=n),e.interleaved=n,io(t,r)}function io(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function ET(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,io(t,n)}return i=r.interleaved,i===null?(e.next=e,wT(r)):(e.next=i.next,i.next=e),r.interleaved=e,io(t,n)}function Kp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}function TI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dm(t,e,n,r){var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=u=l=null,a=s;do{var y=a.lane,_=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(y=e,_=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){p=E.call(_,p,y);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,y=typeof E=="function"?E.call(_,p,y):E,y==null)break e;p=en({},p,y);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=_,l=p):d=d.next=_,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wl|=o,t.lanes=o,t.memoizedState=p}}function SI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Jd={},_s=wa(Jd),bd=wa(Jd),Td=wa(Jd);function nl(t){if(t===Jd)throw Error(ve(174));return t}function bT(t,e){switch(Mt(Td,e),Mt(bd,t),Mt(_s,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tE(e,t)}zt(_s),Mt(_s,e)}function uc(){zt(_s),zt(bd),zt(Td)}function KD(t){nl(Td.current);var e=nl(_s.current),n=tE(e,t.type);e!==n&&(Mt(bd,t),Mt(_s,n))}function TT(t){bd.current===t&&(zt(_s),zt(bd))}var Jt=wa(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hv=[];function ST(){for(var t=0;t<Hv.length;t++)Hv[t]._workInProgressVersionPrimary=null;Hv.length=0}var Gp=mo.ReactCurrentDispatcher,qv=mo.ReactCurrentBatchConfig,_l=0,Zt=null,Rn=null,Ln=null,Mm=!1,Wf=!1,Sd=0,t7=0;function Zn(){throw Error(ve(321))}function xT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wi(t[n],e[n]))return!1;return!0}function RT(t,e,n,r,i,s){if(_l=s,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gp.current=t===null||t.memoizedState===null?s7:o7,t=n(r,i),Wf){s=0;do{if(Wf=!1,Sd=0,25<=s)throw Error(ve(301));s+=1,Ln=Rn=null,e.updateQueue=null,Gp.current=a7,t=n(r,i)}while(Wf)}if(Gp.current=Fm,e=Rn!==null&&Rn.next!==null,_l=0,Ln=Rn=Zt=null,Mm=!1,e)throw Error(ve(300));return t}function IT(){var t=Sd!==0;return Sd=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Zt.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function yi(){if(Rn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Rn.next;var e=Ln===null?Zt.memoizedState:Ln.next;if(e!==null)Ln=e,Rn=t;else{if(t===null)throw Error(ve(310));Rn=t,t={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Ln===null?Zt.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function xd(t,e){return typeof e=="function"?e(t):e}function Wv(t){var e=yi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((_l&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Zt.lanes|=d,wl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wi(r,e.memoizedState)||(kr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Zt.lanes|=s,wl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kv(t){var e=yi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wi(s,e.memoizedState)||(kr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GD(){}function QD(t,e){var n=Zt,r=yi(),i=e(),s=!Wi(r.memoizedState,i);if(s&&(r.memoizedState=i,kr=!0),r=r.queue,CT(JD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ln!==null&&Ln.memoizedState.tag&1){if(n.flags|=2048,Rd(9,XD.bind(null,n,r,i,e),void 0,null),jn===null)throw Error(ve(349));_l&30||YD(n,e,i)}return i}function YD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XD(t,e,n,r){e.value=n,e.getSnapshot=r,ZD(e)&&e4(t)}function JD(t,e,n){return n(function(){ZD(e)&&e4(t)})}function ZD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wi(t,n)}catch{return!0}}function e4(t){var e=io(t,1);e!==null&&$i(e,t,1,-1)}function xI(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},e.queue=t,t=t.dispatch=i7.bind(null,Zt,t),[e.memoizedState,t]}function Rd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t4(){return yi().memoizedState}function Qp(t,e,n,r){var i=fs();Zt.flags|=t,i.memoizedState=Rd(1|e,n,void 0,r===void 0?null:r)}function zg(t,e,n,r){var i=yi();r=r===void 0?null:r;var s=void 0;if(Rn!==null){var o=Rn.memoizedState;if(s=o.destroy,r!==null&&xT(r,o.deps)){i.memoizedState=Rd(e,n,s,r);return}}Zt.flags|=t,i.memoizedState=Rd(1|e,n,s,r)}function RI(t,e){return Qp(8390656,8,t,e)}function CT(t,e){return zg(2048,8,t,e)}function n4(t,e){return zg(4,2,t,e)}function r4(t,e){return zg(4,4,t,e)}function i4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s4(t,e,n){return n=n!=null?n.concat([t]):null,zg(4,4,i4.bind(null,e,t),n)}function AT(){}function o4(t,e){var n=yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function a4(t,e){var n=yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function l4(t,e,n){return _l&21?(Wi(n,e)||(n=hD(),Zt.lanes|=n,wl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kr=!0),t.memoizedState=n)}function n7(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=qv.transition;qv.transition={};try{t(!1),e()}finally{Ct=n,qv.transition=r}}function u4(){return yi().memoizedState}function r7(t,e,n){var r=ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c4(t))f4(e,n);else if(n=qD(t,e,n,r),n!==null){var i=Er();$i(n,t,r,i),d4(n,e,r)}}function i7(t,e,n){var r=ta(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c4(t))f4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wi(a,o)){var l=e.interleaved;l===null?(i.next=i,wT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qD(t,e,i,r),n!==null&&(i=Er(),$i(n,t,r,i),d4(n,e,r))}}function c4(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function f4(t,e){Wf=Mm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function d4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}var Fm={readContext:gi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},s7={readContext:gi,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:gi,useEffect:RI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qp(4194308,4,i4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qp(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r7.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:xI,useDebugValue:AT,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=xI(!1),e=t[0];return t=n7.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=fs();if(Kt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),jn===null)throw Error(ve(349));_l&30||YD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,RI(JD.bind(null,r,s,t),[t]),r.flags|=2048,Rd(9,XD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fs(),e=jn.identifierPrefix;if(Kt){var n=qs,r=Hs;n=(r&~(1<<32-Bi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o7={readContext:gi,useCallback:o4,useContext:gi,useEffect:CT,useImperativeHandle:s4,useInsertionEffect:n4,useLayoutEffect:r4,useMemo:a4,useReducer:Wv,useRef:t4,useState:function(){return Wv(xd)},useDebugValue:AT,useDeferredValue:function(t){var e=yi();return l4(e,Rn.memoizedState,t)},useTransition:function(){var t=Wv(xd)[0],e=yi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:QD,useId:u4,unstable_isNewReconciler:!1},a7={readContext:gi,useCallback:o4,useContext:gi,useEffect:CT,useImperativeHandle:s4,useInsertionEffect:n4,useLayoutEffect:r4,useMemo:a4,useReducer:Kv,useRef:t4,useState:function(){return Kv(xd)},useDebugValue:AT,useDeferredValue:function(t){var e=yi();return Rn===null?e.memoizedState=t:l4(e,Rn.memoizedState,t)},useTransition:function(){var t=Kv(xd)[0],e=yi().memoizedState;return[t,e]},useMutableSource:GD,useSyncExternalStore:QD,useId:u4,unstable_isNewReconciler:!1};function Pi(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?jl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Er(),i=ta(t),s=Xs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&($i(e,t,i,r),Kp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Er(),i=ta(t),s=Xs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&($i(e,t,i,r),Kp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Er(),r=ta(t),i=Xs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zo(t,i,r),e!==null&&($i(e,t,r,n),Kp(e,t,r))}};function II(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vd(n,r)||!vd(i,s):!0}function h4(t,e,n){var r=!1,i=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=gi(s):(i=Dr(e)?yl:cr.current,r=e.contextTypes,s=(r=r!=null)?oc(t,i):ca),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function CI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function TE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ET(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gi(s):(s=Dr(e)?yl:cr.current,i.context=oc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hg.enqueueReplaceState(i,i.state,null),Dm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cc(t,e){try{var n="",r=e;do n+=LU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function SE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l7=typeof WeakMap=="function"?WeakMap:Map;function p4(t,e,n){n=Xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vm||(Vm=!0,DE=r),SE(t,e)},n}function m4(t,e,n){n=Xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){SE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){SE(t,e),typeof r!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function AI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b7.bind(null,t,e,n),e.then(t,t))}function PI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xs(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var u7=mo.ReactCurrentOwner,kr=!1;function gr(t,e,n,r){e.child=t===null?HD(e,null,n,r):lc(e,t.child,n,r)}function OI(t,e,n,r,i){n=n.render;var s=e.ref;return Yu(e,i),r=RT(t,e,n,r,s,i),n=IT(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(Kt&&n&&pT(e),e.flags|=1,gr(t,e,r,i),e.child)}function NI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!FT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,g4(t,e,s,r,i)):(t=Zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vd,n(o,r)&&t.ref===e.ref)return so(t,e,i)}return e.flags|=1,t=na(s,r),t.ref=e.ref,t.return=e,e.child=t}function g4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vd(s,r)&&t.ref===e.ref)if(kr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kr=!0);else return e.lanes=t.lanes,so(t,e,i)}return xE(t,e,n,r,i)}function y4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Bu,zr),zr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(Bu,zr),zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Mt(Bu,zr),zr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Mt(Bu,zr),zr|=r;return gr(t,e,i,n),e.child}function v4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xE(t,e,n,r,i){var s=Dr(n)?yl:cr.current;return s=oc(e,s),Yu(e,i),n=RT(t,e,n,r,s,i),r=IT(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(Kt&&r&&pT(e),e.flags|=1,gr(t,e,n,i),e.child)}function DI(t,e,n,r,i){if(Dr(n)){var s=!0;Am(e)}else s=!1;if(Yu(e,i),e.stateNode===null)Yp(t,e),h4(e,n,r),TE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gi(u):(u=Dr(n)?yl:cr.current,u=oc(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&CI(e,o,r,u),Lo=!1;var y=e.memoizedState;o.state=y,Dm(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Nr.current||Lo?(typeof d=="function"&&(bE(e,n,d,r),l=e.memoizedState),(a=Lo||II(e,n,a,r,y,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pi(e.type,a),o.props=u,p=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gi(l):(l=Dr(n)?yl:cr.current,l=oc(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&CI(e,o,r,l),Lo=!1,y=e.memoizedState,o.state=y,Dm(e,r,o,i);var E=e.memoizedState;a!==p||y!==E||Nr.current||Lo?(typeof _=="function"&&(bE(e,n,_,r),E=e.memoizedState),(u=Lo||II(e,n,u,r,y,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return RE(t,e,n,r,s,i)}function RE(t,e,n,r,i,s){v4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_I(e,n,!1),so(t,e,s);r=e.stateNode,u7.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lc(e,t.child,null,s),e.child=lc(e,null,a,s)):gr(t,e,a,s),e.memoizedState=r.state,i&&_I(e,n,!0),e.child}function _4(t){var e=t.stateNode;e.pendingContext?vI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vI(t,e.context,!1),bT(t,e.containerInfo)}function LI(t,e,n,r,i){return ac(),gT(i),e.flags|=256,gr(t,e,n,r),e.child}var IE={dehydrated:null,treeContext:null,retryLane:0};function CE(t){return{baseLanes:t,cachePool:null,transitions:null}}function w4(t,e,n){var r=e.pendingProps,i=Jt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mt(Jt,i&1),t===null)return wE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kg(o,r,0,null),t=fl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=CE(n),e.memoizedState=IE,t):PT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c7(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=na(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=na(a,s):(s=fl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?CE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=IE,r}return s=t.child,t=s.sibling,r=na(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function PT(t,e){return e=Kg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bp(t,e,n,r){return r!==null&&gT(r),lc(e,t.child,null,n),t=PT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gv(Error(ve(422))),bp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kg({mode:"visible",children:r.children},i,0,null),s=fl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lc(e,t.child,null,o),e.child.memoizedState=CE(o),e.memoizedState=IE,s);if(!(e.mode&1))return bp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ve(419)),r=Gv(s,r,void 0),bp(t,e,o,r)}if(a=(o&t.childLanes)!==0,kr||a){if(r=jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,io(t,i),$i(r,t,i,-1))}return MT(),r=Gv(Error(ve(421))),bp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wr=Jo(i.nextSibling),Yr=e,Kt=!0,Ni=null,t!==null&&(ui[ci++]=Hs,ui[ci++]=qs,ui[ci++]=vl,Hs=t.id,qs=t.overflow,vl=e),e=PT(e,r.children),e.flags|=4096,e)}function MI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),EE(t.return,e,n)}function Qv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function E4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gr(t,e,r.children,n),r=Jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&MI(t,n,e);else if(t.tag===19)MI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mt(Jt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qv(e,!0,n,null,s);break;case"together":Qv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f7(t,e,n){switch(e.tag){case 3:_4(e),ac();break;case 5:KD(e);break;case 1:Dr(e.type)&&Am(e);break;case 4:bT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mt(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Mt(Jt,Jt.current&1),e.flags|=128,null):n&e.child.childLanes?w4(t,e,n):(Mt(Jt,Jt.current&1),t=so(t,e,n),t!==null?t.sibling:null);Mt(Jt,Jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(Jt,Jt.current),r)break;return null;case 22:case 23:return e.lanes=0,y4(t,e,n)}return so(t,e,n)}var b4,AE,T4,S4;b4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AE=function(){};T4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,nl(_s.current);var s=null;switch(n){case"input":i=X1(t,i),r=X1(t,r),s=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":i=eE(t,i),r=eE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Im)}nE(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&jt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};S4=function(t,e,n,r){n!==r&&(e.flags|=4)};function hf(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d7(t,e,n){var r=e.pendingProps;switch(mT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return Dr(e.type)&&Cm(),er(e),null;case 3:return r=e.stateNode,uc(),zt(Nr),zt(cr),ST(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ni!==null&&(FE(Ni),Ni=null))),AE(t,e),er(e),null;case 5:TT(e);var i=nl(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)T4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return er(e),null}if(t=nl(_s.current),wp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hs]=e,r[Ed]=s,t=(e.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(i=0;i<Pf.length;i++)jt(Pf[i],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":qR(r,s),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jt("invalid",r);break;case"textarea":KR(r,s),jt("invalid",r)}nE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,t),i=["children",""+a]):fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",r)}switch(n){case"input":fp(r),WR(r,s,!0);break;case"textarea":fp(r),GR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Im)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hs]=e,t[Ed]=r,b4(t,e,!1,!1),e.stateNode=t;e:{switch(o=rE(n,r),n){case"dialog":jt("cancel",t),jt("close",t),i=r;break;case"iframe":case"object":case"embed":jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pf.length;i++)jt(Pf[i],t);i=r;break;case"source":jt("error",t),i=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),i=r;break;case"details":jt("toggle",t),i=r;break;case"input":qR(t,r),i=X1(t,r),jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),jt("invalid",t);break;case"textarea":KR(t,r),i=eE(t,r),jt("invalid",t);break;default:i=r}nE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tD(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZN(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dd(t,l):typeof l=="number"&&dd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jt("scroll",t):l!=null&&eT(t,s,l,o))}switch(n){case"input":fp(t),WR(t,r,!1);break;case"textarea":fp(t),GR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ua(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)S4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=nl(Td.current),nl(_s.current),wp(e)){if(r=e.stateNode,n=e.memoizedProps,r[hs]=e,(s=r.nodeValue!==n)&&(t=Yr,t!==null))switch(t.tag){case 3:_p(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_p(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hs]=e,e.stateNode=r}return er(e),null;case 13:if(zt(Jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&Wr!==null&&e.mode&1&&!(e.flags&128))$D(),ac(),e.flags|=98560,s=!1;else if(s=wp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[hs]=e}else ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else Ni!==null&&(FE(Ni),Ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?In===0&&(In=3):MT())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return uc(),AE(t,e),t===null&&_d(e.stateNode.containerInfo),er(e),null;case 10:return _T(e.type._context),er(e),null;case 17:return Dr(e.type)&&Cm(),er(e),null;case 19:if(zt(Jt),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hf(s,!1);else{if(In!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lm(t),o!==null){for(e.flags|=128,hf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mt(Jt,Jt.current&1|2),e.child}t=t.sibling}s.tail!==null&&cn()>fc&&(e.flags|=128,r=!0,hf(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Kt)return er(e),null}else 2*cn()-s.renderingStartTime>fc&&n!==1073741824&&(e.flags|=128,r=!0,hf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=cn(),e.sibling=null,n=Jt.current,Mt(Jt,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return LT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function h7(t,e){switch(mT(e),e.tag){case 1:return Dr(e.type)&&Cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uc(),zt(Nr),zt(cr),ST(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return TT(e),null;case 13:if(zt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(Jt),null;case 4:return uc(),null;case 10:return _T(e.type._context),null;case 22:case 23:return LT(),null;case 24:return null;default:return null}}var Tp=!1,ir=!1,p7=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Uu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(t,e,r)}else n.current=null}function PE(t,e,n){try{n()}catch(r){on(t,e,r)}}var FI=!1;function m7(t,e){if(hE=Sm,t=AD(),hT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,y=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)y=p,p=_;for(;;){if(p===t)break t;if(y===n&&++u===i&&(a=o),y===s&&++d===r&&(l=o),(_=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pE={focusedElem:t,selectionRange:n},Sm=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,R=e.stateNode,w=R.getSnapshotBeforeUpdate(e.elementType===e.type?S:Pi(e.type,S),C);R.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(I){on(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return E=FI,FI=!1,E}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PE(e,n,s)}i=i.next}while(i!==r)}}function qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x4(t){var e=t.alternate;e!==null&&(t.alternate=null,x4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hs],delete e[Ed],delete e[yE],delete e[X9],delete e[J9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R4(t){return t.tag===5||t.tag===3||t.tag===4}function jI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Im));else if(r!==4&&(t=t.child,t!==null))for(OE(t,e,n),t=t.sibling;t!==null;)OE(t,e,n),t=t.sibling}function NE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(NE(t,e,n),t=t.sibling;t!==null;)NE(t,e,n),t=t.sibling}var Un=null,ki=!1;function Po(t,e,n){for(n=n.child;n!==null;)I4(t,e,n),n=n.sibling}function I4(t,e,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Fg,n)}catch{}switch(n.tag){case 5:ir||Uu(n,e);case 6:var r=Un,i=ki;Un=null,Po(t,e,n),Un=r,ki=i,Un!==null&&(ki?(t=Un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(ki?(t=Un,n=n.stateNode,t.nodeType===8?$v(t.parentNode,n):t.nodeType===1&&$v(t,n),gd(t)):$v(Un,n.stateNode));break;case 4:r=Un,i=ki,Un=n.stateNode.containerInfo,ki=!0,Po(t,e,n),Un=r,ki=i;break;case 0:case 11:case 14:case 15:if(!ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&PE(n,e,o),i=i.next}while(i!==r)}Po(t,e,n);break;case 1:if(!ir&&(Uu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){on(n,e,a)}Po(t,e,n);break;case 21:Po(t,e,n);break;case 22:n.mode&1?(ir=(r=ir)||n.memoizedState!==null,Po(t,e,n),ir=r):Po(t,e,n);break;default:Po(t,e,n)}}function VI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p7),e.forEach(function(r){var i=S7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ci(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,ki=!1;break e;case 3:Un=a.stateNode.containerInfo,ki=!0;break e;case 4:Un=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(Un===null)throw Error(ve(160));I4(s,o,i),Un=null,ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){on(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C4(e,t),e=e.sibling}function C4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ci(e,t),cs(t),r&4){try{Kf(3,t,t.return),qg(3,t)}catch(S){on(t,t.return,S)}try{Kf(5,t,t.return)}catch(S){on(t,t.return,S)}}break;case 1:Ci(e,t),cs(t),r&512&&n!==null&&Uu(n,n.return);break;case 5:if(Ci(e,t),cs(t),r&512&&n!==null&&Uu(n,n.return),t.flags&32){var i=t.stateNode;try{dd(i,"")}catch(S){on(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YN(i,s),rE(a,o);var u=rE(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?tD(i,p):d==="dangerouslySetInnerHTML"?ZN(i,p):d==="children"?dd(i,p):eT(i,d,p,u)}switch(a){case"input":J1(i,s);break;case"textarea":XN(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Wu(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?Wu(i,!!s.multiple,s.defaultValue,!0):Wu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ed]=s}catch(S){on(t,t.return,S)}}break;case 6:if(Ci(e,t),cs(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){on(t,t.return,S)}}break;case 3:if(Ci(e,t),cs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gd(e.containerInfo)}catch(S){on(t,t.return,S)}break;case 4:Ci(e,t),cs(t);break;case 13:Ci(e,t),cs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(NT=cn())),r&4&&VI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ir=(u=ir)||d,Ci(e,t),ir=u):Ci(e,t),cs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ne=t,d=t.child;d!==null;){for(p=Ne=d;Ne!==null;){switch(y=Ne,_=y.child,y.tag){case 0:case 11:case 14:case 15:Kf(4,y,y.return);break;case 1:Uu(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){on(r,n,S)}}break;case 5:Uu(y,y.return);break;case 22:if(y.memoizedState!==null){BI(p);continue}}_!==null?(_.return=y,Ne=_):BI(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eD("display",o))}catch(S){on(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){on(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ci(e,t),cs(t),r&4&&VI(t);break;case 21:break;default:Ci(e,t),cs(t)}}function cs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R4(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dd(i,""),r.flags&=-33);var s=jI(t);NE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jI(t);OE(t,a,o);break;default:throw Error(ve(161))}}catch(l){on(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g7(t,e,n){Ne=t,A4(t)}function A4(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var i=Ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ir;a=Tp;var u=ir;if(Tp=o,(ir=l)&&!u)for(Ne=i;Ne!==null;)o=Ne,l=o.child,o.tag===22&&o.memoizedState!==null?$I(i):l!==null?(l.return=o,Ne=l):$I(i);for(;s!==null;)Ne=s,A4(s),s=s.sibling;Ne=i,Tp=a,ir=u}UI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ne=s):UI(t)}}function UI(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ir||qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&SI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}SI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&gd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}ir||e.flags&512&&kE(e)}catch(y){on(e,e.return,y)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function BI(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function $I(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qg(4,e)}catch(l){on(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){on(e,i,l)}}var s=e.return;try{kE(e)}catch(l){on(e,s,l)}break;case 5:var o=e.return;try{kE(e)}catch(l){on(e,o,l)}}}catch(l){on(e,e.return,l)}if(e===t){Ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ne=a;break}Ne=e.return}}var y7=Math.ceil,jm=mo.ReactCurrentDispatcher,kT=mo.ReactCurrentOwner,pi=mo.ReactCurrentBatchConfig,wt=0,jn=null,yn=null,Hn=0,zr=0,Bu=wa(0),In=0,Id=null,wl=0,Wg=0,OT=0,Gf=null,Cr=null,NT=0,fc=1/0,Bs=null,Vm=!1,DE=null,ea=null,Sp=!1,Ho=null,Um=0,Qf=0,LE=null,Xp=-1,Jp=0;function Er(){return wt&6?cn():Xp!==-1?Xp:Xp=cn()}function ta(t){return t.mode&1?wt&2&&Hn!==0?Hn&-Hn:e7.transition!==null?(Jp===0&&(Jp=hD()),Jp):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:wD(t.type)),t):1}function $i(t,e,n,r){if(50<Qf)throw Qf=0,LE=null,Error(ve(185));Qd(t,n,r),(!(wt&2)||t!==jn)&&(t===jn&&(!(wt&2)&&(Wg|=n),In===4&&Fo(t,Hn)),Lr(t,r),n===1&&wt===0&&!(e.mode&1)&&(fc=cn()+500,$g&&Ea()))}function Lr(t,e){var n=t.callbackNode;e9(t,e);var r=Tm(t,t===jn?Hn:0);if(r===0)n!==null&&XR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XR(n),e===1)t.tag===0?Z9(zI.bind(null,t)):VD(zI.bind(null,t)),Q9(function(){!(wt&6)&&Ea()}),n=null;else{switch(pD(r)){case 1:n=sT;break;case 4:n=fD;break;case 16:n=bm;break;case 536870912:n=dD;break;default:n=bm}n=F4(n,P4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P4(t,e){if(Xp=-1,Jp=0,wt&6)throw Error(ve(327));var n=t.callbackNode;if(Xu()&&t.callbackNode!==n)return null;var r=Tm(t,t===jn?Hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bm(t,r);else{e=r;var i=wt;wt|=2;var s=O4();(jn!==t||Hn!==e)&&(Bs=null,fc=cn()+500,cl(t,e));do try{w7();break}catch(a){k4(t,a)}while(!0);vT(),jm.current=s,wt=i,yn!==null?e=0:(jn=null,Hn=0,e=In)}if(e!==0){if(e===2&&(i=lE(t),i!==0&&(r=i,e=ME(t,i))),e===1)throw n=Id,cl(t,0),Fo(t,r),Lr(t,cn()),n;if(e===6)Fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!v7(i)&&(e=Bm(t,r),e===2&&(s=lE(t),s!==0&&(r=s,e=ME(t,s))),e===1))throw n=Id,cl(t,0),Fo(t,r),Lr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Qa(t,Cr,Bs);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=NT+500-cn(),10<e)){if(Tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Er(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gE(Qa.bind(null,t,Cr,Bs),e);break}Qa(t,Cr,Bs);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y7(r/1960))-r,10<r){t.timeoutHandle=gE(Qa.bind(null,t,Cr,Bs),r);break}Qa(t,Cr,Bs);break;case 5:Qa(t,Cr,Bs);break;default:throw Error(ve(329))}}}return Lr(t,cn()),t.callbackNode===n?P4.bind(null,t):null}function ME(t,e){var n=Gf;return t.current.memoizedState.isDehydrated&&(cl(t,e).flags|=256),t=Bm(t,e),t!==2&&(e=Cr,Cr=n,e!==null&&FE(e)),t}function FE(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function v7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~OT,e&=~Wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bi(e),r=1<<n;t[n]=-1,e&=~r}}function zI(t){if(wt&6)throw Error(ve(327));Xu();var e=Tm(t,0);if(!(e&1))return Lr(t,cn()),null;var n=Bm(t,e);if(t.tag!==0&&n===2){var r=lE(t);r!==0&&(e=r,n=ME(t,r))}if(n===1)throw n=Id,cl(t,0),Fo(t,e),Lr(t,cn()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qa(t,Cr,Bs),Lr(t,cn()),null}function DT(t,e){var n=wt;wt|=1;try{return t(e)}finally{wt=n,wt===0&&(fc=cn()+500,$g&&Ea())}}function El(t){Ho!==null&&Ho.tag===0&&!(wt&6)&&Xu();var e=wt;wt|=1;var n=pi.transition,r=Ct;try{if(pi.transition=null,Ct=1,t)return t()}finally{Ct=r,pi.transition=n,wt=e,!(wt&6)&&Ea()}}function LT(){zr=Bu.current,zt(Bu)}function cl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G9(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(mT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:uc(),zt(Nr),zt(cr),ST();break;case 5:TT(r);break;case 4:uc();break;case 13:zt(Jt);break;case 19:zt(Jt);break;case 10:_T(r.type._context);break;case 22:case 23:LT()}n=n.return}if(jn=t,yn=t=na(t.current,null),Hn=zr=e,In=0,Id=null,OT=Wg=wl=0,Cr=Gf=null,tl!==null){for(e=0;e<tl.length;e++)if(n=tl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}tl=null}return t}function k4(t,e){do{var n=yn;try{if(vT(),Gp.current=Fm,Mm){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mm=!1}if(_l=0,Ln=Rn=Zt=null,Wf=!1,Sd=0,kT.current=null,n===null||n.return===null){In=1,Id=e,yn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=PI(o);if(_!==null){_.flags&=-257,kI(_,o,a,s,e),_.mode&1&&AI(s,u,e),e=_,l=u;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){AI(s,u,e),MT();break e}l=Error(ve(426))}}else if(Kt&&a.mode&1){var C=PI(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),kI(C,o,a,s,e),gT(cc(l,a));break e}}s=l=cc(l,a),In!==4&&(In=2),Gf===null?Gf=[s]:Gf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=p4(s,l,e);TI(s,R);break e;case 1:a=l;var w=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ea===null||!ea.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=m4(s,a,e);TI(s,I);break e}}s=s.return}while(s!==null)}D4(n)}catch(k){e=k,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function O4(){var t=jm.current;return jm.current=Fm,t===null?Fm:t}function MT(){(In===0||In===3||In===2)&&(In=4),jn===null||!(wl&268435455)&&!(Wg&268435455)||Fo(jn,Hn)}function Bm(t,e){var n=wt;wt|=2;var r=O4();(jn!==t||Hn!==e)&&(Bs=null,cl(t,e));do try{_7();break}catch(i){k4(t,i)}while(!0);if(vT(),wt=n,jm.current=r,yn!==null)throw Error(ve(261));return jn=null,Hn=0,In}function _7(){for(;yn!==null;)N4(yn)}function w7(){for(;yn!==null&&!qU();)N4(yn)}function N4(t){var e=M4(t.alternate,t,zr);t.memoizedProps=t.pendingProps,e===null?D4(t):yn=e,kT.current=null}function D4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h7(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{In=6,yn=null;return}}else if(n=d7(n,e,zr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);In===0&&(In=5)}function Qa(t,e,n){var r=Ct,i=pi.transition;try{pi.transition=null,Ct=1,E7(t,e,n,r)}finally{pi.transition=i,Ct=r}return null}function E7(t,e,n,r){do Xu();while(Ho!==null);if(wt&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(t9(t,s),t===jn&&(yn=jn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sp||(Sp=!0,F4(bm,function(){return Xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pi.transition,pi.transition=null;var o=Ct;Ct=1;var a=wt;wt|=4,kT.current=null,m7(t,n),C4(n,t),B9(pE),Sm=!!hE,pE=hE=null,t.current=n,g7(n),WU(),wt=a,Ct=o,pi.transition=s}else t.current=n;if(Sp&&(Sp=!1,Ho=t,Um=i),s=t.pendingLanes,s===0&&(ea=null),QU(n.stateNode),Lr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vm)throw Vm=!1,t=DE,DE=null,t;return Um&1&&t.tag!==0&&Xu(),s=t.pendingLanes,s&1?t===LE?Qf++:(Qf=0,LE=t):Qf=0,Ea(),null}function Xu(){if(Ho!==null){var t=pD(Um),e=pi.transition,n=Ct;try{if(pi.transition=null,Ct=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,Um=0,wt&6)throw Error(ve(331));var i=wt;for(wt|=4,Ne=t.current;Ne!==null;){var s=Ne,o=s.child;if(Ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:Kf(8,d,s)}var p=d.child;if(p!==null)p.return=d,Ne=p;else for(;Ne!==null;){d=Ne;var y=d.sibling,_=d.return;if(x4(d),d===u){Ne=null;break}if(y!==null){y.return=_,Ne=y;break}Ne=_}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ne=o;else e:for(;Ne!==null;){if(s=Ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kf(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,Ne=R;break e}Ne=s.return}}var w=t.current;for(Ne=w;Ne!==null;){o=Ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ne=v;else e:for(o=w;Ne!==null;){if(a=Ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qg(9,a)}}catch(k){on(a,a.return,k)}if(a===o){Ne=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Ne=I;break e}Ne=a.return}}if(wt=i,Ea(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Fg,t)}catch{}r=!0}return r}finally{Ct=n,pi.transition=e}}return!1}function HI(t,e,n){e=cc(n,e),e=p4(t,e,1),t=Zo(t,e,1),e=Er(),t!==null&&(Qd(t,1,e),Lr(t,e))}function on(t,e,n){if(t.tag===3)HI(t,t,n);else for(;e!==null;){if(e.tag===3){HI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){t=cc(n,t),t=m4(e,t,1),e=Zo(e,t,1),t=Er(),e!==null&&(Qd(e,1,t),Lr(e,t));break}}e=e.return}}function b7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Er(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(Hn&n)===n&&(In===4||In===3&&(Hn&130023424)===Hn&&500>cn()-NT?cl(t,0):OT|=n),Lr(t,e)}function L4(t,e){e===0&&(t.mode&1?(e=pp,pp<<=1,!(pp&130023424)&&(pp=4194304)):e=1);var n=Er();t=io(t,e),t!==null&&(Qd(t,e,n),Lr(t,n))}function T7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L4(t,n)}function S7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),L4(t,n)}var M4;M4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)kr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kr=!1,f7(t,e,n);kr=!!(t.flags&131072)}else kr=!1,Kt&&e.flags&1048576&&UD(e,km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yp(t,e),t=e.pendingProps;var i=oc(e,cr.current);Yu(e,n),i=RT(null,e,r,t,i,n);var s=IT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dr(r)?(s=!0,Am(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ET(e),i.updater=Hg,e.stateNode=i,i._reactInternals=e,TE(e,r,t,n),e=RE(null,e,r,!0,s,n)):(e.tag=0,Kt&&s&&pT(e),gr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R7(r),t=Pi(r,t),i){case 0:e=xE(null,e,r,t,n);break e;case 1:e=DI(null,e,r,t,n);break e;case 11:e=OI(null,e,r,t,n);break e;case 14:e=NI(null,e,r,Pi(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),xE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),DI(t,e,r,i,n);case 3:e:{if(_4(e),t===null)throw Error(ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WD(t,e),Dm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cc(Error(ve(423)),e),e=LI(t,e,r,n,i);break e}else if(r!==i){i=cc(Error(ve(424)),e),e=LI(t,e,r,n,i);break e}else for(Wr=Jo(e.stateNode.containerInfo.firstChild),Yr=e,Kt=!0,Ni=null,n=HD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ac(),r===i){e=so(t,e,n);break e}gr(t,e,r,n)}e=e.child}return e;case 5:return KD(e),t===null&&wE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mE(r,i)?o=null:s!==null&&mE(r,s)&&(e.flags|=32),v4(t,e),gr(t,e,o,n),e.child;case 6:return t===null&&wE(e),null;case 13:return w4(t,e,n);case 4:return bT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lc(e,null,r,n):gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),OI(t,e,r,i,n);case 7:return gr(t,e,e.pendingProps,n),e.child;case 8:return gr(t,e,e.pendingProps.children,n),e.child;case 12:return gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Mt(Om,r._currentValue),r._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===i.children&&!Nr.current){e=so(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),EE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ve(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),EE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yu(e,n),i=gi(i),r=r(i),e.flags|=1,gr(t,e,r,n),e.child;case 14:return r=e.type,i=Pi(r,e.pendingProps),i=Pi(r.type,i),NI(t,e,r,i,n);case 15:return g4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),Yp(t,e),e.tag=1,Dr(r)?(t=!0,Am(e)):t=!1,Yu(e,n),h4(e,r,i),TE(e,r,i,n),RE(null,e,r,!0,t,n);case 19:return E4(t,e,n);case 22:return y4(t,e,n)}throw Error(ve(156,e.tag))};function F4(t,e){return cD(t,e)}function x7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(t,e,n,r){return new x7(t,e,n,r)}function FT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R7(t){if(typeof t=="function")return FT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nT)return 11;if(t===rT)return 14}return 2}function na(t,e){var n=t.alternate;return n===null?(n=di(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")FT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ku:return fl(n.children,i,s,e);case tT:o=8,i|=8;break;case K1:return t=di(12,n,e,i|2),t.elementType=K1,t.lanes=s,t;case G1:return t=di(13,n,e,i),t.elementType=G1,t.lanes=s,t;case Q1:return t=di(19,n,e,i),t.elementType=Q1,t.lanes=s,t;case KN:return Kg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qN:o=10;break e;case WN:o=9;break e;case nT:o=11;break e;case rT:o=14;break e;case Do:o=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=di(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fl(t,e,n,r){return t=di(7,t,r,e),t.lanes=n,t}function Kg(t,e,n,r){return t=di(22,t,r,e),t.elementType=KN,t.lanes=n,t.stateNode={isHidden:!1},t}function Yv(t,e,n){return t=di(6,t,null,e),t.lanes=n,t}function Xv(t,e,n){return e=di(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kv(0),this.expirationTimes=kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jT(t,e,n,r,i,s,o,a,l){return t=new I7(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=di(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ET(s),t}function C7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j4(t){if(!t)return ca;t=t._reactInternals;e:{if(jl(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(Dr(n))return jD(t,n,e)}return e}function V4(t,e,n,r,i,s,o,a,l){return t=jT(n,r,!0,t,i,s,o,a,l),t.context=j4(null),n=t.current,r=Er(),i=ta(n),s=Xs(r,i),s.callback=e??null,Zo(n,s,i),t.current.lanes=i,Qd(t,i,r),Lr(t,r),t}function Gg(t,e,n,r){var i=e.current,s=Er(),o=ta(i);return n=j4(n),e.context===null?e.context=n:e.pendingContext=n,e=Xs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(i,e,o),t!==null&&($i(t,i,o,s),Kp(t,i,o)),o}function $m(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VT(t,e){qI(t,e),(t=t.alternate)&&qI(t,e)}function A7(){return null}var U4=typeof reportError=="function"?reportError:function(t){console.error(t)};function UT(t){this._internalRoot=t}Qg.prototype.render=UT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Gg(t,e,null,null)};Qg.prototype.unmount=UT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;El(function(){Gg(null,t,null,null)}),e[ro]=null}};function Qg(t){this._internalRoot=t}Qg.prototype.unstable_scheduleHydration=function(t){if(t){var e=yD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&_D(t)}};function BT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WI(){}function P7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$m(o);s.call(u)}}var o=V4(e,r,t,0,null,!1,!1,"",WI);return t._reactRootContainer=o,t[ro]=o.current,_d(t.nodeType===8?t.parentNode:t),El(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$m(l);a.call(u)}}var l=jT(t,0,!1,null,null,!1,!1,"",WI);return t._reactRootContainer=l,t[ro]=l.current,_d(t.nodeType===8?t.parentNode:t),El(function(){Gg(e,l,n,r)}),l}function Xg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$m(o);a.call(l)}}Gg(e,o,t,i)}else o=P7(n,e,t,i,r);return $m(o)}mD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Af(e.pendingLanes);n!==0&&(oT(e,n|1),Lr(e,cn()),!(wt&6)&&(fc=cn()+500,Ea()))}break;case 13:El(function(){var r=io(t,1);if(r!==null){var i=Er();$i(r,t,1,i)}}),VT(t,1)}};aT=function(t){if(t.tag===13){var e=io(t,134217728);if(e!==null){var n=Er();$i(e,t,134217728,n)}VT(t,134217728)}};gD=function(t){if(t.tag===13){var e=ta(t),n=io(t,e);if(n!==null){var r=Er();$i(n,t,e,r)}VT(t,e)}};yD=function(){return Ct};vD=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};sE=function(t,e,n){switch(e){case"input":if(J1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bg(r);if(!i)throw Error(ve(90));QN(r),J1(r,i)}}}break;case"textarea":XN(t,n);break;case"select":e=n.value,e!=null&&Wu(t,!!n.multiple,e,!1)}};iD=DT;sD=El;var k7={usingClientEntryPoint:!1,Events:[Xd,Lu,Bg,nD,rD,DT]},pf={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O7={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lD(t),t===null?null:t.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||A7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{Fg=xp.inject(O7),vs=xp}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k7;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BT(e))throw Error(ve(200));return C7(t,e,null,n)};ti.createRoot=function(t,e){if(!BT(t))throw Error(ve(299));var n=!1,r="",i=U4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jT(t,1,!1,null,null,n,!1,r,i),t[ro]=e.current,_d(t.nodeType===8?t.parentNode:t),new UT(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=lD(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return El(t)};ti.hydrate=function(t,e,n){if(!Yg(e))throw Error(ve(200));return Xg(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!BT(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=U4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=V4(e,null,t,1,n??null,i,!1,s,o),t[ro]=e.current,_d(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qg(e)};ti.render=function(t,e,n){if(!Yg(e))throw Error(ve(200));return Xg(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!Yg(t))throw Error(ve(40));return t._reactRootContainer?(El(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[ro]=null})}),!0):!1};ti.unstable_batchedUpdates=DT;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yg(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Xg(t,e,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function B4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B4)}catch(t){console.error(t)}}B4(),BN.exports=ti;var Mr=BN.exports;const N7=Kb(Mr),D7=AN({__proto__:null,default:N7},[Mr]);var $4,KI=Mr;$4=KI.createRoot,KI.hydrateRoot;const L7="modulepreload",M7=function(t){return"/r-social/"+t},GI={},F7=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=M7(a),a in GI)return;GI[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":L7,l||(d.as="script"),d.crossOrigin="",d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Zd=t=>t.type==="checkbox",$u=t=>t instanceof Date,yr=t=>t==null;const z4=t=>typeof t=="object";var wn=t=>!yr(t)&&!Array.isArray(t)&&z4(t)&&!$u(t),j7=t=>wn(t)&&t.target?Zd(t.target)?t.target.checked:t.target.value:t,V7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,U7=(t,e)=>t.has(V7(e)),B7=t=>{const e=t.constructor&&t.constructor.prototype;return wn(e)&&e.hasOwnProperty("isPrototypeOf")},$T=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function li(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($T&&(t instanceof Blob||t instanceof FileList))&&(n||wn(t)))if(e=n?[]:{},!n&&!B7(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=li(t[r]));else return t;return e}var Jg=t=>Array.isArray(t)?t.filter(Boolean):[],ln=t=>t===void 0,Fe=(t,e,n)=>{if(!e||!wn(t))return n;const r=Jg(e.split(/[,[\].]+?/)).reduce((i,s)=>yr(i)?i:i[s],t);return ln(r)||r===t?ln(t[e])?n:t[e]:r},ds=t=>typeof t=="boolean",zT=t=>/^\w*$/.test(t),H4=t=>Jg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(t,e,n)=>{let r=-1;const i=zT(e)?[e]:H4(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=wn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const QI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Li={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Pe.createContext(null);var $7=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Li.all&&(e._proxyFormState[o]=!r||Li.all),t[o]}});return i},Rr=t=>wn(t)&&!Object.keys(t).length,z7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Rr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Li.all)},em=t=>Array.isArray(t)?t:[t];function H7(t){const e=Pe.useRef(t);e.current=t,Pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ms=t=>typeof t=="string",q7=(t,e,n,r,i)=>ms(t)?(r&&e.watch.add(t),Fe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Fe(n,s))):(r&&(e.watchAll=!0),n),W7=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},YI=t=>({isOnSubmit:!t||t===Li.onSubmit,isOnBlur:t===Li.onBlur,isOnChange:t===Li.onChange,isOnAll:t===Li.all,isOnTouch:t===Li.onTouched}),XI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Fe(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Yf(a,e))break}else if(wn(a)&&Yf(a,e))break}}};var K7=(t,e,n)=>{const r=em(Fe(t,n));return Vt(r,"root",e[n]),Vt(t,n,r),t},HT=t=>t.type==="file",Ws=t=>typeof t=="function",zm=t=>{if(!$T)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tm=t=>ms(t),qT=t=>t.type==="radio",Hm=t=>t instanceof RegExp;const JI={value:!1,isValid:!1},ZI={value:!0,isValid:!0};var q4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?ZI:{value:t[0].value,isValid:!0}:ZI:JI}return JI};const eC={isValid:!1,value:null};var W4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,eC):eC;function tC(t,e,n="validate"){if(tm(t)||Array.isArray(t)&&t.every(tm)||ds(t)&&!t)return{type:n,message:tm(t)?t:"",ref:e}}var Eu=t=>wn(t)&&!Hm(t)?t:{value:t,message:""},nC=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:p,pattern:y,validate:_,name:E,valueAsNumber:S,mount:C,disabled:R}=t._f,w=Fe(e,E);if(!C||R)return{};const v=o?o[0]:s,I=V=>{r&&v.reportValidity&&(v.setCustomValidity(ds(V)?"":V||""),v.reportValidity())},k={},B=qT(s),D=Zd(s),T=B||D,N=(S||HT(s))&&ln(s.value)&&ln(w)||zm(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,L=W7.bind(null,E,n,k),j=(V,M,le,me=Vs.maxLength,he=Vs.minLength)=>{const Y=V?M:le;k[E]={type:V?me:he,message:Y,ref:s,...L(V?me:he,Y)}};if(i?!Array.isArray(w)||!w.length:a&&(!T&&(N||yr(w))||ds(w)&&!w||D&&!q4(o).isValid||B&&!W4(o).isValid)){const{value:V,message:M}=tm(a)?{value:!!a,message:a}:Eu(a);if(V&&(k[E]={type:Vs.required,message:M,ref:v,...L(Vs.required,M)},!n))return I(M),k}if(!N&&(!yr(d)||!yr(p))){let V,M;const le=Eu(p),me=Eu(d);if(!yr(w)&&!isNaN(w)){const he=s.valueAsNumber||w&&+w;yr(le.value)||(V=he>le.value),yr(me.value)||(M=he<me.value)}else{const he=s.valueAsDate||new Date(w),Y=fe=>new Date(new Date().toDateString()+" "+fe),Q=s.type=="time",X=s.type=="week";ms(le.value)&&w&&(V=Q?Y(w)>Y(le.value):X?w>le.value:he>new Date(le.value)),ms(me.value)&&w&&(M=Q?Y(w)<Y(me.value):X?w<me.value:he<new Date(me.value))}if((V||M)&&(j(!!V,le.message,me.message,Vs.max,Vs.min),!n))return I(k[E].message),k}if((l||u)&&!N&&(ms(w)||i&&Array.isArray(w))){const V=Eu(l),M=Eu(u),le=!yr(V.value)&&w.length>+V.value,me=!yr(M.value)&&w.length<+M.value;if((le||me)&&(j(le,V.message,M.message),!n))return I(k[E].message),k}if(y&&!N&&ms(w)){const{value:V,message:M}=Eu(y);if(Hm(V)&&!w.match(V)&&(k[E]={type:Vs.pattern,message:M,ref:s,...L(Vs.pattern,M)},!n))return I(M),k}if(_){if(Ws(_)){const V=await _(w,e),M=tC(V,v);if(M&&(k[E]={...M,...L(Vs.validate,M.message)},!n))return I(M.message),k}else if(wn(_)){let V={};for(const M in _){if(!Rr(V)&&!n)break;const le=tC(await _[M](w,e),v,M);le&&(V={...le,...L(M,le.message)},I(le.message),n&&(k[E]=V))}if(!Rr(V)&&(k[E]={ref:v,...V},!n))return k}}return I(!0),k};function G7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ln(t)?r++:t[e[r++]];return t}function Q7(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function xn(t,e){const n=Array.isArray(e)?e:zT(e)?[e]:H4(e),r=n.length===1?t:G7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(wn(r)&&Rr(r)||Array.isArray(r)&&Q7(r))&&xn(t,n.slice(0,-1)),t}var Jv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},qm=t=>yr(t)||!z4(t);function jo(t,e){if(qm(t)||qm(e))return t===e;if($u(t)&&$u(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if($u(s)&&$u(o)||wn(s)&&wn(o)||Array.isArray(s)&&Array.isArray(o)?!jo(s,o):s!==o)return!1}}return!0}var K4=t=>t.type==="select-multiple",Y7=t=>qT(t)||Zd(t),Zv=t=>zm(t)&&t.isConnected,G4=t=>{for(const e in t)if(Ws(t[e]))return!0;return!1};function Wm(t,e={}){const n=Array.isArray(t);if(wn(t)||n)for(const r in t)Array.isArray(t[r])||wn(t[r])&&!G4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wm(t[r],e[r])):yr(t[r])||(e[r]=!0);return e}function Q4(t,e,n){const r=Array.isArray(t);if(wn(t)||r)for(const i in t)Array.isArray(t[i])||wn(t[i])&&!G4(t[i])?ln(e)||qm(n[i])?n[i]=Array.isArray(t[i])?Wm(t[i],[]):{...Wm(t[i])}:Q4(t[i],yr(e)?{}:e[i],n[i]):n[i]=!jo(t[i],e[i]);return n}var Rp=(t,e)=>Q4(t,e,Wm(e)),Y4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&ms(t)?new Date(t):r?r(t):t;function e_(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return HT(e)?e.files:qT(e)?W4(t.refs).value:K4(e)?[...e.selectedOptions].map(({value:n})=>n):Zd(e)?q4(t.refs).value:Y4(ln(e.value)?t.ref.value:e.value,t)}var X7=(t,e,n,r)=>{const i={};for(const s of t){const o=Fe(e,s);o&&Vt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},mf=t=>ln(t)?t:Hm(t)?t.source:wn(t)?Hm(t.value)?t.value.source:t.value:t;const rC="AsyncFunction";var J7=t=>(!t||!t.validate)&&!!(Ws(t.validate)&&t.validate.constructor.name===rC||wn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rC)),Z7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iC(t,e,n){const r=Fe(t,n);if(r||zT(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Fe(e,s),a=Fe(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var eB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tB=(t,e)=>!Jg(Fe(t,e)).length&&xn(t,e);const nB={mode:Li.onSubmit,reValidateMode:Li.onChange,shouldFocusError:!0};function rB(t={}){let e={...nB,...t},n={submitCount:0,isDirty:!1,isLoading:Ws(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=wn(e.defaultValues)||wn(e.values)?li(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:li(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Jv(),array:Jv(),state:Jv()},y=YI(e.mode),_=YI(e.reValidateMode),E=e.criteriaMode===Li.all,S=z=>Z=>{clearTimeout(u),u=setTimeout(z,Z)},C=async z=>{if(d.isValid||z){const Z=e.resolver?Rr((await T()).errors):await L(r,!0);Z!==n.isValid&&p.state.next({isValid:Z})}},R=(z,Z)=>{(d.isValidating||d.validatingFields)&&((z||Array.from(a.mount)).forEach(ae=>{ae&&(Z?Vt(n.validatingFields,ae,Z):xn(n.validatingFields,ae))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Rr(n.validatingFields)}))},w=(z,Z=[],ae,ge,_e=!0,ce=!0)=>{if(ge&&ae){if(o.action=!0,ce&&Array.isArray(Fe(r,z))){const ke=ae(Fe(r,z),ge.argA,ge.argB);_e&&Vt(r,z,ke)}if(ce&&Array.isArray(Fe(n.errors,z))){const ke=ae(Fe(n.errors,z),ge.argA,ge.argB);_e&&Vt(n.errors,z,ke),tB(n.errors,z)}if(d.touchedFields&&ce&&Array.isArray(Fe(n.touchedFields,z))){const ke=ae(Fe(n.touchedFields,z),ge.argA,ge.argB);_e&&Vt(n.touchedFields,z,ke)}d.dirtyFields&&(n.dirtyFields=Rp(i,s)),p.state.next({name:z,isDirty:V(z,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vt(s,z,Z)},v=(z,Z)=>{Vt(n.errors,z,Z),p.state.next({errors:n.errors})},I=z=>{n.errors=z,p.state.next({errors:n.errors,isValid:!1})},k=(z,Z,ae,ge)=>{const _e=Fe(r,z);if(_e){const ce=Fe(s,z,ln(ae)?Fe(i,z):ae);ln(ce)||ge&&ge.defaultChecked||Z?Vt(s,z,Z?ce:e_(_e._f)):me(z,ce),o.mount&&C()}},B=(z,Z,ae,ge,_e)=>{let ce=!1,ke=!1;const Be={name:z},Qe=!!(Fe(r,z)&&Fe(r,z)._f&&Fe(r,z)._f.disabled);if(!ae||ge){d.isDirty&&(ke=n.isDirty,n.isDirty=Be.isDirty=V(),ce=ke!==Be.isDirty);const qe=Qe||jo(Fe(i,z),Z);ke=!!(!Qe&&Fe(n.dirtyFields,z)),qe||Qe?xn(n.dirtyFields,z):Vt(n.dirtyFields,z,!0),Be.dirtyFields=n.dirtyFields,ce=ce||d.dirtyFields&&ke!==!qe}if(ae){const qe=Fe(n.touchedFields,z);qe||(Vt(n.touchedFields,z,ae),Be.touchedFields=n.touchedFields,ce=ce||d.touchedFields&&qe!==ae)}return ce&&_e&&p.state.next(Be),ce?Be:{}},D=(z,Z,ae,ge)=>{const _e=Fe(n.errors,z),ce=d.isValid&&ds(Z)&&n.isValid!==Z;if(t.delayError&&ae?(l=S(()=>v(z,ae)),l(t.delayError)):(clearTimeout(u),l=null,ae?Vt(n.errors,z,ae):xn(n.errors,z)),(ae?!jo(_e,ae):_e)||!Rr(ge)||ce){const ke={...ge,...ce&&ds(Z)?{isValid:Z}:{},errors:n.errors,name:z};n={...n,...ke},p.state.next(ke)}},T=async z=>{R(z,!0);const Z=await e.resolver(s,e.context,X7(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return R(z),Z},N=async z=>{const{errors:Z}=await T(z);if(z)for(const ae of z){const ge=Fe(Z,ae);ge?Vt(n.errors,ae,ge):xn(n.errors,ae)}else n.errors=Z;return Z},L=async(z,Z,ae={valid:!0})=>{for(const ge in z){const _e=z[ge];if(_e){const{_f:ce,...ke}=_e;if(ce){const Be=a.array.has(ce.name),Qe=_e._f&&J7(_e._f);Qe&&d.validatingFields&&R([ge],!0);const qe=await nC(_e,s,E,e.shouldUseNativeValidation&&!Z,Be);if(Qe&&d.validatingFields&&R([ge]),qe[ce.name]&&(ae.valid=!1,Z))break;!Z&&(Fe(qe,ce.name)?Be?K7(n.errors,qe,ce.name):Vt(n.errors,ce.name,qe[ce.name]):xn(n.errors,ce.name))}!Rr(ke)&&await L(ke,Z,ae)}}return ae.valid},j=()=>{for(const z of a.unMount){const Z=Fe(r,z);Z&&(Z._f.refs?Z._f.refs.every(ae=>!Zv(ae)):!Zv(Z._f.ref))&&Re(z)}a.unMount=new Set},V=(z,Z)=>(z&&Z&&Vt(s,z,Z),!jo(te(),i)),M=(z,Z,ae)=>q7(z,a,{...o.mount?s:ln(Z)?i:ms(z)?{[z]:Z}:Z},ae,Z),le=z=>Jg(Fe(o.mount?s:i,z,t.shouldUnregister?Fe(i,z,[]):[])),me=(z,Z,ae={})=>{const ge=Fe(r,z);let _e=Z;if(ge){const ce=ge._f;ce&&(!ce.disabled&&Vt(s,z,Y4(Z,ce)),_e=zm(ce.ref)&&yr(Z)?"":Z,K4(ce.ref)?[...ce.ref.options].forEach(ke=>ke.selected=_e.includes(ke.value)):ce.refs?Zd(ce.ref)?ce.refs.length>1?ce.refs.forEach(ke=>(!ke.defaultChecked||!ke.disabled)&&(ke.checked=Array.isArray(_e)?!!_e.find(Be=>Be===ke.value):_e===ke.value)):ce.refs[0]&&(ce.refs[0].checked=!!_e):ce.refs.forEach(ke=>ke.checked=ke.value===_e):HT(ce.ref)?ce.ref.value="":(ce.ref.value=_e,ce.ref.type||p.values.next({name:z,values:{...s}})))}(ae.shouldDirty||ae.shouldTouch)&&B(z,_e,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&fe(z)},he=(z,Z,ae)=>{for(const ge in Z){const _e=Z[ge],ce=`${z}.${ge}`,ke=Fe(r,ce);(a.array.has(z)||!qm(_e)||ke&&!ke._f)&&!$u(_e)?he(ce,_e,ae):me(ce,_e,ae)}},Y=(z,Z,ae={})=>{const ge=Fe(r,z),_e=a.array.has(z),ce=li(Z);Vt(s,z,ce),_e?(p.array.next({name:z,values:{...s}}),(d.isDirty||d.dirtyFields)&&ae.shouldDirty&&p.state.next({name:z,dirtyFields:Rp(i,s),isDirty:V(z,ce)})):ge&&!ge._f&&!yr(ce)?he(z,ce,ae):me(z,ce,ae),XI(z,a)&&p.state.next({...n}),p.values.next({name:o.mount?z:void 0,values:{...s}})},Q=async z=>{o.mount=!0;const Z=z.target;let ae=Z.name,ge=!0;const _e=Fe(r,ae),ce=()=>Z.type?e_(_e._f):j7(z),ke=Be=>{ge=Number.isNaN(Be)||jo(Be,Fe(s,ae,Be))};if(_e){let Be,Qe;const qe=ce(),Wt=z.type===QI.BLUR||z.type===QI.FOCUS_OUT,Gn=!Z7(_e._f)&&!e.resolver&&!Fe(n.errors,ae)&&!_e._f.deps||eB(Wt,Fe(n.touchedFields,ae),n.isSubmitted,_,y),dn=XI(ae,a,Wt);Vt(s,ae,qe),Wt?(_e._f.onBlur&&_e._f.onBlur(z),l&&l(0)):_e._f.onChange&&_e._f.onChange(z);const nt=B(ae,qe,Wt,!1),hr=!Rr(nt)||dn;if(!Wt&&p.values.next({name:ae,type:z.type,values:{...s}}),Gn)return d.isValid&&(t.mode==="onBlur"?Wt&&C():C()),hr&&p.state.next({name:ae,...dn?{}:nt});if(!Wt&&dn&&p.state.next({...n}),e.resolver){const{errors:nn}=await T([ae]);if(ke(qe),ge){const bn=iC(n.errors,r,ae),An=iC(nn,r,bn.name||ae);Be=An.error,ae=An.name,Qe=Rr(nn)}}else R([ae],!0),Be=(await nC(_e,s,E,e.shouldUseNativeValidation))[ae],R([ae]),ke(qe),ge&&(Be?Qe=!1:d.isValid&&(Qe=await L(r,!0)));ge&&(_e._f.deps&&fe(_e._f.deps),D(ae,Qe,Be,nt))}},X=(z,Z)=>{if(Fe(n.errors,Z)&&z.focus)return z.focus(),1},fe=async(z,Z={})=>{let ae,ge;const _e=em(z);if(e.resolver){const ce=await N(ln(z)?z:_e);ae=Rr(ce),ge=z?!_e.some(ke=>Fe(ce,ke)):ae}else z?(ge=(await Promise.all(_e.map(async ce=>{const ke=Fe(r,ce);return await L(ke&&ke._f?{[ce]:ke}:ke)}))).every(Boolean),!(!ge&&!n.isValid)&&C()):ge=ae=await L(r);return p.state.next({...!ms(z)||d.isValid&&ae!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:ae}:{},errors:n.errors}),Z.shouldFocus&&!ge&&Yf(r,X,z?_e:a.mount),ge},te=z=>{const Z={...o.mount?s:i};return ln(z)?Z:ms(z)?Fe(Z,z):z.map(ae=>Fe(Z,ae))},$=(z,Z)=>({invalid:!!Fe((Z||n).errors,z),isDirty:!!Fe((Z||n).dirtyFields,z),error:Fe((Z||n).errors,z),isValidating:!!Fe(n.validatingFields,z),isTouched:!!Fe((Z||n).touchedFields,z)}),K=z=>{z&&em(z).forEach(Z=>xn(n.errors,Z)),p.state.next({errors:z?n.errors:{}})},ee=(z,Z,ae)=>{const ge=(Fe(r,z,{_f:{}})._f||{}).ref,_e=Fe(n.errors,z)||{},{ref:ce,message:ke,type:Be,...Qe}=_e;Vt(n.errors,z,{...Qe,...Z,ref:ge}),p.state.next({name:z,errors:n.errors,isValid:!1}),ae&&ae.shouldFocus&&ge&&ge.focus&&ge.focus()},Ae=(z,Z)=>Ws(z)?p.values.subscribe({next:ae=>z(M(void 0,Z),ae)}):M(z,Z,!0),Re=(z,Z={})=>{for(const ae of z?em(z):a.mount)a.mount.delete(ae),a.array.delete(ae),Z.keepValue||(xn(r,ae),xn(s,ae)),!Z.keepError&&xn(n.errors,ae),!Z.keepDirty&&xn(n.dirtyFields,ae),!Z.keepTouched&&xn(n.touchedFields,ae),!Z.keepIsValidating&&xn(n.validatingFields,ae),!e.shouldUnregister&&!Z.keepDefaultValue&&xn(i,ae);p.values.next({values:{...s}}),p.state.next({...n,...Z.keepDirty?{isDirty:V()}:{}}),!Z.keepIsValid&&C()},W=({disabled:z,name:Z,field:ae,fields:ge,value:_e})=>{if(ds(z)&&o.mount||z){const ce=z?void 0:ln(_e)?e_(ae?ae._f:Fe(ge,Z)._f):_e;Vt(s,Z,ce),B(Z,ce,!1,!1,!0)}},ue=(z,Z={})=>{let ae=Fe(r,z);const ge=ds(Z.disabled)||ds(t.disabled);return Vt(r,z,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:z}},name:z,mount:!0,...Z}}),a.mount.add(z),ae?W({field:ae,disabled:ds(Z.disabled)?Z.disabled:t.disabled,name:z,value:Z.value}):k(z,!0,Z.value),{...ge?{disabled:Z.disabled||t.disabled}:{},...e.progressive?{required:!!Z.required,min:mf(Z.min),max:mf(Z.max),minLength:mf(Z.minLength),maxLength:mf(Z.maxLength),pattern:mf(Z.pattern)}:{},name:z,onChange:Q,onBlur:Q,ref:_e=>{if(_e){ue(z,Z),ae=Fe(r,z);const ce=ln(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,ke=Y7(ce),Be=ae._f.refs||[];if(ke?Be.find(Qe=>Qe===ce):ce===ae._f.ref)return;Vt(r,z,{_f:{...ae._f,...ke?{refs:[...Be.filter(Zv),ce,...Array.isArray(Fe(i,z))?[{}]:[]],ref:{type:ce.type,name:z}}:{ref:ce}}}),k(z,!1,void 0,ce)}else ae=Fe(r,z,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(U7(a.array,z)&&o.action)&&a.unMount.add(z)}}},xe=()=>e.shouldFocusError&&Yf(r,X,a.mount),Ee=z=>{ds(z)&&(p.state.next({disabled:z}),Yf(r,(Z,ae)=>{const ge=Fe(r,ae);ge&&(Z.disabled=ge._f.disabled||z,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(_e=>{_e.disabled=ge._f.disabled||z}))},0,!1))},Se=(z,Z)=>async ae=>{let ge;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let _e=li(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:ke}=await T();n.errors=ce,_e=ke}else await L(r);if(xn(n.errors,"root"),Rr(n.errors)){p.state.next({errors:{}});try{await z(_e,ae)}catch(ce){ge=ce}}else Z&&await Z({...n.errors},ae),xe(),setTimeout(xe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},Ge=(z,Z={})=>{Fe(r,z)&&(ln(Z.defaultValue)?Y(z,li(Fe(i,z))):(Y(z,Z.defaultValue),Vt(i,z,li(Z.defaultValue))),Z.keepTouched||xn(n.touchedFields,z),Z.keepDirty||(xn(n.dirtyFields,z),n.isDirty=Z.defaultValue?V(z,li(Fe(i,z))):V()),Z.keepError||(xn(n.errors,z),d.isValid&&C()),p.state.next({...n}))},Et=(z,Z={})=>{const ae=z?li(z):i,ge=li(ae),_e=Rr(z),ce=_e?i:ge;if(Z.keepDefaultValues||(i=ae),!Z.keepValues){if(Z.keepDirtyValues)for(const ke of a.mount)Fe(n.dirtyFields,ke)?Vt(ce,ke,Fe(s,ke)):Y(ke,Fe(ce,ke));else{if($T&&ln(z))for(const ke of a.mount){const Be=Fe(r,ke);if(Be&&Be._f){const Qe=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(zm(Qe)){const qe=Qe.closest("form");if(qe){qe.reset();break}}}}r={}}s=t.shouldUnregister?Z.keepDefaultValues?li(i):{}:li(ce),p.array.next({values:{...ce}}),p.values.next({values:{...ce}})}a={mount:Z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:_e?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!jo(z,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:_e?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Rp(i,s):n.dirtyFields:Z.keepDefaultValues&&z?Rp(i,z):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},He=(z,Z)=>Et(Ws(z)?z(s):z,Z);return{control:{register:ue,unregister:Re,getFieldState:$,handleSubmit:Se,setError:ee,_executeSchema:T,_getWatch:M,_getDirty:V,_updateValid:C,_removeUnmounted:j,_updateFieldArray:w,_updateDisabledField:W,_getFieldArray:le,_reset:Et,_resetDefaultValues:()=>Ws(e.defaultValues)&&e.defaultValues().then(z=>{He(z,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:Ee,_subjects:p,_proxyFormState:d,_setErrors:I,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return n},set _formState(z){n=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:fe,register:ue,handleSubmit:Se,watch:Ae,setValue:Y,getValues:te,reset:He,resetField:Ge,clearErrors:K,unregister:Re,setError:ee,setFocus:(z,Z={})=>{const ae=Fe(r,z),ge=ae&&ae._f;if(ge){const _e=ge.refs?ge.refs[0]:ge.ref;_e.focus&&(_e.focus(),Z.shouldSelect&&_e.select())}},getFieldState:$}}function eh(t={}){const e=Pe.useRef(),n=Pe.useRef(),[r,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Ws(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ws(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rB(t),formState:r});const s=e.current.control;return s._options=t,H7({subject:s._subjects.state,next:o=>{z7(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Pe.useEffect(()=>{t.values&&!jo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Pe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=$7(r,s),e.current}function X4(t,e){return function(){return t.apply(e,arguments)}}const{toString:iB}=Object.prototype,{getPrototypeOf:WT}=Object,Zg=(t=>e=>{const n=iB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=t=>(t=t.toLowerCase(),e=>Zg(e)===t),ey=t=>e=>typeof e===t,{isArray:Ac}=Array,Cd=ey("undefined");function sB(t){return t!==null&&!Cd(t)&&t.constructor!==null&&!Cd(t.constructor)&&Xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const J4=Qi("ArrayBuffer");function oB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&J4(t.buffer),e}const aB=ey("string"),Xr=ey("function"),Z4=ey("number"),ty=t=>t!==null&&typeof t=="object",lB=t=>t===!0||t===!1,nm=t=>{if(Zg(t)!=="object")return!1;const e=WT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uB=Qi("Date"),cB=Qi("File"),fB=Qi("Blob"),dB=Qi("FileList"),hB=t=>ty(t)&&Xr(t.pipe),pB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xr(t.append)&&((e=Zg(t))==="formdata"||e==="object"&&Xr(t.toString)&&t.toString()==="[object FormData]"))},mB=Qi("URLSearchParams"),[gB,yB,vB,_B]=["ReadableStream","Request","Response","Headers"].map(Qi),wB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function th(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ac(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function eL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tL=t=>!Cd(t)&&t!==rl;function jE(){const{caseless:t}=tL(this)&&this||{},e={},n=(r,i)=>{const s=t&&eL(e,i)||i;nm(e[s])&&nm(r)?e[s]=jE(e[s],r):nm(r)?e[s]=jE({},r):Ac(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&th(arguments[r],n);return e}const EB=(t,e,n,{allOwnKeys:r}={})=>(th(e,(i,s)=>{n&&Xr(i)?t[s]=X4(i,n):t[s]=i},{allOwnKeys:r}),t),bB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},SB=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&WT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},RB=t=>{if(!t)return null;if(Ac(t))return t;let e=t.length;if(!Z4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&WT(Uint8Array)),CB=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},AB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},PB=Qi("HTMLFormElement"),kB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),sC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OB=Qi("RegExp"),nL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};th(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},NB=t=>{nL(t,(e,n)=>{if(Xr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ac(t)?r(t):r(String(t).split(e)),n},LB=()=>{},MB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,t_="abcdefghijklmnopqrstuvwxyz",oC="0123456789",rL={DIGIT:oC,ALPHA:t_,ALPHA_DIGIT:t_+t_.toUpperCase()+oC},FB=(t=16,e=rL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function jB(t){return!!(t&&Xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const VB=t=>{const e=new Array(10),n=(r,i)=>{if(ty(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ac(r)?[]:{};return th(r,(o,a)=>{const l=n(o,i+1);!Cd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},UB=Qi("AsyncFunction"),BB=t=>t&&(ty(t)||Xr(t))&&Xr(t.then)&&Xr(t.catch),iL=((t,e)=>t?setImmediate:e?((n,r)=>(rl.addEventListener("message",({source:i,data:s})=>{i===rl&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),rl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xr(rl.postMessage)),$B=typeof queueMicrotask<"u"?queueMicrotask.bind(rl):typeof process<"u"&&process.nextTick||iL,oe={isArray:Ac,isArrayBuffer:J4,isBuffer:sB,isFormData:pB,isArrayBufferView:oB,isString:aB,isNumber:Z4,isBoolean:lB,isObject:ty,isPlainObject:nm,isReadableStream:gB,isRequest:yB,isResponse:vB,isHeaders:_B,isUndefined:Cd,isDate:uB,isFile:cB,isBlob:fB,isRegExp:OB,isFunction:Xr,isStream:hB,isURLSearchParams:mB,isTypedArray:IB,isFileList:dB,forEach:th,merge:jE,extend:EB,trim:wB,stripBOM:bB,inherits:TB,toFlatObject:SB,kindOf:Zg,kindOfTest:Qi,endsWith:xB,toArray:RB,forEachEntry:CB,matchAll:AB,isHTMLForm:PB,hasOwnProperty:sC,hasOwnProp:sC,reduceDescriptors:nL,freezeMethods:NB,toObjectSet:DB,toCamelCase:kB,noop:LB,toFiniteNumber:MB,findKey:eL,global:rl,isContextDefined:tL,ALPHABET:rL,generateString:FB,isSpecCompliantForm:jB,toJSONObject:VB,isAsyncFn:UB,isThenable:BB,setImmediate:iL,asap:$B};function rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const sL=rt.prototype,oL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oL[t]={value:t}});Object.defineProperties(rt,oL);Object.defineProperty(sL,"isAxiosError",{value:!0});rt.from=(t,e,n,r,i,s)=>{const o=Object.create(sL);return oe.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),rt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const zB=null;function VE(t){return oe.isPlainObject(t)||oe.isArray(t)}function aL(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function aC(t,e,n){return t?t.concat(e).map(function(i,s){return i=aL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function HB(t){return oe.isArray(t)&&!t.some(VE)}const qB=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ny(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!oe.isUndefined(C[S])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(oe.isDate(E))return E.toISOString();if(!l&&oe.isBlob(E))throw new rt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(E)||oe.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function d(E,S,C){let R=E;if(E&&!C&&typeof E=="object"){if(oe.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(oe.isArray(E)&&HB(E)||(oe.isFileList(E)||oe.endsWith(S,"[]"))&&(R=oe.toArray(E)))return S=aL(S),R.forEach(function(v,I){!(oe.isUndefined(v)||v===null)&&e.append(o===!0?aC([S],I,s):o===null?S:S+"[]",u(v))}),!1}return VE(E)?!0:(e.append(aC(C,S,s),u(E)),!1)}const p=[],y=Object.assign(qB,{defaultVisitor:d,convertValue:u,isVisitable:VE});function _(E,S){if(!oe.isUndefined(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(E),oe.forEach(E,function(R,w){(!(oe.isUndefined(R)||R===null)&&i.call(e,R,oe.isString(w)?w.trim():w,S,y))===!0&&_(R,S?S.concat(w):[w])}),p.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return _(t),e}function lC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function KT(t,e){this._pairs=[],t&&ny(t,this,e)}const lL=KT.prototype;lL.append=function(e,n){this._pairs.push([e,n])};lL.toString=function(e){const n=e?function(r){return e.call(this,r,lC)}:lC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function WB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uL(t,e,n){if(!e)return t;const r=n&&n.encode||WB,i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new KT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class uC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KB=typeof URLSearchParams<"u"?URLSearchParams:KT,GB=typeof FormData<"u"?FormData:null,QB=typeof Blob<"u"?Blob:null,YB={isBrowser:!0,classes:{URLSearchParams:KB,FormData:GB,Blob:QB},protocols:["http","https","file","blob","url","data"]},GT=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,XB=GT&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),JB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZB=GT&&window.location.href||"http://localhost",e$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:GT,hasStandardBrowserEnv:XB,hasStandardBrowserWebWorkerEnv:JB,navigator:UE,origin:ZB},Symbol.toStringTag,{value:"Module"})),Fr={...e$,...YB};function t$(t,e){return ny(t,new Fr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Fr.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function n$(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r$(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function fL(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,l?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=r$(i[o])),!a)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e(n$(r),i,n,0)}),n}return null}function i$(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nh={transitional:cL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(fL(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t$(e,this.formSerializer).toString();if((a=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ny(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),i$(e)):e}],transformResponse:[function(e){const n=this.transitional||nh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?rt.from(a,rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fr.classes.FormData,Blob:Fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{nh.headers[t]={}});const s$=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o$=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&s$[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},cC=Symbol("internals");function gf(t){return t&&String(t).trim().toLowerCase()}function rm(t){return t===!1||t==null?t:oe.isArray(t)?t.map(rm):String(t)}function a$(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const l$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function n_(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function u$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function c$(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class jr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=gf(l);if(!d)throw new Error("header name must be a non-empty string");const p=oe.findKey(i,d);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=rm(a))}const o=(a,l)=>oe.forEach(a,(u,d)=>s(u,d,l));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!l$(e))o(o$(e),n);else if(oe.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=gf(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return a$(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gf(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||n_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=gf(o),o){const a=oe.findKey(r,o);a&&(!n||n_(r,r[a],a,n))&&(delete r[a],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||n_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=rm(i),delete n[s];return}const a=e?u$(s):String(s).trim();a!==s&&delete n[s],n[a]=rm(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[cC]=this[cC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=gf(o);r[a]||(c$(i,o),r[a]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(jr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(jr);function r_(t,e){const n=this||nh,r=e||n,i=jr.from(r.headers);let s=r.data;return oe.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function dL(t){return!!(t&&t.__CANCEL__)}function Pc(t,e,n){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(Pc,rt,{__CANCEL__:!0});function hL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function f$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function d$(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let p=s,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const _=d&&u-d;return _?Math.round(y*1e3/_):void 0}}function h$(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Km=(t,e,n=3)=>{let r=0;const i=d$(50,250);return h$(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},fC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},dC=t=>(...e)=>oe.asap(()=>t(...e)),p$=Fr.hasStandardBrowserEnv?function(){const e=Fr.navigator&&/(msie|trident)/i.test(Fr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=oe.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),m$=Fr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function y$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function pL(t,e){return t&&!g$(e)?y$(t,e):e}const hC=t=>t instanceof jr?{...t}:t;function bl(t,e){e=e||{};const n={};function r(u,d,p){return oe.isPlainObject(u)&&oe.isPlainObject(d)?oe.merge.call({caseless:p},u,d):oe.isPlainObject(d)?oe.merge({},d):oe.isArray(d)?d.slice():d}function i(u,d,p){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u,p)}else return r(u,d,p)}function s(u,d){if(!oe.isUndefined(d))return r(void 0,d)}function o(u,d){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,p){if(p in e)return r(u,d);if(p in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(hC(u),hC(d),!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||i,y=p(t[d],e[d],d);oe.isUndefined(y)&&p!==a||(n[d]=y)}),n}const mL=t=>{const e=bl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=jr.from(o),e.url=uL(pL(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(oe.isFormData(n)){if(Fr.hasStandardBrowserEnv||Fr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Fr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&p$(e.url))){const u=i&&s&&m$.read(s);u&&o.set(i,u)}return e},v$=typeof XMLHttpRequest<"u",_$=v$&&function(t){return new Promise(function(n,r){const i=mL(t);let s=i.data;const o=jr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,p,y,_,E;function S(){_&&_(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function R(){if(!C)return;const v=jr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:v,config:t,request:C};hL(function(D){n(D),S()},function(D){r(D),S()},k),C=null}"onloadend"in C?C.onloadend=R:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(R)},C.onabort=function(){C&&(r(new rt("Request aborted",rt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new rt("Network Error",rt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||cL;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new rt(I,k.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&oe.forEach(o.toJSON(),function(I,k){C.setRequestHeader(k,I)}),oe.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),a&&a!=="json"&&(C.responseType=i.responseType),u&&([y,E]=Km(u,!0),C.addEventListener("progress",y)),l&&C.upload&&([p,_]=Km(l),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(d=v=>{C&&(r(!v||v.type?new Pc(null,t,C):v),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=f$(i.url);if(w&&Fr.protocols.indexOf(w)===-1){r(new rt("Unsupported protocol "+w+":",rt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},w$=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof rt?d:new Pc(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>oe.asap(a),l}},E$=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},b$=async function*(t,e){for await(const n of T$(t))yield*E$(n,e)},T$=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},pC=(t,e,n,r)=>{const i=b$(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let p=d.byteLength;if(n){let y=s+=p;n(y)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ry=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gL=ry&&typeof ReadableStream=="function",S$=ry&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},x$=gL&&yL(()=>{let t=!1;const e=new Request(Fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mC=64*1024,BE=gL&&yL(()=>oe.isReadableStream(new Response("").body)),Gm={stream:BE&&(t=>t.body)};ry&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gm[e]&&(Gm[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,r)})})})(new Response);const R$=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(Fr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await S$(t)).byteLength},I$=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??R$(e)},C$=ry&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:y}=mL(t);u=u?(u+"").toLowerCase():"text";let _=w$([i,s&&s.toAbortSignal()],o),E;const S=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let C;try{if(l&&x$&&n!=="get"&&n!=="head"&&(C=await I$(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(oe.isFormData(r)&&(B=k.headers.get("content-type"))&&d.setContentType(B),k.body){const[D,T]=fC(C,Km(dC(l)));r=pC(k.body,mC,D,T)}}oe.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;E=new Request(e,{...y,signal:_,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:R?p:void 0});let w=await fetch(E);const v=BE&&(u==="stream"||u==="response");if(BE&&(a||v&&S)){const k={};["status","statusText","headers"].forEach(N=>{k[N]=w[N]});const B=oe.toFiniteNumber(w.headers.get("content-length")),[D,T]=a&&fC(B,Km(dC(a),!0))||[];w=new Response(pC(w.body,mC,D,()=>{T&&T(),S&&S()}),k)}u=u||"text";let I=await Gm[oe.findKey(Gm,u)||"text"](w,t);return!v&&S&&S(),await new Promise((k,B)=>{hL(k,B,{data:I,headers:jr.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:E})})}catch(R){throw S&&S(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,t,E),{cause:R.cause||R}):rt.from(R,R&&R.code,t,E)}}),$E={http:zB,xhr:_$,fetch:C$};oe.forEach($E,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gC=t=>`- ${t}`,A$=t=>oe.isFunction(t)||t===null||t===!1,vL={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!A$(n)&&(r=$E[(o=String(n)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(gC).join(`
`):" "+gC(s[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$E};function i_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pc(null,t)}function yC(t){return i_(t),t.headers=jr.from(t.headers),t.data=r_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vL.getAdapter(t.adapter||nh.adapter)(t).then(function(r){return i_(t),r.data=r_.call(t,t.transformResponse,r),r.headers=jr.from(r.headers),r},function(r){return dL(r)||(i_(t),r&&r.response&&(r.response.data=r_.call(t,t.transformResponse,r.response),r.response.headers=jr.from(r.response.headers))),Promise.reject(r)})}const _L="1.7.7",QT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{QT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const vC={};QT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+_L+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new rt(i(o," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!vC[o]&&(vC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function P$(t,e,n){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new rt("option "+s+" must be "+l,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+s,rt.ERR_BAD_OPTION)}}const zE={assertOptions:P$,validators:QT},ko=zE.validators;class dl{constructor(e){this.defaults=e,this.interceptors={request:new uC,response:new uC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zE.assertOptions(r,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:zE.assertOptions(i,{encode:ko.function,serialize:ko.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=jr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let d,p=0,y;if(!l){const E=[yC.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),y=E.length,d=Promise.resolve(n);p<y;)d=d.then(E[p++],E[p++]);return d}y=a.length;let _=n;for(p=0;p<y;){const E=a[p++],S=a[p++];try{_=E(_)}catch(C){S.call(this,C);break}}try{d=yC.call(this,_)}catch(E){return Promise.reject(E)}for(p=0,y=u.length;p<y;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=bl(this.defaults,e);const n=pL(e.baseURL,e.url);return uL(n,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(n,r){return this.request(bl(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(bl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dl.prototype[e]=n(),dl.prototype[e+"Form"]=n(!0)});class YT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Pc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new YT(function(i){e=i}),cancel:e}}}function k$(t){return function(n){return t.apply(null,n)}}function O$(t){return oe.isObject(t)&&t.isAxiosError===!0}const HE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HE).forEach(([t,e])=>{HE[e]=t});function wL(t){const e=new dl(t),n=X4(dl.prototype.request,e);return oe.extend(n,dl.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wL(bl(t,i))},n}const fn=wL(nh);fn.Axios=dl;fn.CanceledError=Pc;fn.CancelToken=YT;fn.isCancel=dL;fn.VERSION=_L;fn.toFormData=ny;fn.AxiosError=rt;fn.Cancel=fn.CanceledError;fn.all=function(e){return Promise.all(e)};fn.spread=k$;fn.isAxiosError=O$;fn.mergeConfig=bl;fn.AxiosHeaders=jr;fn.formToJSON=t=>fL(oe.isHTMLForm(t)?new FormData(t):t);fn.getAdapter=vL.getAdapter;fn.HttpStatusCode=HE;fn.default=fn;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xt.apply(this,arguments)}var mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mn||(mn={}));const _C="popstate";function N$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ad("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tl(i)}return L$(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D$(){return Math.random().toString(36).substr(2,8)}function wC(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,n,r){return n===void 0&&(n=null),Xt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:n,key:e&&e.key||r||D$()})}function Tl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Xt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=mn.Pop;let C=d(),R=C==null?null:C-u;u=C,l&&l({action:a,location:S.location,delta:R})}function y(C,R){a=mn.Push;let w=Ad(S.location,C,R);u=d()+1;let v=wC(w,u),I=S.createHref(w);try{o.pushState(v,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(I)}s&&l&&l({action:a,location:S.location,delta:1})}function _(C,R){a=mn.Replace;let w=Ad(S.location,C,R);u=d();let v=wC(w,u),I=S.createHref(w);o.replaceState(v,"",I),s&&l&&l({action:a,location:S.location,delta:0})}function E(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof C=="string"?C:Tl(C);return w=w.replace(/ $/,"%20"),lt(R,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,R)}let S={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_C,p),l=C,()=>{i.removeEventListener(_C,p),l=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:_,go(C){return o.go(C)}};return S}var At;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(At||(At={}));const M$=new Set(["lazy","caseSensitive","path","id","index","children"]);function F$(t){return t.index===!0}function Pd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),F$(i)){let l=Xt({},i,e(i),{id:a});return r[a]=l,l}else{let l=Xt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Pd(i.children,e,o,r)),l}})}function Za(t,e,n){return n===void 0&&(n="/"),im(t,e,n,!1)}function im(t,e,n,r){let i=typeof e=="string"?ba(e):e,s=oo(i.pathname||"/",n);if(s==null)return null;let o=EL(t);V$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Y$(s);a=G$(o[l],u,r)}return a}function j$(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function EL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Js([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EL(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:W$(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bL(s.path))i(s,o,l)}),e}function bL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function V$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U$=/^:[\w-]+$/,B$=3,$$=2,z$=1,H$=10,q$=-2,EC=t=>t==="*";function W$(t,e){let n=t.split("/"),r=n.length;return n.some(EC)&&(r+=q$),e&&(r+=$$),n.filter(i=>!EC(i)).reduce((i,s)=>i+(U$.test(s)?B$:s===""?z$:H$),r)}function K$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G$(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),y=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Js([s,p.pathname]),pathnameBase:Z$(Js([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Js([s,p.pathnameBase]))}return o}function Qm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:y,isOptional:_}=d;if(y==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[p];return _&&!E?u[y]=void 0:u[y]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Q$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function X$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:J$(n,e):e,search:ez(r),hash:tz(i)}}function J$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function s_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(t,e){let n=TL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ba(t):(i=Xt({},t),lt(!i.pathname||!i.pathname.includes("?"),s_("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),s_("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),s_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let l=X$(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Js=t=>t.join("/").replace(/\/\/+/g,"/"),Z$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ez=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ym{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function iy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SL=["post","put","patch","delete"],nz=new Set(SL),rz=["get",...SL],iz=new Set(rz),sz=new Set([301,302,303,307,308]),oz=new Set([307,308]),o_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},az={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),xL="remix-router-transitions";function uz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let H=t.detectErrorBoundary;i=G=>({hasErrorBoundary:H(G)})}else i=lz;let s={},o=Pd(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||mz,d=t.unstable_patchRoutesOnNavigation,p=Xt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),y=null,_=new Set,E=1e3,S=new Set,C=null,R=null,w=null,v=t.hydrationData!=null,I=Za(o,t.history.location,l),k=null;if(I==null&&!d){let H=mr(404,{pathname:t.history.location.pathname}),{matches:G,route:re}=PC(o);I=G,k={[re.id]:H}}I&&!t.hydrationData&&Qt(I,o,t.history.location.pathname).active&&(I=null);let B;if(I)if(I.some(H=>H.route.lazy))B=!1;else if(!I.some(H=>H.route.loader))B=!0;else if(p.v7_partialHydration){let H=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null,re=de=>de.route.loader?typeof de.route.loader=="function"&&de.route.loader.hydrate===!0?!1:H&&H[de.route.id]!==void 0||G&&G[de.route.id]!==void 0:!0;if(G){let de=I.findIndex(Ie=>G[Ie.route.id]!==void 0);B=I.slice(0,de+1).every(re)}else B=I.every(re)}else B=t.hydrationData!=null;else if(B=!1,I=[],p.v7_partialHydration){let H=Qt(null,o,t.history.location.pathname);H.active&&H.matches&&(I=H.matches)}let D,T={historyAction:t.history.action,location:t.history.location,matches:I,initialized:B,navigation:o_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},N=mn.Pop,L=!1,j,V=!1,M=new Map,le=null,me=!1,he=!1,Y=[],Q=new Set,X=new Map,fe=0,te=-1,$=new Map,K=new Set,ee=new Map,Ae=new Map,Re=new Set,W=new Map,ue=new Map,xe=new Map,Ee;function Se(){if(y=t.history.listen(H=>{let{action:G,location:re,delta:de}=H;if(Ee){Ee(),Ee=void 0;return}dc(ue.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ie=Ps({currentLocation:T.location,nextLocation:re,historyAction:G});if(Ie&&de!=null){let Oe=new Promise(ze=>{Ee=ze});t.history.go(de*-1),Br(Ie,{state:"blocked",location:re,proceed(){Br(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Oe.then(()=>t.history.go(de))},reset(){let ze=new Map(T.blockers);ze.set(Ie,yf),He({blockers:ze})}});return}return z(G,re)}),n){Pz(e,M);let H=()=>kz(e,M);e.addEventListener("pagehide",H),le=()=>e.removeEventListener("pagehide",H)}return T.initialized||z(mn.Pop,T.location,{initialHydration:!0}),D}function Ge(){y&&y(),le&&le(),_.clear(),j&&j.abort(),T.fetchers.forEach((H,G)=>nn(G)),T.blockers.forEach((H,G)=>bo(G))}function Et(H){return _.add(H),()=>_.delete(H)}function He(H,G){G===void 0&&(G={}),T=Xt({},T,H);let re=[],de=[];p.v7_fetcherPersist&&T.fetchers.forEach((Ie,Oe)=>{Ie.state==="idle"&&(Re.has(Oe)?de.push(Oe):re.push(Oe))}),[..._].forEach(Ie=>Ie(T,{deletedFetchers:de,unstable_viewTransitionOpts:G.viewTransitionOpts,unstable_flushSync:G.flushSync===!0})),p.v7_fetcherPersist&&(re.forEach(Ie=>T.fetchers.delete(Ie)),de.forEach(Ie=>nn(Ie)))}function We(H,G,re){var de,Ie;let{flushSync:Oe}=re===void 0?{}:re,ze=T.actionData!=null&&T.navigation.formMethod!=null&&Oi(T.navigation.formMethod)&&T.navigation.state==="loading"&&((de=H.state)==null?void 0:de._isRedirect)!==!0,be;G.actionData?Object.keys(G.actionData).length>0?be=G.actionData:be=null:ze?be=T.actionData:be=null;let je=G.loaderData?CC(T.loaderData,G.loaderData,G.matches||[],G.errors):T.loaderData,Le=T.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((at,ct)=>Le.set(ct,yf)));let Me=L===!0||T.navigation.formMethod!=null&&Oi(T.navigation.formMethod)&&((Ie=H.state)==null?void 0:Ie._isRedirect)!==!0;a&&(o=a,a=void 0),me||N===mn.Pop||(N===mn.Push?t.history.push(H,H.state):N===mn.Replace&&t.history.replace(H,H.state));let ot;if(N===mn.Pop){let at=M.get(T.location.pathname);at&&at.has(H.pathname)?ot={currentLocation:T.location,nextLocation:H}:M.has(H.pathname)&&(ot={currentLocation:H,nextLocation:T.location})}else if(V){let at=M.get(T.location.pathname);at?at.add(H.pathname):(at=new Set([H.pathname]),M.set(T.location.pathname,at)),ot={currentLocation:T.location,nextLocation:H}}He(Xt({},G,{actionData:be,loaderData:je,historyAction:N,location:H,initialized:!0,navigation:o_,revalidation:"idle",restoreScrollPosition:Da(H,G.matches||T.matches),preventScrollReset:Me,blockers:Le}),{viewTransitionOpts:ot,flushSync:Oe===!0}),N=mn.Pop,L=!1,V=!1,me=!1,he=!1,Y=[]}async function Gt(H,G){if(typeof H=="number"){t.history.go(H);return}let re=qE(T.location,T.matches,l,p.v7_prependBasename,H,p.v7_relativeSplatPath,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:de,submission:Ie,error:Oe}=bC(p.v7_normalizeFormMethod,!1,re,G),ze=T.location,be=Ad(T.location,de,G&&G.state);be=Xt({},be,t.history.encodeLocation(be));let je=G&&G.replace!=null?G.replace:void 0,Le=mn.Push;je===!0?Le=mn.Replace:je===!1||Ie!=null&&Oi(Ie.formMethod)&&Ie.formAction===T.location.pathname+T.location.search&&(Le=mn.Replace);let Me=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,ot=(G&&G.unstable_flushSync)===!0,at=Ps({currentLocation:ze,nextLocation:be,historyAction:Le});if(at){Br(at,{state:"blocked",location:be,proceed(){Br(at,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Gt(H,G)},reset(){let ct=new Map(T.blockers);ct.set(at,yf),He({blockers:ct})}});return}return await z(Le,be,{submission:Ie,pendingError:Oe,preventScrollReset:Me,replace:G&&G.replace,enableViewTransition:G&&G.unstable_viewTransition,flushSync:ot})}function st(){if(Gn(),He({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){z(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}z(N||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:V===!0})}}async function z(H,G,re){j&&j.abort(),j=null,N=H,me=(re&&re.startUninterruptedRevalidation)===!0,Ji(T.location,T.matches),L=(re&&re.preventScrollReset)===!0,V=(re&&re.enableViewTransition)===!0;let de=a||o,Ie=re&&re.overrideNavigation,Oe=Za(de,G,l),ze=(re&&re.flushSync)===!0,be=Qt(Oe,de,G.pathname);if(be.active&&be.matches&&(Oe=be.matches),!Oe){let{error:it,notFoundMatches:Yt,route:kt}=Yi(G.pathname);We(G,{matches:Yt,loaderData:{},errors:{[kt.id]:it}},{flushSync:ze});return}if(T.initialized&&!he&&Ez(T.location,G)&&!(re&&re.submission&&Oi(re.submission.formMethod))){We(G,{matches:Oe},{flushSync:ze});return}j=new AbortController;let je=bu(t.history,G,j.signal,re&&re.submission),Le;if(re&&re.pendingError)Le=[zu(Oe).route.id,{type:At.error,error:re.pendingError}];else if(re&&re.submission&&Oi(re.submission.formMethod)){let it=await Z(je,G,re.submission,Oe,be.active,{replace:re.replace,flushSync:ze});if(it.shortCircuited)return;if(it.pendingActionResult){let[Yt,kt]=it.pendingActionResult;if(Hr(kt)&&iy(kt.error)&&kt.error.status===404){j=null,We(G,{matches:it.matches,loaderData:{},errors:{[Yt]:kt.error}});return}}Oe=it.matches||Oe,Le=it.pendingActionResult,Ie=a_(G,re.submission),ze=!1,be.active=!1,je=bu(t.history,je.url,je.signal)}let{shortCircuited:Me,matches:ot,loaderData:at,errors:ct}=await ae(je,G,Oe,be.active,Ie,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,ze,Le);Me||(j=null,We(G,Xt({matches:ot||Oe},AC(Le),{loaderData:at,errors:ct})))}async function Z(H,G,re,de,Ie,Oe){Oe===void 0&&(Oe={}),Gn();let ze=Cz(G,re);if(He({navigation:ze},{flushSync:Oe.flushSync===!0}),Ie){let Le=await Ei(de,G.pathname,H.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let{boundaryId:Me,error:ot}=Qn(G.pathname,Le);return{matches:Le.partialMatches,pendingActionResult:[Me,{type:At.error,error:ot}]}}else if(Le.matches)de=Le.matches;else{let{notFoundMatches:Me,error:ot,route:at}=Yi(G.pathname);return{matches:Me,pendingActionResult:[at.id,{type:At.error,error:ot}]}}}let be,je=kf(de,G);if(!je.route.action&&!je.route.lazy)be={type:At.error,error:mr(405,{method:H.method,pathname:G.pathname,routeId:je.route.id})};else if(be=(await qe("action",T,H,[je],de,null))[je.route.id],H.signal.aborted)return{shortCircuited:!0};if(il(be)){let Le;return Oe&&Oe.replace!=null?Le=Oe.replace:Le=xC(be.response.headers.get("Location"),new URL(H.url),l)===T.location.pathname+T.location.search,await Qe(H,be,!0,{submission:re,replace:Le}),{shortCircuited:!0}}if(qo(be))throw mr(400,{type:"defer-action"});if(Hr(be)){let Le=zu(de,je.route.id);return(Oe&&Oe.replace)!==!0&&(N=mn.Push),{matches:de,pendingActionResult:[Le.route.id,be]}}return{matches:de,pendingActionResult:[je.route.id,be]}}async function ae(H,G,re,de,Ie,Oe,ze,be,je,Le,Me){let ot=Ie||a_(G,Oe),at=Oe||ze||OC(ot),ct=!me&&(!p.v7_partialHydration||!je);if(de){if(ct){let Rt=ge(Me);He(Xt({navigation:ot},Rt!==void 0?{actionData:Rt}:{}),{flushSync:Le})}let Ye=await Ei(re,G.pathname,H.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let{boundaryId:Rt,error:Sn}=Qn(G.pathname,Ye);return{matches:Ye.partialMatches,loaderData:{},errors:{[Rt]:Sn}}}else if(Ye.matches)re=Ye.matches;else{let{error:Rt,notFoundMatches:Sn,route:mt}=Yi(G.pathname);return{matches:Sn,loaderData:{},errors:{[mt.id]:Rt}}}}let it=a||o,[Yt,kt]=TC(t.history,T,re,at,G,p.v7_partialHydration&&je===!0,p.v7_skipActionErrorRevalidation,he,Y,Q,Re,ee,K,it,l,Me);if(ks(Ye=>!(re&&re.some(Rt=>Rt.route.id===Ye))||Yt&&Yt.some(Rt=>Rt.route.id===Ye)),te=++fe,Yt.length===0&&kt.length===0){let Ye=Wl();return We(G,Xt({matches:re,loaderData:{},errors:Me&&Hr(Me[1])?{[Me[0]]:Me[1].error}:null},AC(Me),Ye?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Le}),{shortCircuited:!0}}if(ct){let Ye={};if(!de){Ye.navigation=ot;let Rt=ge(Me);Rt!==void 0&&(Ye.actionData=Rt)}kt.length>0&&(Ye.fetchers=_e(kt)),He(Ye,{flushSync:Le})}kt.forEach(Ye=>{X.has(Ye.key)&&An(Ye.key),Ye.controller&&X.set(Ye.key,Ye.controller)});let Ti=()=>kt.forEach(Ye=>An(Ye.key));j&&j.signal.addEventListener("abort",Ti);let{loaderResults:Yn,fetcherResults:Xn}=await Wt(T,re,Yt,kt,H);if(H.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Ti),kt.forEach(Ye=>X.delete(Ye.key));let Tn=Ip(Yn);if(Tn)return await Qe(H,Tn.result,!0,{replace:be}),{shortCircuited:!0};if(Tn=Ip(Xn),Tn)return K.add(Tn.key),await Qe(H,Tn.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Si,errors:Je}=IC(T,re,Yt,Yn,Me,kt,Xn,W);W.forEach((Ye,Rt)=>{Ye.subscribe(Sn=>{(Sn||Ye.done)&&W.delete(Rt)})}),p.v7_partialHydration&&je&&T.errors&&Object.entries(T.errors).filter(Ye=>{let[Rt]=Ye;return!Yt.some(Sn=>Sn.route.id===Rt)}).forEach(Ye=>{let[Rt,Sn]=Ye;Je=Object.assign(Je||{},{[Rt]:Sn})});let ii=Wl(),Zi=Eo(te),xi=ii||Zi||kt.length>0;return Xt({matches:re,loaderData:Si,errors:Je},xi?{fetchers:new Map(T.fetchers)}:{})}function ge(H){if(H&&!Hr(H[1]))return{[H[0]]:H[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function _e(H){return H.forEach(G=>{let re=T.fetchers.get(G.key),de=vf(void 0,re?re.data:void 0);T.fetchers.set(G.key,de)}),new Map(T.fetchers)}function ce(H,G,re,de){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");X.has(H)&&An(H);let Ie=(de&&de.unstable_flushSync)===!0,Oe=a||o,ze=qE(T.location,T.matches,l,p.v7_prependBasename,re,p.v7_relativeSplatPath,G,de==null?void 0:de.relative),be=Za(Oe,ze,l),je=Qt(be,Oe,ze);if(je.active&&je.matches&&(be=je.matches),!be){nt(H,G,mr(404,{pathname:ze}),{flushSync:Ie});return}let{path:Le,submission:Me,error:ot}=bC(p.v7_normalizeFormMethod,!0,ze,de);if(ot){nt(H,G,ot,{flushSync:Ie});return}let at=kf(be,Le);if(L=(de&&de.preventScrollReset)===!0,Me&&Oi(Me.formMethod)){ke(H,G,Le,at,be,je.active,Ie,Me);return}ee.set(H,{routeId:G,path:Le}),Be(H,G,Le,at,be,je.active,Ie,Me)}async function ke(H,G,re,de,Ie,Oe,ze,be){Gn(),ee.delete(H);function je(mt){if(!mt.route.action&&!mt.route.lazy){let Jn=mr(405,{method:be.formMethod,pathname:re,routeId:G});return nt(H,G,Jn,{flushSync:ze}),!0}return!1}if(!Oe&&je(de))return;let Le=T.fetchers.get(H);dn(H,Az(be,Le),{flushSync:ze});let Me=new AbortController,ot=bu(t.history,re,Me.signal,be);if(Oe){let mt=await Ei(Ie,re,ot.signal);if(mt.type==="aborted")return;if(mt.type==="error"){let{error:Jn}=Qn(re,mt);nt(H,G,Jn,{flushSync:ze});return}else if(mt.matches){if(Ie=mt.matches,de=kf(Ie,re),je(de))return}else{nt(H,G,mr(404,{pathname:re}),{flushSync:ze});return}}X.set(H,Me);let at=fe,it=(await qe("action",T,ot,[de],Ie,H))[de.route.id];if(ot.signal.aborted){X.get(H)===Me&&X.delete(H);return}if(p.v7_fetcherPersist&&Re.has(H)){if(il(it)||Hr(it)){dn(H,No(void 0));return}}else{if(il(it))if(X.delete(H),te>at){dn(H,No(void 0));return}else return K.add(H),dn(H,vf(be)),Qe(ot,it,!1,{fetcherSubmission:be});if(Hr(it)){nt(H,G,it.error);return}}if(qo(it))throw mr(400,{type:"defer-action"});let Yt=T.navigation.location||T.location,kt=bu(t.history,Yt,Me.signal),Ti=a||o,Yn=T.navigation.state!=="idle"?Za(Ti,T.navigation.location,l):T.matches;lt(Yn,"Didn't find any matches after fetcher action");let Xn=++fe;$.set(H,Xn);let Tn=vf(be,it.data);T.fetchers.set(H,Tn);let[Si,Je]=TC(t.history,T,Yn,be,Yt,!1,p.v7_skipActionErrorRevalidation,he,Y,Q,Re,ee,K,Ti,l,[de.route.id,it]);Je.filter(mt=>mt.key!==H).forEach(mt=>{let Jn=mt.key,Gl=T.fetchers.get(Jn),es=vf(void 0,Gl?Gl.data:void 0);T.fetchers.set(Jn,es),X.has(Jn)&&An(Jn),mt.controller&&X.set(Jn,mt.controller)}),He({fetchers:new Map(T.fetchers)});let ii=()=>Je.forEach(mt=>An(mt.key));Me.signal.addEventListener("abort",ii);let{loaderResults:Zi,fetcherResults:xi}=await Wt(T,Yn,Si,Je,kt);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",ii),$.delete(H),X.delete(H),Je.forEach(mt=>X.delete(mt.key));let Ye=Ip(Zi);if(Ye)return Qe(kt,Ye.result,!1);if(Ye=Ip(xi),Ye)return K.add(Ye.key),Qe(kt,Ye.result,!1);let{loaderData:Rt,errors:Sn}=IC(T,Yn,Si,Zi,void 0,Je,xi,W);if(T.fetchers.has(H)){let mt=No(it.data);T.fetchers.set(H,mt)}Eo(Xn),T.navigation.state==="loading"&&Xn>te?(lt(N,"Expected pending action"),j&&j.abort(),We(T.navigation.location,{matches:Yn,loaderData:Rt,errors:Sn,fetchers:new Map(T.fetchers)})):(He({errors:Sn,loaderData:CC(T.loaderData,Rt,Yn,Sn),fetchers:new Map(T.fetchers)}),he=!1)}async function Be(H,G,re,de,Ie,Oe,ze,be){let je=T.fetchers.get(H);dn(H,vf(be,je?je.data:void 0),{flushSync:ze});let Le=new AbortController,Me=bu(t.history,re,Le.signal);if(Oe){let it=await Ei(Ie,re,Me.signal);if(it.type==="aborted")return;if(it.type==="error"){let{error:Yt}=Qn(re,it);nt(H,G,Yt,{flushSync:ze});return}else if(it.matches)Ie=it.matches,de=kf(Ie,re);else{nt(H,G,mr(404,{pathname:re}),{flushSync:ze});return}}X.set(H,Le);let ot=fe,ct=(await qe("loader",T,Me,[de],Ie,H))[de.route.id];if(qo(ct)&&(ct=await eS(ct,Me.signal,!0)||ct),X.get(H)===Le&&X.delete(H),!Me.signal.aborted){if(Re.has(H)){dn(H,No(void 0));return}if(il(ct))if(te>ot){dn(H,No(void 0));return}else{K.add(H),await Qe(Me,ct,!1);return}if(Hr(ct)){nt(H,G,ct.error);return}lt(!qo(ct),"Unhandled fetcher deferred data"),dn(H,No(ct.data))}}async function Qe(H,G,re,de){let{submission:Ie,fetcherSubmission:Oe,replace:ze}=de===void 0?{}:de;G.response.headers.has("X-Remix-Revalidate")&&(he=!0);let be=G.response.headers.get("Location");lt(be,"Expected a Location header on the redirect Response"),be=xC(be,new URL(H.url),l);let je=Ad(T.location,be,{_isRedirect:!0});if(n){let it=!1;if(G.response.headers.has("X-Remix-Reload-Document"))it=!0;else if(ZT.test(be)){const Yt=t.history.createURL(be);it=Yt.origin!==e.location.origin||oo(Yt.pathname,l)==null}if(it){ze?e.location.replace(be):e.location.assign(be);return}}j=null;let Le=ze===!0||G.response.headers.has("X-Remix-Replace")?mn.Replace:mn.Push,{formMethod:Me,formAction:ot,formEncType:at}=T.navigation;!Ie&&!Oe&&Me&&ot&&at&&(Ie=OC(T.navigation));let ct=Ie||Oe;if(oz.has(G.response.status)&&ct&&Oi(ct.formMethod))await z(Le,je,{submission:Xt({},ct,{formAction:be}),preventScrollReset:L,enableViewTransition:re?V:void 0});else{let it=a_(je,Ie);await z(Le,je,{overrideNavigation:it,fetcherSubmission:Oe,preventScrollReset:L,enableViewTransition:re?V:void 0})}}async function qe(H,G,re,de,Ie,Oe){let ze,be={};try{ze=await gz(u,H,G,re,de,Ie,Oe,s,i)}catch(je){return de.forEach(Le=>{be[Le.route.id]={type:At.error,error:je}}),be}for(let[je,Le]of Object.entries(ze))if(Tz(Le)){let Me=Le.result;be[je]={type:At.redirect,response:_z(Me,re,je,Ie,l,p.v7_relativeSplatPath)}}else be[je]=await vz(Le);return be}async function Wt(H,G,re,de,Ie){let Oe=H.matches,ze=qe("loader",H,Ie,re,G,null),be=Promise.all(de.map(async Me=>{if(Me.matches&&Me.match&&Me.controller){let at=(await qe("loader",H,bu(t.history,Me.path,Me.controller.signal),[Me.match],Me.matches,Me.key))[Me.match.route.id];return{[Me.key]:at}}else return Promise.resolve({[Me.key]:{type:At.error,error:mr(404,{pathname:Me.path})}})})),je=await ze,Le=(await be).reduce((Me,ot)=>Object.assign(Me,ot),{});return await Promise.all([Rz(G,je,Ie.signal,Oe,H.loaderData),Iz(G,Le,de)]),{loaderResults:je,fetcherResults:Le}}function Gn(){he=!0,Y.push(...ks()),ee.forEach((H,G)=>{X.has(G)&&(Q.add(G),An(G))})}function dn(H,G,re){re===void 0&&(re={}),T.fetchers.set(H,G),He({fetchers:new Map(T.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function nt(H,G,re,de){de===void 0&&(de={});let Ie=zu(T.matches,G);nn(H),He({errors:{[Ie.route.id]:re},fetchers:new Map(T.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function hr(H){return p.v7_fetcherPersist&&(Ae.set(H,(Ae.get(H)||0)+1),Re.has(H)&&Re.delete(H)),T.fetchers.get(H)||az}function nn(H){let G=T.fetchers.get(H);X.has(H)&&!(G&&G.state==="loading"&&$.has(H))&&An(H),ee.delete(H),$.delete(H),K.delete(H),Re.delete(H),Q.delete(H),T.fetchers.delete(H)}function bn(H){if(p.v7_fetcherPersist){let G=(Ae.get(H)||0)-1;G<=0?(Ae.delete(H),Re.add(H)):Ae.set(H,G)}else nn(H);He({fetchers:new Map(T.fetchers)})}function An(H){let G=X.get(H);lt(G,"Expected fetch controller: "+H),G.abort(),X.delete(H)}function Na(H){for(let G of H){let re=hr(G),de=No(re.data);T.fetchers.set(G,de)}}function Wl(){let H=[],G=!1;for(let re of K){let de=T.fetchers.get(re);lt(de,"Expected fetcher: "+re),de.state==="loading"&&(K.delete(re),H.push(re),G=!0)}return Na(H),G}function Eo(H){let G=[];for(let[re,de]of $)if(de<H){let Ie=T.fetchers.get(re);lt(Ie,"Expected fetcher: "+re),Ie.state==="loading"&&(An(re),$.delete(re),G.push(re))}return Na(G),G.length>0}function Kl(H,G){let re=T.blockers.get(H)||yf;return ue.get(H)!==G&&ue.set(H,G),re}function bo(H){T.blockers.delete(H),ue.delete(H)}function Br(H,G){let re=T.blockers.get(H)||yf;lt(re.state==="unblocked"&&G.state==="blocked"||re.state==="blocked"&&G.state==="blocked"||re.state==="blocked"&&G.state==="proceeding"||re.state==="blocked"&&G.state==="unblocked"||re.state==="proceeding"&&G.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+G.state);let de=new Map(T.blockers);de.set(H,G),He({blockers:de})}function Ps(H){let{currentLocation:G,nextLocation:re,historyAction:de}=H;if(ue.size===0)return;ue.size>1&&dc(!1,"A router only supports one blocker at a time");let Ie=Array.from(ue.entries()),[Oe,ze]=Ie[Ie.length-1],be=T.blockers.get(Oe);if(!(be&&be.state==="proceeding")&&ze({currentLocation:G,nextLocation:re,historyAction:de}))return Oe}function Yi(H){let G=mr(404,{pathname:H}),re=a||o,{matches:de,route:Ie}=PC(re);return ks(),{notFoundMatches:de,route:Ie,error:G}}function Qn(H,G){return{boundaryId:zu(G.partialMatches).route.id,error:mr(400,{type:"route-discovery",pathname:H,message:G.error!=null&&"message"in G.error?G.error:String(G.error)})}}function ks(H){let G=[];return W.forEach((re,de)=>{(!H||H(de))&&(re.cancel(),G.push(de),W.delete(de))}),G}function Xi(H,G,re){if(C=H,w=G,R=re||null,!v&&T.navigation===o_){v=!0;let de=Da(T.location,T.matches);de!=null&&He({restoreScrollPosition:de})}return()=>{C=null,w=null,R=null}}function Os(H,G){return R&&R(H,G.map(de=>j$(de,T.loaderData)))||H.key}function Ji(H,G){if(C&&w){let re=Os(H,G);C[re]=w()}}function Da(H,G){if(C){let re=Os(H,G),de=C[re];if(typeof de=="number")return de}return null}function Qt(H,G,re){if(d){if(S.has(re))return{active:!1,matches:H};if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:im(G,re,l,!0)}}else return{active:!0,matches:im(G,re,l,!0)||[]}}return{active:!1,matches:null}}async function Ei(H,G,re){let de=H;for(;;){let Ie=a==null,Oe=a||o;try{await hz(d,G,de,Oe,s,i,xe,re)}catch(je){return{type:"error",error:je,partialMatches:de}}finally{Ie&&(o=[...o])}if(re.aborted)return{type:"aborted"};let ze=Za(Oe,G,l);if(ze)return ri(G,S),{type:"success",matches:ze};let be=im(Oe,G,l,!0);if(!be||de.length===be.length&&de.every((je,Le)=>je.route.id===be[Le].route.id))return ri(G,S),{type:"success",matches:null};de=be}}function ri(H,G){if(G.size>=E){let re=G.values().next().value;G.delete(re)}G.add(H)}function bi(H){s={},a=Pd(H,i,void 0,s)}function To(H,G){let re=a==null;IL(H,G,a||o,s,i),re&&(o=[...o],He({}))}return D={get basename(){return l},get future(){return p},get state(){return T},get routes(){return o},get window(){return e},initialize:Se,subscribe:Et,enableScrollRestoration:Xi,navigate:Gt,fetch:ce,revalidate:st,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:hr,deleteFetcher:bn,dispose:Ge,getBlocker:Kl,deleteBlocker:bo,patchRoutes:To,_internalFetchControllers:X,_internalActiveDeferreds:W,_internalSetRoutes:bi},D}function cz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qE(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let p of e)if(l.push(p),p.route.id===o){u=p;break}}else l=e,u=e[e.length-1];let d=JT(i||".",XT(l,s),oo(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!tS(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Js([n,d.pathname])),Tl(d)}function bC(t,e,n,r){if(!r||!cz(r))return{path:n};if(r.formMethod&&!xz(r.formMethod))return{path:n,error:mr(405,{method:r.formMethod})};let i=()=>({path:n,error:mr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=CL(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Oi(o))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,E)=>{let[S,C]=E;return""+_+S+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!Oi(o))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=WE(r.formData),u=r.formData;else if(r.body instanceof FormData)l=WE(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=RC(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=RC(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Oi(d.formMethod))return{path:n,submission:d};let p=ba(n);return e&&p.search&&tS(p.search)&&l.append("index",""),p.search="?"+l,{path:Tl(p),submission:d}}function fz(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function TC(t,e,n,r,i,s,o,a,l,u,d,p,y,_,E,S){let C=S?Hr(S[1])?S[1].error:S[1].data:void 0,R=t.createURL(e.location),w=t.createURL(i),v=S&&Hr(S[1])?S[0]:void 0,I=v?fz(n,v):n,k=S?S[1].statusCode:void 0,B=o&&k&&k>=400,D=I.filter((N,L)=>{let{route:j}=N;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(dz(e.loaderData,e.matches[L],N)||l.some(le=>le===N.route.id))return!0;let V=e.matches[L],M=N;return SC(N,Xt({currentUrl:R,currentParams:V.params,nextUrl:w,nextParams:M.params},r,{actionResult:C,actionStatus:k,defaultShouldRevalidate:B?!1:a||R.pathname+R.search===w.pathname+w.search||R.search!==w.search||RL(V,M)}))}),T=[];return p.forEach((N,L)=>{if(s||!n.some(me=>me.route.id===N.routeId)||d.has(L))return;let j=Za(_,N.path,E);if(!j){T.push({key:L,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(L),M=kf(j,N.path),le=!1;y.has(L)?le=!1:u.has(L)?(u.delete(L),le=!0):V&&V.state!=="idle"&&V.data===void 0?le=a:le=SC(M,Xt({currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:k,defaultShouldRevalidate:B?!1:a})),le&&T.push({key:L,routeId:N.routeId,path:N.path,matches:j,match:M,controller:new AbortController})}),[D,T]}function dz(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function RL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function SC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hz(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(d,p)=>{a.aborted||IL(d,p,r,i,s)}}),o.set(l,u)),u&&bz(u)&&await u}finally{o.delete(l)}}function IL(t,e,n,r,i){if(t){var s;let o=r[t];lt(o,"No route found to patch children into: routeId = "+t);let a=Pd(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Pd(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function pz(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];lt(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";dc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!M$.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Xt({},e(i),{lazy:void 0}))}async function mz(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function gz(t,e,n,r,i,s,o,a,l,u){let d=s.map(_=>_.route.lazy?pz(_.route,l,a):void 0),p=s.map((_,E)=>{let S=d[E],C=i.some(w=>w.route.id===_.route.id);return Xt({},_,{shouldLoad:C,resolve:async w=>(w&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(C=!0),C?yz(e,r,_,S,w,u):Promise.resolve({type:At.data,result:void 0}))})}),y=await t({matches:p,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return y}async function yz(t,e,n,r,i,s){let o,a,l=u=>{let d,p=new Promise((E,S)=>d=S);a=()=>d(),e.signal.addEventListener("abort",a);let y=E=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(S=>y(S)):y())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,p])};try{let u=n.route[t];if(r)if(u){let d,[p]=await Promise.all([l(u).catch(y=>{d=y}),r]);if(d!==void 0)throw d;o=p}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw mr(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:At.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),p=d.pathname+d.search;throw mr(404,{pathname:p})}lt(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:At.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vz(t){let{result:e,type:n}=t;if(AL(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:At.error,error:d}}return n===At.error?{type:At.error,error:new Ym(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:At.data,data:u,statusCode:e.status,headers:e.headers}}if(n===At.error){if(kC(e)){var r;if(e.data instanceof Error){var i;return{type:At.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Ym(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:At.error,error:e,statusCode:iy(e)?e.status:void 0}}if(Sz(e)){var s,o;return{type:At.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(kC(e)){var a,l;return{type:At.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:At.data,data:e}}function _z(t,e,n,r,i,s){let o=t.headers.get("Location");if(lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZT.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=qE(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function xC(t,e,n){if(ZT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=oo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function bu(t,e,n,r){let i=t.createURL(CL(e)).toString(),s={signal:n};if(r&&Oi(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=WE(r.formData):s.body=r.formData}return new Request(i,s)}function WE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function RC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function wz(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&Hr(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,_=e[y];if(lt(!il(_),"Cannot handle redirect results in processLoaderData"),Hr(_)){let E=_.error;d!==void 0&&(E=d,d=void 0),o=o||{};{let S=zu(t,y);o[S.route.id]==null&&(o[S.route.id]=E)}s[y]=void 0,l||(l=!0,a=iy(_.error)?_.error.status:500),_.headers&&(u[y]=_.headers)}else qo(_)?(r.set(y,_.deferredData),s[y]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!l&&(a=_.statusCode),_.headers&&(u[y]=_.headers)):(s[y]=_.data,_.statusCode&&_.statusCode!==200&&!l&&(a=_.statusCode),_.headers&&(u[y]=_.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function IC(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=wz(e,r,i,a);return s.forEach(d=>{let{key:p,match:y,controller:_}=d,E=o[p];if(lt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Hr(E)){let S=zu(t.matches,y==null?void 0:y.route.id);u&&u[S.route.id]||(u=Xt({},u,{[S.route.id]:E.error})),t.fetchers.delete(p)}else if(il(E))lt(!1,"Unhandled fetcher revalidation redirect");else if(qo(E))lt(!1,"Unhandled fetcher deferred data");else{let S=No(E.data);t.fetchers.set(p,S)}}),{loaderData:l,errors:u}}function CC(t,e,n,r){let i=Xt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function AC(t){return t?Hr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function PC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ym(t||500,a,new Error(l),!0)}function Ip(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(il(i))return{key:r,result:i}}}function CL(t){let e=typeof t=="string"?ba(t):t;return Tl(Xt({},e,{hash:""}))}function Ez(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bz(t){return typeof t=="object"&&t!=null&&"then"in t}function Tz(t){return AL(t.result)&&sz.has(t.result.status)}function qo(t){return t.type===At.deferred}function Hr(t){return t.type===At.error}function il(t){return(t&&t.type)===At.redirect}function kC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Sz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function AL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xz(t){return iz.has(t.toLowerCase())}function Oi(t){return nz.has(t.toLowerCase())}async function Rz(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(y=>(y==null?void 0:y.route.id)===a);if(!u)continue;let d=r.find(y=>y.route.id===u.route.id),p=d!=null&&!RL(d,u)&&(i&&i[u.route.id])!==void 0;qo(l)&&p&&await eS(l,n,!1).then(y=>{y&&(e[a]=y)})}}async function Iz(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&qo(a)&&(lt(o,"Expected an AbortController for revalidating fetcher deferred result"),await eS(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function eS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:At.data,data:t.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:t.deferredData.data}}}function tS(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function kf(t,e){let n=typeof e=="string"?ba(e).search:e.search;if(t[t.length-1].route.index&&tS(n||""))return t[t.length-1];let r=TL(t);return r[r.length-1]}function OC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function a_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Az(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function No(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pz(t,e){try{let n=t.sessionStorage.getItem(xL);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function kz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(xL,JSON.stringify(n))}catch(r){dc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}const rh=O.createContext(null),nS=O.createContext(null),Ta=O.createContext(null),rS=O.createContext(null),Sa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),PL=O.createContext(null);function Oz(t,e){let{relative:n}=e===void 0?{}:e;ih()||lt(!1);let{basename:r,navigator:i}=O.useContext(Ta),{hash:s,pathname:o,search:a}=sy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Js([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ih(){return O.useContext(rS)!=null}function xa(){return ih()||lt(!1),O.useContext(rS).location}function kL(t){O.useContext(Ta).static||O.useLayoutEffect(t)}function Ra(){let{isDataRoute:t}=O.useContext(Sa);return t?Hz():Nz()}function Nz(){ih()||lt(!1);let t=O.useContext(rh),{basename:e,future:n,navigator:r}=O.useContext(Ta),{matches:i}=O.useContext(Sa),{pathname:s}=xa(),o=JSON.stringify(XT(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return kL(()=>{a.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=JT(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Js([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function iS(){let{matches:t}=O.useContext(Sa),e=t[t.length-1];return e?e.params:{}}function sy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Ta),{matches:i}=O.useContext(Sa),{pathname:s}=xa(),o=JSON.stringify(XT(i,r.v7_relativeSplatPath));return O.useMemo(()=>JT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Dz(t,e,n,r){ih()||lt(!1);let{navigator:i}=O.useContext(Ta),{matches:s}=O.useContext(Sa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xa(),d;d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Za(t,{pathname:y});return Vz(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Js([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Js([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function Lz(){let t=zz(),e=iy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const Mz=O.createElement(Lz,null);class Fz extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Sa.Provider,{value:this.props.routeContext},O.createElement(PL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jz(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(rh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Sa.Provider,{value:e},r)}function Vz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||lt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&y[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let _,E=!1,S=null,C=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||Mz,l&&(u<0&&y===0?(qz("route-fallback"),E=!0,C=null):u===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,y+1)),w=()=>{let v;return _?v=S:E?v=C:p.route.Component?v=O.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=d,O.createElement(jz,{match:p,routeContext:{outlet:d,matches:R,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(Fz,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:w(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):w()},null)}var OL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OL||{}),Jm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jm||{});function Uz(t){let e=O.useContext(rh);return e||lt(!1),e}function Bz(t){let e=O.useContext(nS);return e||lt(!1),e}function $z(t){let e=O.useContext(Sa);return e||lt(!1),e}function NL(t){let e=$z(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function zz(){var t;let e=O.useContext(PL),n=Bz(Jm.UseRouteError),r=NL(Jm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hz(){let{router:t}=Uz(OL.UseNavigateStable),e=NL(Jm.UseNavigateStable),n=O.useRef(!1);return kL(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xm({fromRouteId:e},s)))},[t,e])}const NC={};function qz(t,e,n){NC[t]||(NC[t]=!0)}function Wz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:s,static:o=!1,future:a}=t;ih()&&lt(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:Xm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ba(r));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:E="default"}=r,S=O.useMemo(()=>{let C=oo(d,l);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:i}},[l,d,p,y,_,E,i]);return S==null?null:O.createElement(Ta.Provider,{value:u},O.createElement(rS.Provider,{children:n,value:S}))}new Promise(()=>{});function Kz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function DL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qz(t,e){return t.button===0&&(!e||e==="_self")&&!Gz(t)}const Yz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Xz=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Jz="6";try{window.__reactRouterVersion=Jz}catch{}function Zz(t,e){return uz({basename:void 0,future:hc({},void 0,{v7_prependBasename:!0}),history:N$({window:void 0}),hydrationData:eH(),routes:t,mapRouteProperties:Kz,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function eH(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=hc({},e,{errors:tH(e.errors)})),e}function tH(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ym(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const LL=O.createContext({isTransitioning:!1}),nH=O.createContext(new Map),rH="startTransition",DC=vm[rH],iH="flushSync",LC=D7[iH];function sH(t){DC?DC(t):t()}function _f(t){LC?LC(t):t()}let oH=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function aH(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=O.useState(n.state),[o,a]=O.useState(),[l,u]=O.useState({isTransitioning:!1}),[d,p]=O.useState(),[y,_]=O.useState(),[E,S]=O.useState(),C=O.useRef(new Map),{v7_startTransition:R}=r||{},w=O.useCallback(T=>{R?sH(T):T()},[R]),v=O.useCallback((T,N)=>{let{deletedFetchers:L,unstable_flushSync:j,unstable_viewTransitionOpts:V}=N;L.forEach(le=>C.current.delete(le)),T.fetchers.forEach((le,me)=>{le.data!==void 0&&C.current.set(me,le.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||M){j?_f(()=>s(T)):w(()=>s(T));return}if(j){_f(()=>{y&&(d&&d.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let le=n.window.document.startViewTransition(()=>{_f(()=>s(T))});le.finished.finally(()=>{_f(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})})}),_f(()=>_(le));return}y?(d&&d.resolve(),y.skipTransition(),S({state:T,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(T),u({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,y,d,C,w]);O.useLayoutEffect(()=>n.subscribe(v),[n,v]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new oH)},[l]),O.useEffect(()=>{if(d&&o&&n.window){let T=o,N=d.promise,L=n.window.document.startViewTransition(async()=>{w(()=>s(T)),await N});L.finished.finally(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})}),_(L)}},[w,o,d,n.window]),O.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,y,i.location,o]),O.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[l.isTransitioning,E]),O.useEffect(()=>{},[]);let I=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,N,L)=>n.navigate(T,{state:N,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(T,N,L)=>n.navigate(T,{replace:!0,state:N,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),k=n.basename||"/",B=O.useMemo(()=>({router:n,navigator:I,static:!1,basename:k}),[n,I,k]),D=O.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return O.createElement(O.Fragment,null,O.createElement(rh.Provider,{value:B},O.createElement(nS.Provider,{value:i},O.createElement(nH.Provider,{value:C.current},O.createElement(LL.Provider,{value:l},O.createElement(Wz,{basename:k,location:i.location,navigationType:i.historyAction,navigator:I,future:D},i.initialized||n.future.v7_partialHydration?O.createElement(lH,{routes:n.routes,future:n.future,state:i}):e))))),null)}const lH=O.memo(uH);function uH(t){let{routes:e,future:n,state:r}=t;return Dz(e,void 0,r,n)}const cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ML=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:p}=e,y=DL(e,Yz),{basename:_}=O.useContext(Ta),E,S=!1;if(typeof u=="string"&&fH.test(u)&&(E=u,cH))try{let v=new URL(window.location.href),I=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=oo(I.pathname,_);I.origin===v.origin&&k!=null?u=k+I.search+I.hash:S=!0}catch{}let C=Oz(u,{relative:i}),R=hH(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:p});function w(v){r&&r(v),v.defaultPrevented||R(v)}return O.createElement("a",hc({},y,{href:E||C,onClick:S||s?r:w,ref:n,target:l}))}),vr=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,p=DL(e,Xz),y=sy(l,{relative:p.relative}),_=xa(),E=O.useContext(nS),{navigator:S,basename:C}=O.useContext(Ta),R=E!=null&&pH(y)&&u===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,v=_.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(v=v.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&C&&(I=oo(I,C)||I);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let B=v===w||!o&&v.startsWith(w)&&v.charAt(k)==="/",D=I!=null&&(I===w||!o&&I.startsWith(w)&&I.charAt(w.length)==="/"),T={isActive:B,isPending:D,isTransitioning:R},N=B?r:void 0,L;typeof s=="function"?L=s(T):L=[s,B?"active":null,D?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(T):a;return O.createElement(ML,hc({},p,{"aria-current":N,className:L,ref:n,style:j,to:l,unstable_viewTransition:u}),typeof d=="function"?d(T):d)});var KE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KE||(KE={}));var MC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MC||(MC={}));function dH(t){let e=O.useContext(rh);return e||lt(!1),e}function hH(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ra(),u=xa(),d=sy(t,{relative:o});return O.useCallback(p=>{if(Qz(p,n)){p.preventDefault();let y=r!==void 0?r:Tl(u)===Tl(d);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function pH(t,e){e===void 0&&(e={});let n=O.useContext(LL);n==null&&lt(!1);let{basename:r}=dH(KE.useViewTransitionState),i=sy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qm(i.pathname,o)!=null||Qm(i.pathname,s)!=null}var FC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce=function(t,e){if(!t)throw kc(e)},kc=function(t){return new Error("Firebase Database ("+FL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(y=64)),r.push(n[d],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new gH;const y=s<<2|a>>4;if(r.push(y),u!==64){const _=a<<4&240|u>>2;if(r.push(_),p!==64){const E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VL=function(t){const e=jL(t);return sS.encodeByteArray(e,!0)},Zm=function(t){return VL(t).replace(/\./g,"")},eg=function(t){try{return sS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){return UL(void 0,t)}function UL(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vH(n)||(t[n]=UL(t[n],e[n]));return t}function vH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=()=>_H().__FIREBASE_DEFAULTS__,EH=()=>{if(typeof process>"u"||typeof FC>"u")return;const t=FC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eg(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return wH()||EH()||bH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BL=t=>{var e,n;return(n=(e=oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oS=t=>{const e=BL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$L=()=>{var t;return(t=oy())===null||t===void 0?void 0:t.config},zL=t=>{var e;return(e=oy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zm(JSON.stringify(n)),Zm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function TH(){var t;const e=(t=oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xH(){const t=fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qL(){return FL.NODE_ADMIN===!0}function RH(){return!TH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IH(){try{return typeof indexedDB=="object"}catch{return!1}}function CH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AH,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rs(i,a,r)}}function PH(t,e){return t.replace(kH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return JSON.parse(t)}function $n(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=kd(eg(s[0])||""),n=kd(eg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},OH=function(t){const e=WL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NH=function(t){const e=WL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function GE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ng(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jC(s)&&jC(o)){if(!ng(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Of(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let p=0;p<80;p++){p<40?p<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):p<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const y=(i<<5|i>>>27)+u+l+d+r[p]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function LH(t,e){const n=new MH(t,e);return n.subscribe.bind(n)}class MH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=l_),i.error===void 0&&(i.error=l_),i.complete===void 0&&(i.complete=l_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l_(){}function jH(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ce(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ay=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($H(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BH(t){return t===Ya?void 0:t}function $H(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const HH={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},qH=dt.INFO,WH={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},KH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=qH,this._logHandler=KH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const GH=(t,e)=>e.some(n=>t instanceof n);let VC,UC;function QH(){return VC||(VC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YH(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KL=new WeakMap,QE=new WeakMap,GL=new WeakMap,u_=new WeakMap,cS=new WeakMap;function XH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ra(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KL.set(n,t)}).catch(()=>{}),cS.set(e,t),e}function JH(t){if(QE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});QE.set(t,e)}let YE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return QE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZH(t){YE=t(YE)}function eq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c_(this),e,...n);return GL.set(r,e.sort?e.sort():[e]),ra(r)}:YH().includes(t)?function(...e){return t.apply(c_(this),e),ra(KL.get(this))}:function(...e){return ra(t.apply(c_(this),e))}}function tq(t){return typeof t=="function"?eq(t):(t instanceof IDBTransaction&&JH(t),GH(t,QH())?new Proxy(t,YE):t)}function ra(t){if(t instanceof IDBRequest)return XH(t);if(u_.has(t))return u_.get(t);const e=tq(t);return e!==t&&(u_.set(t,e),cS.set(e,t)),e}const c_=t=>cS.get(t);function nq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ra(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const rq=["get","getKey","getAll","getAllKeys","count"],iq=["put","add","delete","clear"],f_=new Map;function BC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f_.get(e))return f_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return f_.set(e,s),s}ZH(t=>({...t,get:(e,n,r)=>BC(e,n)||t.get(e,n,r),has:(e,n)=>!!BC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XE="@firebase/app",$C="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ly("@firebase/app"),aq="@firebase/app-compat",lq="@firebase/analytics-compat",uq="@firebase/analytics",cq="@firebase/app-check-compat",fq="@firebase/app-check",dq="@firebase/auth",hq="@firebase/auth-compat",pq="@firebase/database",mq="@firebase/database-compat",gq="@firebase/functions",yq="@firebase/functions-compat",vq="@firebase/installations",_q="@firebase/installations-compat",wq="@firebase/messaging",Eq="@firebase/messaging-compat",bq="@firebase/performance",Tq="@firebase/performance-compat",Sq="@firebase/remote-config",xq="@firebase/remote-config-compat",Rq="@firebase/storage",Iq="@firebase/storage-compat",Cq="@firebase/firestore",Aq="@firebase/vertexai-preview",Pq="@firebase/firestore-compat",kq="firebase",Oq="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="[DEFAULT]",Nq={[XE]:"fire-core",[aq]:"fire-core-compat",[uq]:"fire-analytics",[lq]:"fire-analytics-compat",[fq]:"fire-app-check",[cq]:"fire-app-check-compat",[dq]:"fire-auth",[hq]:"fire-auth-compat",[pq]:"fire-rtdb",[mq]:"fire-rtdb-compat",[gq]:"fire-fn",[yq]:"fire-fn-compat",[vq]:"fire-iid",[_q]:"fire-iid-compat",[wq]:"fire-fcm",[Eq]:"fire-fcm-compat",[bq]:"fire-perf",[Tq]:"fire-perf-compat",[Sq]:"fire-rc",[xq]:"fire-rc-compat",[Rq]:"fire-gcs",[Iq]:"fire-gcs-compat",[Cq]:"fire-fst",[Pq]:"fire-fst-compat",[Aq]:"fire-vertex","fire-js":"fire-js",[kq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Map,Dq=new Map,ZE=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(ZE.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;ZE.set(e,t);for(const n of rg.values())zC(n,t);for(const n of Dq.values())zC(n,t);return!0}function oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new sh("app","Firebase",Lq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Oq;function QL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:JE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ia.create("bad-app-name",{appName:String(i)});if(n||(n=$L()),!n)throw ia.create("no-options");const s=rg.get(i);if(s){if(ng(n,s.options)&&ng(r,s.config))return s;throw ia.create("duplicate-app",{appName:i})}const o=new zH(i);for(const l of ZE.values())o.addComponent(l);const a=new Mq(n,r,o);return rg.set(i,a),a}function uy(t=JE){const e=rg.get(t);if(!e&&t===JE&&$L())return QL();if(!e)throw ia.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=Nq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}fa(new ao(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="firebase-heartbeat-database",jq=1,Od="firebase-heartbeat-store";let d_=null;function YL(){return d_||(d_=nq(Fq,jq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Od)}catch(n){console.warn(n)}}}}).catch(t=>{throw ia.create("idb-open",{originalErrorMessage:t.message})})),d_}async function Vq(t){try{const n=(await YL()).transaction(Od),r=await n.objectStore(Od).get(XL(t));return await n.done,r}catch(e){if(e instanceof Rs)lo.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function HC(t,e){try{const r=(await YL()).transaction(Od,"readwrite");await r.objectStore(Od).put(e,XL(t)),await r.done}catch(n){if(n instanceof Rs)lo.warn(n.message);else{const r=ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function XL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=1024,Bq=30*24*60*60*1e3;class $q{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Bq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qC(),{heartbeatsToSend:r,unsentEntries:i}=zq(this._heartbeatsCache.heartbeats),s=Zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lo.warn(n),""}}}function qC(){return new Date().toISOString().substring(0,10)}function zq(t,e=Uq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IH()?CH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WC(t){return Zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){fa(new ao("platform-logger",e=>new sq(e),"PRIVATE")),fa(new ao("heartbeat",e=>new $q(e),"PRIVATE")),mi(XE,$C,t),mi(XE,$C,"esm2017"),mi("fire-js","")}qq("");function fS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wq=JL,ZL=new sh("auth","Firebase",JL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new ly("@firebase/auth");function Kq(t,...e){ig.logLevel<=dt.WARN&&ig.warn(`Auth (${Ia}): ${t}`,...e)}function sm(t,...e){ig.logLevel<=dt.ERROR&&ig.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw hS(t,...e)}function zi(t,...e){return hS(t,...e)}function dS(t,e,n){const r=Object.assign(Object.assign({},Wq()),{[e]:n});return new sh("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vi(t,"argument-error"),dS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZL.create(t,...e)}function Ke(t,e,...n){if(!t)throw hS(e,...n)}function Ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sm(e),new Error(e)}function uo(t,e){t||Ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qq(){return KC()==="http:"||KC()==="https:"}function KC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qq()||SH()||"connection"in navigator)?navigator.onLine:!0}function Xq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=uS()||HL()}get(){return Yq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=new ah(3e4,6e4);function Ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yo(t,e,n,r,i={}){return tM(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eM.fetch()(nM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jq),e);try{const i=new tW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dS(t,d,u);vi(t,d)}}catch(i){if(i instanceof Rs)throw i;vi(t,"network-request-failed",{message:String(i)})}}async function lh(t,e,n,r,i={}){const s=await yo(t,e,n,r,i);return"mfaPendingCredential"in s&&vi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?pS(t.config,i):`${t.config.apiScheme}://${i}`}function eW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),Zq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zi(t,e,r);return i.customData._tokenResponse=n,i}function GC(t){return t!==void 0&&t.enterprise!==void 0}class nW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rW(t,e){return yo(t,"GET","/v2/recaptchaConfig",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iW(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function rM(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sW(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=mS(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xf(h_(i.auth_time)),issuedAtTime:Xf(h_(i.iat)),expirationTime:Xf(h_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function h_(t){return Number(t)*1e3}function mS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eg(n);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QC(t){const e=mS(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rs&&oW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await mc(t,rM(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iM(s.providerUserInfo):[],a=uW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function lW(t){const e=Dt(t);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iM(t){return t.map(e=>{var{providerId:n}=e,r=fS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){const n=await tM(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eM.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fW(t,e){return yo(t,"POST","/v2/accounts:revokeToken",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=QC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ju;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return Ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sW(this,e)}reload(){return lW(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await mc(this,iW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:I,isAnonymous:k,providerData:B,stsTokenManager:D}=n;Ke(v&&D,e,"internal-error");const T=Ju.fromJSON(this.name,D);Ke(typeof v=="string",e,"internal-error"),Oo(p,e.name),Oo(y,e.name),Ke(typeof I=="boolean",e,"internal-error"),Ke(typeof k=="boolean",e,"internal-error"),Oo(_,e.name),Oo(E,e.name),Oo(S,e.name),Oo(C,e.name),Oo(R,e.name),Oo(w,e.name);const N=new Gs({uid:v,auth:e,email:y,emailVerified:I,displayName:p,isAnonymous:k,photoURL:E,phoneNumber:_,tenantId:S,stsTokenManager:T,createdAt:R,lastLoginAt:w});return B&&Array.isArray(B)&&(N.providerData=B.map(L=>Object.assign({},L))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const s=new Gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?iM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ju;a.updateFromIdToken(r);const l=new Gs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;function Qs(t){uo(t instanceof Function,"Expected a class definition");let e=YC.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sM.type="NONE";const XC=sM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=om(this.userKey,i.apiKey,s),this.fullPersistenceKey=om("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zu(Qs(XC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Qs(XC);const o=om(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const p=Gs._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Zu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Zu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fM(e))return"Blackberry";if(dM(e))return"Webos";if(aM(e))return"Safari";if((e.includes("chrome/")||lM(e))&&!e.includes("edge/"))return"Chrome";if(cM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oM(t=fr()){return/firefox\//i.test(t)}function aM(t=fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lM(t=fr()){return/crios\//i.test(t)}function uM(t=fr()){return/iemobile/i.test(t)}function cM(t=fr()){return/android/i.test(t)}function fM(t=fr()){return/blackberry/i.test(t)}function dM(t=fr()){return/webos/i.test(t)}function gS(t=fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dW(t=fr()){var e;return gS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hW(){return xH()&&document.documentMode===10}function hM(t=fr()){return gS(t)||cM(t)||dM(t)||fM(t)||/windows phone/i.test(t)||uM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e=[]){let n;switch(t){case"Browser":n=JC(fr());break;case"Worker":n=`${JC(fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e={}){return yo(t,"GET","/v2/passwordPolicy",Ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=6;class yW{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZC(this),this.idTokenSubscription=new ZC(this),this.beforeStateQueue=new pW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rM(this,{idToken:e}),r=await Gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(Zs(this));const n=e?Dt(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mW(this),n=new yW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return Dt(t)}class ZC{constructor(e){this.auth=e,this.observer=null,this.addObserver=LH(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _W(t){cy=t}function mM(t){return cy.loadJS(t)}function wW(){return cy.recaptchaEnterpriseScript}function EW(){return cy.gapiScript}function bW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TW="recaptcha-enterprise",SW="NO_RECAPTCHA";class xW{constructor(e){this.type=TW,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{rW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;GC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(SW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wW();l.length!==0&&(l+=a),mM(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function eA(t,e,n,r=!1){const i=new xW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await eA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await eA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t,e){const n=oh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ng(s,e??{}))return i;vi(i,"already-initialized")}return n.initialize({options:e})}function IW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CW(t,e,n){const r=Aa(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gM(e),{host:o,port:a}=AW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),PW()}function gM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AW(t){const e=gM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tA(o)}}}function tA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,n){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}async function kW(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}async function DW(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends yS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nb(e,n,"signInWithPassword",OW);case"emailLink":return NW(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nb(e,r,"signUpPassword",kW);case"emailLink":return DW(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="http://localhost";class Sl extends yS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=fS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Sl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ec(e,n)}buildRequest(){const e={requestUri:LW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FW(t){const e=Of(Nf(t)).link,n=e?Of(Nf(e)).deep_link_id:null,r=Of(Nf(t)).deep_link_id;return(r?Of(Nf(r)).link:null)||r||n||e||t}class vS{constructor(e){var n,r,i,s,o,a;const l=Of(Nf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=MW((i=l.mode)!==null&&i!==void 0?i:null);Ke(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FW(e);try{return new vS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vS.parseLink(n);return Ke(r,"argument-error"),Nd._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends uh{constructor(){super("facebook.com")}static credential(e){return Sl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sl._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends uh{constructor(){super("github.com")}static credential(e){return Sl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends uh{constructor(){super("twitter.com")}static credential(e,n){return Sl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e){return lh(t,"POST","/v1/accounts:signUp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gs._fromIdTokenResponse(e,r,i),o=nA(r);return new xl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nA(r);return new xl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Rs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new og(e,n,r,i)}}function yM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(t,s,e,r):s})}async function VW(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e,n=!1){const{auth:r}=t;if(Vi(r.app))return Promise.reject(Zs(r));const i="reauthenticate";try{const s=await mc(t,yM(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const o=mS(s.idToken);Ke(o,r,"internal-error");const{sub:a}=o;return Ke(t.uid===a,r,"user-mismatch"),xl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e,n=!1){if(Vi(t.app))return Promise.reject(Zs(t));const r="signIn",i=await yM(t,r,e),s=await xl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function BW(t,e){return vM(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $W(t,e,n){if(Vi(t.app))return Promise.reject(Zs(t));const r=Aa(t),o=await nb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_M(t),l}),a=await xl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zW(t,e,n){return Vi(t.app)?Promise.reject(Zs(t)):BW(Dt(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_M(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){return yo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await mc(r,HW(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t,e){return Dt(t).setPersistence(e)}function KW(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function GW(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function QW(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function YW(t){return Dt(t).signOut()}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=1e3,JW=10;class EM extends wM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EM.type="LOCAL";const bM=EM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM extends wM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TM.type="SESSION";const SM=TM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ZW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=wS("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return window}function tK(t){ws().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function nK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iK(){return xM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebaseLocalStorageDb",sK=1,lg="firebaseLocalStorage",IM="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dy(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function oK(){const t=indexedDB.deleteDatabase(RM);return new ch(t).toPromise()}function rb(){const t=indexedDB.open(RM,sK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lg,{keyPath:IM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await oK(),e(await rb()))})})}async function rA(t,e,n){const r=dy(t,!0).put({[IM]:e,value:n});return new ch(r).toPromise()}async function aK(t,e){const n=dy(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function iA(t,e){const n=dy(t,!0).delete(e);return new ch(n).toPromise()}const lK=800,uK=3;class CM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fy._getInstance(iK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nK(),!this.activeServiceWorker)return;this.sender=new eK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rb();return await rA(e,ag,"1"),await iA(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dy(i,!1).getAll();return new ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CM.type="LOCAL";const cK=CM;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){return e?Qs(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends yS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fK(t){return vM(t.auth,new ES(t),t.bypassAuthState)}function dK(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),UW(n,new ES(t),t.bypassAuthState)}async function hK(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),VW(n,new ES(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fK;case"linkViaPopup":case"linkViaRedirect":return hK;case"reauthViaPopup":case"reauthViaRedirect":return dK;default:vi(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new ah(2e3,1e4);async function mK(t,e,n){if(Vi(t.app))return Promise.reject(zi(t,"operation-not-supported-in-this-environment"));const r=Aa(t);Gq(t,e,_S);const i=AM(r,n);return new sl(r,"signInViaPopup",e,i).executeNotNull()}class sl extends PM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=wS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pK.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="pendingRedirect",am=new Map;class yK extends PM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await vK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vK(t,e){const n=EK(e),r=wK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _K(t,e){am.set(t._key(),e)}function wK(t){return Qs(t._redirectPersistence)}function EK(t){return om(gK,t.config.apiKey,t.name)}async function bK(t,e,n=!1){if(Vi(t.app))return Promise.reject(Zs(t));const r=Aa(t),i=AM(r,e),o=await new yK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=10*60*1e3;class SK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TK&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}}function sA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CK=/^https?/;async function AK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RK(t);for(const n of e)try{if(PK(n))return}catch{}vi(t,"unauthorized-domain")}function PK(t){const e=eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CK.test(n))return!1;if(IK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new ah(3e4,6e4);function oA(){const t=ws().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OK(t){return new Promise((e,n)=>{var r,i,s;function o(){oA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oA(),n(zi(t,"network-request-failed"))},timeout:kK.get()})}if(!((i=(r=ws().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ws().gapi)===null||s===void 0)&&s.load)o();else{const a=bW("iframefcb");return ws()[a]=()=>{gapi.load?o():n(zi(t,"network-request-failed"))},mM(`${EW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lm=null,e})}let lm=null;function NK(t){return lm=lm||OK(t),lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=new ah(5e3,15e3),LK="__/auth/iframe",MK="emulator/auth/iframe",FK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VK(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pS(e,MK):`https://${t.config.authDomain}/${LK}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},i=jK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function UK(t){const e=await NK(t),n=ws().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:VK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zi(t,"network-request-failed"),a=ws().setTimeout(()=>{s(o)},DK.get());function l(){ws().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$K=500,zK=600,HK="_blank",qK="http://localhost";class aA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WK(t,e,n,r=$K,i=zK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},BK),{width:r.toString(),height:i.toString(),top:s,left:o}),u=fr().toLowerCase();n&&(a=lM(u)?HK:n),oM(u)&&(e=e||qK,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(dW(u)&&a!=="_self")return KK(e||"",a),new aA(null);const p=window.open(e||"",a,d);Ke(p,t,"popup-blocked");try{p.focus()}catch{}return new aA(p)}function KK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK="__/auth/handler",QK="emulator/auth/handler",YK=encodeURIComponent("fac");async function lA(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:i};if(e instanceof _S){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof uh){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${YK}=${encodeURIComponent(l)}`:"";return`${XK(t)}?${Oc(a).slice(1)}${u}`}function XK({config:t}){return t.emulator?pS(t,QK):`https://${t.authDomain}/${GK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="webStorageSupport";class JK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SM,this._completeRedirectFn=bK,this._overrideRedirectResult=_K}async _openPopup(e,n,r,i){var s;uo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lA(e,n,r,eb(),i);return WK(e,o,wS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lA(e,n,r,eb(),i);return tK(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(uo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UK(e),r=new SK(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p_,{type:p_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[p_];o!==void 0&&n(!!o),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hM()||aM()||gS()}}const ZK=JK;var uA="@firebase/auth",cA="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nG(t){fa(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pM(t)},u=new vW(r,i,s,l);return IW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new ao("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new eG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(uA,cA,tG(t)),mi(uA,cA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=5*60,iG=zL("authIdTokenMaxAge")||rG;let fA=null;const sG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iG)return;const i=n==null?void 0:n.token;fA!==i&&(fA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oG(t=uy()){const e=oh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RW(t,{popupRedirectResolver:ZK,persistence:[cK,bM,SM]}),r=zL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sG(s.toString());GW(n,o,()=>o(n.currentUser)),KW(n,a=>o(a))}}const i=BL("auth");return i&&CW(n,`http://${i}`),n}function aG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_W({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nG("Browser");function OM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Wo(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OM(t))&&(r&&(r+=" "),r+=e);return r}const Dd=t=>typeof t=="number"&&!isNaN(t),hl=t=>typeof t=="string",Kr=t=>typeof t=="function",um=t=>hl(t)||Kr(t)?t:null,ib=t=>O.isValidElement(t)||hl(t)||Kr(t)||Dd(t);function lG(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function hy(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:d,nodeRef:p,isIn:y,playToast:_}=o;const E=r?`${e}--${l}`:e,S=r?`${n}--${l}`:n,C=O.useRef(0);return O.useLayoutEffect(()=>{const R=p.current,w=E.split(" "),v=I=>{I.target===p.current&&(_(),R.removeEventListener("animationend",v),R.removeEventListener("animationcancel",v),C.current===0&&I.type!=="animationcancel"&&R.classList.remove(...w))};R.classList.add(...w),R.addEventListener("animationend",v),R.addEventListener("animationcancel",v)},[]),O.useEffect(()=>{const R=p.current,w=()=>{R.removeEventListener("animationend",w),i?lG(R,d,s):d()};y||(u?w():(C.current=1,R.className+=` ${S}`,R.addEventListener("animationend",w)))},[y]),Pe.createElement(Pe.Fragment,null,a)}}function dA(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const _r=new Map;let Ld=[];const sb=new Set,uG=t=>sb.forEach(e=>e(t)),NM=()=>_r.size>0;function DM(t,e){var n;if(e)return!((n=_r.get(e))==null||!n.isToastActive(t));let r=!1;return _r.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function LM(t,e){ib(t)&&(NM()||Ld.push({content:t,options:e}),_r.forEach(n=>{n.buildToast(t,e)}))}function hA(t,e){_r.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function cG(t){const{subscribe:e,getSnapshot:n,setProps:r}=O.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(d,p,y){let _=1,E=0,S=[],C=[],R=[],w=p;const v=new Map,I=new Set,k=()=>{R=Array.from(v.values()),I.forEach(T=>T())},B=T=>{C=T==null?[]:C.filter(N=>N!==T),k()},D=T=>{const{toastId:N,onOpen:L,updateId:j,children:V}=T.props,M=j==null;T.staleId&&v.delete(T.staleId),v.set(N,T),C=[...C,T.props.toastId].filter(le=>le!==T.staleId),k(),y(dA(T,M?"added":"updated")),M&&Kr(L)&&L(O.isValidElement(V)&&V.props)};return{id:d,props:w,observe:T=>(I.add(T),()=>I.delete(T)),toggle:(T,N)=>{v.forEach(L=>{N!=null&&N!==L.props.toastId||Kr(L.toggle)&&L.toggle(T)})},removeToast:B,toasts:v,clearQueue:()=>{E-=S.length,S=[]},buildToast:(T,N)=>{if(($=>{let{containerId:K,toastId:ee,updateId:Ae}=$;const Re=K?K!==d:d!==1,W=v.has(ee)&&Ae==null;return Re||W})(N))return;const{toastId:L,updateId:j,data:V,staleId:M,delay:le}=N,me=()=>{B(L)},he=j==null;he&&E++;const Y={...w,style:w.toastStyle,key:_++,...Object.fromEntries(Object.entries(N).filter($=>{let[K,ee]=$;return ee!=null})),toastId:L,updateId:j,data:V,closeToast:me,isIn:!1,className:um(N.className||w.toastClassName),bodyClassName:um(N.bodyClassName||w.bodyClassName),progressClassName:um(N.progressClassName||w.progressClassName),autoClose:!N.isLoading&&(Q=N.autoClose,X=w.autoClose,Q===!1||Dd(Q)&&Q>0?Q:X),deleteToast(){const $=v.get(L),{onClose:K,children:ee}=$.props;Kr(K)&&K(O.isValidElement(ee)&&ee.props),y(dA($,"removed")),v.delete(L),E--,E<0&&(E=0),S.length>0?D(S.shift()):k()}};var Q,X;Y.closeButton=w.closeButton,N.closeButton===!1||ib(N.closeButton)?Y.closeButton=N.closeButton:N.closeButton===!0&&(Y.closeButton=!ib(w.closeButton)||w.closeButton);let fe=T;O.isValidElement(T)&&!hl(T.type)?fe=O.cloneElement(T,{closeToast:me,toastProps:Y,data:V}):Kr(T)&&(fe=T({closeToast:me,toastProps:Y,data:V}));const te={content:fe,props:Y,staleId:M};w.limit&&w.limit>0&&E>w.limit&&he?S.push(te):Dd(le)?setTimeout(()=>{D(te)},le):D(te)},setProps(T){w=T},setToggle:(T,N)=>{v.get(T).toggle=N},isToastActive:T=>C.some(N=>N===T),getSnapshot:()=>w.newestOnTop?R.reverse():R}}(o,s,uG);_r.set(o,l);const u=l.observe(a);return Ld.forEach(d=>LM(d.content,d.options)),Ld=[],()=>{u(),_r.delete(o)}},setProps(a){var l;(l=_r.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=_r.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=O.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:DM,count:i==null?void 0:i.length}}function fG(t){const[e,n]=O.useState(!1),[r,i]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:p}=t;var y,_;function E(){n(!0)}function S(){n(!1)}function C(v){const I=s.current;o.canDrag&&I&&(o.didMove=!0,e&&S(),o.delta=t.draggableDirection==="x"?v.clientX-o.start:v.clientY-o.start,o.start!==v.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function R(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",R);const v=s.current;if(o.canDrag&&o.didMove&&v){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();v.style.transition="transform 0.2s, opacity 0.2s",v.style.removeProperty("transform"),v.style.removeProperty("opacity")}}(_=_r.get((y={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||_.setToggle(y.id,y.fn),O.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||S(),window.addEventListener("focus",E),window.addEventListener("blur",S),()=>{window.removeEventListener("focus",E),window.removeEventListener("blur",S)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(v){if(t.draggable===!0||t.draggable===v.pointerType){o.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",R);const I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=v.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=v.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(v){const{top:I,bottom:k,left:B,right:D}=s.current.getBoundingClientRect();v.nativeEvent.type!=="touchend"&&t.pauseOnHover&&v.clientX>=B&&v.clientX<=D&&v.clientY>=I&&v.clientY<=k?S():E()}};return a&&l&&(w.onMouseEnter=S,t.stacked||(w.onMouseLeave=E)),p&&(w.onClick=v=>{d&&d(v),o.canCloseOnClick&&u()}),{playToast:E,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function dG(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:d,isIn:p,theme:y}=t;const _=s||l&&u===0,E={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(E.transform=`scaleX(${u})`);const S=Wo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),C=Kr(o)?o({rtl:d,type:i,defaultClassName:S}):Wo(S,o),R={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&r()}};return Pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),Pe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:C,style:E,...R}))}let hG=1;const MM=()=>""+hG++;function pG(t){return t&&(hl(t.toastId)||Dd(t.toastId))?t.toastId:MM()}function Jf(t,e){return LM(t,e),e.toastId}function ug(t,e){return{...e,type:e&&e.type||t,toastId:pG(e)}}function Ap(t){return(e,n)=>Jf(e,ug(t,n))}function Lt(t,e){return Jf(t,ug("default",e))}Lt.loading=(t,e)=>Jf(t,ug("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Lt.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=hl(i)?Lt.loading(i,n):Lt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,p,y)=>{if(p==null)return void Lt.dismiss(r);const _={type:d,...a,...n,data:y},E=hl(p)?{render:p}:p;return r?Lt.update(r,{..._,...E}):Lt(E.render,{..._,...E}),y},u=Kr(t)?t():t;return u.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),u},Lt.success=Ap("success"),Lt.info=Ap("info"),Lt.error=Ap("error"),Lt.warning=Ap("warning"),Lt.warn=Lt.warning,Lt.dark=(t,e)=>Jf(t,ug("default",{theme:"dark",...e})),Lt.dismiss=function(t){(function(e){var n;if(NM()){if(e==null||hl(n=e)||Dd(n))_r.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=_r.get(e.containerId);r?r.removeToast(e.id):_r.forEach(i=>{i.removeToast(e.id)})}}else Ld=Ld.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Lt.clearWaitingQueue=function(t){t===void 0&&(t={}),_r.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Lt.isActive=DM,Lt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=_r.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:MM()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Jf(o,s)}},Lt.done=t=>{Lt.update(t,{progress:1})},Lt.onChange=function(t){return sb.add(t),()=>{sb.delete(t)}},Lt.play=t=>hA(!0,t),Lt.pause=t=>hA(!1,t);const mG=typeof window<"u"?O.useLayoutEffect:O.useEffect,Pp=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},m_={info:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}},gG=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=fG(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:d,hideProgressBar:p,closeToast:y,transition:_,position:E,className:S,style:C,bodyClassName:R,bodyStyle:w,progressClassName:v,progressStyle:I,updateId:k,role:B,progress:D,rtl:T,toastId:N,deleteToast:L,isIn:j,isLoading:V,closeOnClick:M,theme:le}=t,me=Wo("Toastify__toast",`Toastify__toast-theme--${le}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":M}),he=Kr(S)?S({rtl:T,position:E,type:d,defaultClassName:me}):Wo(me,S),Y=function(te){let{theme:$,type:K,isLoading:ee,icon:Ae}=te,Re=null;const W={theme:$,type:K};return Ae===!1||(Kr(Ae)?Re=Ae({...W,isLoading:ee}):O.isValidElement(Ae)?Re=O.cloneElement(Ae,W):ee?Re=m_.spinner():(ue=>ue in m_)(K)&&(Re=m_[K](W))),Re}(t),Q=!!D||!l,X={closeToast:y,type:d,theme:le};let fe=null;return o===!1||(fe=Kr(o)?o(X):O.isValidElement(o)?O.cloneElement(o,X):function(te){let{closeToast:$,theme:K,ariaLabel:ee="close"}=te;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${K}`,type:"button",onClick:Ae=>{Ae.stopPropagation(),$(Ae)},"aria-label":ee},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),Pe.createElement(_,{isIn:j,done:L,position:E,preventExitTransition:n,nodeRef:r,playToast:s},Pe.createElement("div",{id:N,onClick:u,"data-in":j,className:he,...i,style:C,ref:r},Pe.createElement("div",{...j&&{role:B},className:Kr(R)?R({type:d}):Wo("Toastify__toast-body",R),style:w},Y!=null&&Pe.createElement("div",{className:Wo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},Y),Pe.createElement("div",null,a)),fe,Pe.createElement(dG,{...k&&!Q?{key:`pb-${k}`}:{},rtl:T,theme:le,delay:l,isRunning:e,isIn:j,closeToast:y,hide:p,type:d,style:I,className:v,controlledProgress:Q,progress:D||0})))},py=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},yG=hy(py("bounce",!0)),vG=hy(py("slide",!0));hy(py("zoom"));hy(py("flip"));const _G={position:"top-right",transition:yG,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function wG(t){let e={..._G,...t};const n=t.stacked,[r,i]=O.useState(!0),s=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=cG(e),{className:u,style:d,rtl:p,containerId:y}=e;function _(S){const C=Wo("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":p});return Kr(u)?u({position:S,rtl:p,defaultClassName:C}):Wo(C,um(u))}function E(){n&&(i(!0),Lt.play())}return mG(()=>{if(n){var S;const C=s.current.querySelectorAll('[data-in="true"]'),R=12,w=(S=e.position)==null?void 0:S.includes("top");let v=0,I=0;Array.from(C).reverse().forEach((k,B)=>{const D=k;D.classList.add("Toastify__toast--stacked"),B>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=w?"top":"bot");const T=v*(r?.2:1)+(r?0:R*B);D.style.setProperty("--y",`${w?T:-1*T}px`),D.style.setProperty("--g",`${R}`),D.style.setProperty("--s",""+(1-(r?I:0))),v+=D.offsetHeight,I+=.025})}},[r,l,n]),Pe.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),Lt.pause())},onMouseLeave:E},o((S,C)=>{const R=C.length?{...d}:{...d,pointerEvents:"none"};return Pe.createElement("div",{className:_(S),style:R,key:`container-${S}`},C.map(w=>{let{content:v,props:I}=w;return Pe.createElement(gG,{...I,stacked:n,collapseAll:E,isIn:a(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},v)}))}))}var EG="firebase",bG="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(EG,bG,"app");var pA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pl,FM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function N(){}N.prototype=T.prototype,D.D=T.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(L,j,V){for(var M=Array(arguments.length-2),le=2;le<arguments.length;le++)M[le-2]=arguments[le];return T.prototype[j].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,T,N){N||(N=0);var L=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)L[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;16>j;++j)L[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=D.g[0],N=D.g[1],j=D.g[2];var V=D.g[3],M=T+(V^N&(j^V))+L[0]+3614090360&4294967295;T=N+(M<<7&4294967295|M>>>25),M=V+(j^T&(N^j))+L[1]+3905402710&4294967295,V=T+(M<<12&4294967295|M>>>20),M=j+(N^V&(T^N))+L[2]+606105819&4294967295,j=V+(M<<17&4294967295|M>>>15),M=N+(T^j&(V^T))+L[3]+3250441966&4294967295,N=j+(M<<22&4294967295|M>>>10),M=T+(V^N&(j^V))+L[4]+4118548399&4294967295,T=N+(M<<7&4294967295|M>>>25),M=V+(j^T&(N^j))+L[5]+1200080426&4294967295,V=T+(M<<12&4294967295|M>>>20),M=j+(N^V&(T^N))+L[6]+2821735955&4294967295,j=V+(M<<17&4294967295|M>>>15),M=N+(T^j&(V^T))+L[7]+4249261313&4294967295,N=j+(M<<22&4294967295|M>>>10),M=T+(V^N&(j^V))+L[8]+1770035416&4294967295,T=N+(M<<7&4294967295|M>>>25),M=V+(j^T&(N^j))+L[9]+2336552879&4294967295,V=T+(M<<12&4294967295|M>>>20),M=j+(N^V&(T^N))+L[10]+4294925233&4294967295,j=V+(M<<17&4294967295|M>>>15),M=N+(T^j&(V^T))+L[11]+2304563134&4294967295,N=j+(M<<22&4294967295|M>>>10),M=T+(V^N&(j^V))+L[12]+1804603682&4294967295,T=N+(M<<7&4294967295|M>>>25),M=V+(j^T&(N^j))+L[13]+4254626195&4294967295,V=T+(M<<12&4294967295|M>>>20),M=j+(N^V&(T^N))+L[14]+2792965006&4294967295,j=V+(M<<17&4294967295|M>>>15),M=N+(T^j&(V^T))+L[15]+1236535329&4294967295,N=j+(M<<22&4294967295|M>>>10),M=T+(j^V&(N^j))+L[1]+4129170786&4294967295,T=N+(M<<5&4294967295|M>>>27),M=V+(N^j&(T^N))+L[6]+3225465664&4294967295,V=T+(M<<9&4294967295|M>>>23),M=j+(T^N&(V^T))+L[11]+643717713&4294967295,j=V+(M<<14&4294967295|M>>>18),M=N+(V^T&(j^V))+L[0]+3921069994&4294967295,N=j+(M<<20&4294967295|M>>>12),M=T+(j^V&(N^j))+L[5]+3593408605&4294967295,T=N+(M<<5&4294967295|M>>>27),M=V+(N^j&(T^N))+L[10]+38016083&4294967295,V=T+(M<<9&4294967295|M>>>23),M=j+(T^N&(V^T))+L[15]+3634488961&4294967295,j=V+(M<<14&4294967295|M>>>18),M=N+(V^T&(j^V))+L[4]+3889429448&4294967295,N=j+(M<<20&4294967295|M>>>12),M=T+(j^V&(N^j))+L[9]+568446438&4294967295,T=N+(M<<5&4294967295|M>>>27),M=V+(N^j&(T^N))+L[14]+3275163606&4294967295,V=T+(M<<9&4294967295|M>>>23),M=j+(T^N&(V^T))+L[3]+4107603335&4294967295,j=V+(M<<14&4294967295|M>>>18),M=N+(V^T&(j^V))+L[8]+1163531501&4294967295,N=j+(M<<20&4294967295|M>>>12),M=T+(j^V&(N^j))+L[13]+2850285829&4294967295,T=N+(M<<5&4294967295|M>>>27),M=V+(N^j&(T^N))+L[2]+4243563512&4294967295,V=T+(M<<9&4294967295|M>>>23),M=j+(T^N&(V^T))+L[7]+1735328473&4294967295,j=V+(M<<14&4294967295|M>>>18),M=N+(V^T&(j^V))+L[12]+2368359562&4294967295,N=j+(M<<20&4294967295|M>>>12),M=T+(N^j^V)+L[5]+4294588738&4294967295,T=N+(M<<4&4294967295|M>>>28),M=V+(T^N^j)+L[8]+2272392833&4294967295,V=T+(M<<11&4294967295|M>>>21),M=j+(V^T^N)+L[11]+1839030562&4294967295,j=V+(M<<16&4294967295|M>>>16),M=N+(j^V^T)+L[14]+4259657740&4294967295,N=j+(M<<23&4294967295|M>>>9),M=T+(N^j^V)+L[1]+2763975236&4294967295,T=N+(M<<4&4294967295|M>>>28),M=V+(T^N^j)+L[4]+1272893353&4294967295,V=T+(M<<11&4294967295|M>>>21),M=j+(V^T^N)+L[7]+4139469664&4294967295,j=V+(M<<16&4294967295|M>>>16),M=N+(j^V^T)+L[10]+3200236656&4294967295,N=j+(M<<23&4294967295|M>>>9),M=T+(N^j^V)+L[13]+681279174&4294967295,T=N+(M<<4&4294967295|M>>>28),M=V+(T^N^j)+L[0]+3936430074&4294967295,V=T+(M<<11&4294967295|M>>>21),M=j+(V^T^N)+L[3]+3572445317&4294967295,j=V+(M<<16&4294967295|M>>>16),M=N+(j^V^T)+L[6]+76029189&4294967295,N=j+(M<<23&4294967295|M>>>9),M=T+(N^j^V)+L[9]+3654602809&4294967295,T=N+(M<<4&4294967295|M>>>28),M=V+(T^N^j)+L[12]+3873151461&4294967295,V=T+(M<<11&4294967295|M>>>21),M=j+(V^T^N)+L[15]+530742520&4294967295,j=V+(M<<16&4294967295|M>>>16),M=N+(j^V^T)+L[2]+3299628645&4294967295,N=j+(M<<23&4294967295|M>>>9),M=T+(j^(N|~V))+L[0]+4096336452&4294967295,T=N+(M<<6&4294967295|M>>>26),M=V+(N^(T|~j))+L[7]+1126891415&4294967295,V=T+(M<<10&4294967295|M>>>22),M=j+(T^(V|~N))+L[14]+2878612391&4294967295,j=V+(M<<15&4294967295|M>>>17),M=N+(V^(j|~T))+L[5]+4237533241&4294967295,N=j+(M<<21&4294967295|M>>>11),M=T+(j^(N|~V))+L[12]+1700485571&4294967295,T=N+(M<<6&4294967295|M>>>26),M=V+(N^(T|~j))+L[3]+2399980690&4294967295,V=T+(M<<10&4294967295|M>>>22),M=j+(T^(V|~N))+L[10]+4293915773&4294967295,j=V+(M<<15&4294967295|M>>>17),M=N+(V^(j|~T))+L[1]+2240044497&4294967295,N=j+(M<<21&4294967295|M>>>11),M=T+(j^(N|~V))+L[8]+1873313359&4294967295,T=N+(M<<6&4294967295|M>>>26),M=V+(N^(T|~j))+L[15]+4264355552&4294967295,V=T+(M<<10&4294967295|M>>>22),M=j+(T^(V|~N))+L[6]+2734768916&4294967295,j=V+(M<<15&4294967295|M>>>17),M=N+(V^(j|~T))+L[13]+1309151649&4294967295,N=j+(M<<21&4294967295|M>>>11),M=T+(j^(N|~V))+L[4]+4149444226&4294967295,T=N+(M<<6&4294967295|M>>>26),M=V+(N^(T|~j))+L[11]+3174756917&4294967295,V=T+(M<<10&4294967295|M>>>22),M=j+(T^(V|~N))+L[2]+718787259&4294967295,j=V+(M<<15&4294967295|M>>>17),M=N+(V^(j|~T))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var N=T-this.blockSize,L=this.B,j=this.h,V=0;V<T;){if(j==0)for(;V<=N;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<T;)if(L[j++]=D.charCodeAt(V++),j==this.blockSize){i(this,L),j=0;break}}else for(;V<T;)if(L[j++]=D[V++],j==this.blockSize){i(this,L),j=0;break}}this.h=j,this.o+=T},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var N=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=N&255,N/=256;for(this.u(D),D=Array(16),T=N=0;4>T;++T)for(var L=0;32>L;L+=8)D[N++]=this.g[T]>>>L&255;return D};function s(D,T){var N=a;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=T(D)}function o(D,T){this.h=T;for(var N=[],L=!0,j=D.length-1;0<=j;j--){var V=D[j]|0;L&&V==T||(N[j]=V,L=!1)}this.g=N}var a={};function l(D){return-128<=D&&128>D?s(D,function(T){return new o([T|0],0>T?-1:0)}):new o([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return C(u(-D));for(var T=[],N=1,L=0;D>=N;L++)T[L]=D/N|0,N*=4294967296;return new o(T,0)}function d(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return C(d(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(T,8)),L=p,j=0;j<D.length;j+=8){var V=Math.min(8,D.length-j),M=parseInt(D.substring(j,j+V),T);8>V?(V=u(Math.pow(T,V)),L=L.j(V).add(u(M))):(L=L.j(N),L=L.add(u(M)))}return L}var p=l(0),y=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var D=0,T=1,N=0;N<this.g.length;N++){var L=this.i(N);D+=(0<=L?L:4294967296+L)*T,T*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(S(this))return"-"+C(this).toString(D);for(var T=u(Math.pow(D,6)),N=this,L="";;){var j=I(N,T).g;N=R(N,j.j(T));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=j,E(N))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=R(this,D),S(D)?-1:E(D)?0:1};function C(D){for(var T=D.g.length,N=[],L=0;L<T;L++)N[L]=~D.g[L];return new o(N,~D.h).add(y)}t.abs=function(){return S(this)?C(this):this},t.add=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0,j=0;j<=T;j++){var V=L+(this.i(j)&65535)+(D.i(j)&65535),M=(V>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);L=M>>>16,V&=65535,M&=65535,N[j]=M<<16|V}return new o(N,N[N.length-1]&-2147483648?-1:0)};function R(D,T){return D.add(C(T))}t.j=function(D){if(E(this)||E(D))return p;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(0>this.l(_)&&0>D.l(_))return u(this.m()*D.m());for(var T=this.g.length+D.g.length,N=[],L=0;L<2*T;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<D.g.length;j++){var V=this.i(L)>>>16,M=this.i(L)&65535,le=D.i(j)>>>16,me=D.i(j)&65535;N[2*L+2*j]+=M*me,w(N,2*L+2*j),N[2*L+2*j+1]+=V*me,w(N,2*L+2*j+1),N[2*L+2*j+1]+=M*le,w(N,2*L+2*j+1),N[2*L+2*j+2]+=V*le,w(N,2*L+2*j+2)}for(L=0;L<T;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=T;L<2*T;L++)N[L]=0;return new o(N,0)};function w(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function v(D,T){this.g=D,this.h=T}function I(D,T){if(E(T))throw Error("division by zero");if(E(D))return new v(p,p);if(S(D))return T=I(C(D),T),new v(C(T.g),C(T.h));if(S(T))return T=I(D,C(T)),new v(C(T.g),T.h);if(30<D.g.length){if(S(D)||S(T))throw Error("slowDivide_ only works with positive integers.");for(var N=y,L=T;0>=L.l(D);)N=k(N),L=k(L);var j=B(N,1),V=B(L,1);for(L=B(L,2),N=B(N,2);!E(L);){var M=V.add(L);0>=M.l(D)&&(j=j.add(N),V=M),L=B(L,1),N=B(N,1)}return T=R(D,j.j(T)),new v(j,T)}for(j=p;0<=D.l(T);){for(N=Math.max(1,Math.floor(D.m()/T.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=u(N),M=V.j(T);S(M)||0<M.l(D);)N-=L,V=u(N),M=V.j(T);E(V)&&(V=y),j=j.add(V),D=R(D,M)}return new v(j,D)}t.A=function(D){return I(this,D).h},t.and=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)&D.i(L);return new o(N,this.h&D.h)},t.or=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)|D.i(L);return new o(N,this.h|D.h)},t.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)^D.i(L);return new o(N,this.h^D.h)};function k(D){for(var T=D.g.length+1,N=[],L=0;L<T;L++)N[L]=D.i(L)<<1|D.i(L-1)>>>31;return new o(N,D.h)}function B(D,T){var N=T>>5;T%=32;for(var L=D.g.length-N,j=[],V=0;V<L;V++)j[V]=0<T?D.i(V+N)>>>T|D.i(V+N+1)<<32-T:D.i(V+N);return new o(j,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,pl=o}).apply(typeof pA<"u"?pA:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jM,VM,Df,UM,cm,ob,BM,$M,zM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,A){return f==Array.prototype||f==Object.prototype||(f[b]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var b=0;b<f.length;++b){var A=f[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(f,b){if(b)e:{var A=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var J=f[U];if(!(J in A))break e;A=A[J]}f=f[f.length-1],U=A[f],b=b(U),b!=U&&b!=null&&e(A,f,{configurable:!0,writable:!0,value:b})}}function s(f,b){f instanceof String&&(f+="");var A=0,U=!1,J={next:function(){if(!U&&A<f.length){var ie=A++;return{value:b(ie,f[ie]),done:!1}}return U=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(f){return f||function(){return s(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,A){return f.call.apply(f.bind,arguments)}function p(f,b,A){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,U),f.apply(b,J)}}return function(){return f.apply(b,arguments)}}function y(f,b,A){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function _(f,b){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function E(f,b){function A(){}A.prototype=b.prototype,f.aa=b.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(U,J,ie){for(var Te=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Te[Tt-2]=arguments[Tt];return b.prototype[J].apply(U,Te)}}function S(f){const b=f.length;if(0<b){const A=Array(b);for(let U=0;U<b;U++)A[U]=f[U];return A}return[]}function C(f,b){for(let A=1;A<arguments.length;A++){const U=arguments[A];if(l(U)){const J=f.length||0,ie=U.length||0;f.length=J+ie;for(let Te=0;Te<ie;Te++)f[J+Te]=U[Te]}else f.push(U)}}class R{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(f){return/^[\s\xa0]*$/.test(f)}function v(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function B(f,b,A){for(const U in f)b.call(A,f[U],U,f)}function D(f,b){for(const A in f)b.call(void 0,f[A],A,f)}function T(f){const b={};for(const A in f)b[A]=f[A];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,b){let A,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(A in U)f[A]=U[A];for(let ie=0;ie<N.length;ie++)A=N[ie],Object.prototype.hasOwnProperty.call(U,A)&&(f[A]=U[A])}}function j(f){var b=1;f=f.split(":");const A=[];for(;0<b&&f.length;)A.push(f.shift()),b--;return f.length&&A.push(f.join(":")),A}function V(f){a.setTimeout(()=>{throw f},0)}function M(){var f=X;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class le{constructor(){this.h=this.g=null}add(b,A){const U=me.get();U.set(b,A),this.h?this.h.next=U:this.g=U,this.h=U}}var me=new R(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Q=!1,X=new le,fe=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(te)}};var te=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(A){V(A)}var b=me;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}Q=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};a.addEventListener("test",A,b),a.removeEventListener("test",A,b)}catch{}return f}();function Ae(f,b){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(k){e:{try{I(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else A=="mouseover"?b=f.fromElement:A=="mouseout"&&(b=f.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}E(Ae,K);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ue=0;function xe(f,b,A,U,J){this.listener=f,this.proxy=null,this.src=b,this.type=A,this.capture=!!U,this.ha=J,this.key=++ue,this.da=this.fa=!1}function Ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Se(f){this.src=f,this.g={},this.h=0}Se.prototype.add=function(f,b,A,U,J){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var Te=Et(f,b,U,J);return-1<Te?(b=f[Te],A||(b.fa=!1)):(b=new xe(b,this.src,ie,!!U,J),b.fa=A,f.push(b)),b};function Ge(f,b){var A=b.type;if(A in f.g){var U=f.g[A],J=Array.prototype.indexOf.call(U,b,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(U,J,1),ie&&(Ee(b),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Et(f,b,A,U){for(var J=0;J<f.length;++J){var ie=f[J];if(!ie.da&&ie.listener==b&&ie.capture==!!A&&ie.ha==U)return J}return-1}var He="closure_lm_"+(1e6*Math.random()|0),We={};function Gt(f,b,A,U,J){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Gt(f,b[ie],A,U,J);return null}return A=Be(A),f&&f[W]?f.K(b,A,u(U)?!!U.capture:!!U,J):st(f,b,A,!1,U,J)}function st(f,b,A,U,J,ie){if(!b)throw Error("Invalid event type");var Te=u(J)?!!J.capture:!!J,Tt=ce(f);if(Tt||(f[He]=Tt=new Se(f)),A=Tt.add(b,A,U,Te,ie),A.proxy)return A;if(U=z(),A.proxy=U,U.src=f,U.listener=A,f.addEventListener)ee||(J=Te),J===void 0&&(J=!1),f.addEventListener(b.toString(),U,J);else if(f.attachEvent)f.attachEvent(ge(b.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function z(){function f(A){return b.call(f.src,f.listener,A)}const b=_e;return f}function Z(f,b,A,U,J){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)Z(f,b[ie],A,U,J);else U=u(U)?!!U.capture:!!U,A=Be(A),f&&f[W]?(f=f.i,b=String(b).toString(),b in f.g&&(ie=f.g[b],A=Et(ie,A,U,J),-1<A&&(Ee(ie[A]),Array.prototype.splice.call(ie,A,1),ie.length==0&&(delete f.g[b],f.h--)))):f&&(f=ce(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Et(b,A,U,J)),(A=-1<f?b[f]:null)&&ae(A))}function ae(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[W])Ge(b.i,f);else{var A=f.type,U=f.proxy;b.removeEventListener?b.removeEventListener(A,U,f.capture):b.detachEvent?b.detachEvent(ge(A),U):b.addListener&&b.removeListener&&b.removeListener(U),(A=ce(b))?(Ge(A,f),A.h==0&&(A.src=null,b[He]=null)):Ee(f)}}}function ge(f){return f in We?We[f]:We[f]="on"+f}function _e(f,b){if(f.da)f=!0;else{b=new Ae(b,this);var A=f.listener,U=f.ha||f.src;f.fa&&ae(f),f=A.call(U,b)}return f}function ce(f){return f=f[He],f instanceof Se?f:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(f){return typeof f=="function"?f:(f[ke]||(f[ke]=function(b){return f.handleEvent(b)}),f[ke])}function Qe(){$.call(this),this.i=new Se(this),this.M=this,this.F=null}E(Qe,$),Qe.prototype[W]=!0,Qe.prototype.removeEventListener=function(f,b,A,U){Z(this,f,b,A,U)};function qe(f,b){var A,U=f.F;if(U)for(A=[];U;U=U.F)A.push(U);if(f=f.M,U=b.type||b,typeof b=="string")b=new K(b,f);else if(b instanceof K)b.target=b.target||f;else{var J=b;b=new K(U,f),L(b,J)}if(J=!0,A)for(var ie=A.length-1;0<=ie;ie--){var Te=b.g=A[ie];J=Wt(Te,U,!0,b)&&J}if(Te=b.g=f,J=Wt(Te,U,!0,b)&&J,J=Wt(Te,U,!1,b)&&J,A)for(ie=0;ie<A.length;ie++)Te=b.g=A[ie],J=Wt(Te,U,!1,b)&&J}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var A=f.g[b],U=0;U<A.length;U++)Ee(A[U]);delete f.g[b],f.h--}}this.F=null},Qe.prototype.K=function(f,b,A,U){return this.i.add(String(f),b,!1,A,U)},Qe.prototype.L=function(f,b,A,U){return this.i.add(String(f),b,!0,A,U)};function Wt(f,b,A,U){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,ie=0;ie<b.length;++ie){var Te=b[ie];if(Te&&!Te.da&&Te.capture==A){var Tt=Te.listener,rn=Te.ha||Te.src;Te.fa&&Ge(f.i,Te),J=Tt.call(rn,U)!==!1&&J}}return J&&!U.defaultPrevented}function Gn(f,b,A){if(typeof f=="function")A&&(f=y(f,A));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(f,b||0)}function dn(f){f.g=Gn(()=>{f.g=null,f.i&&(f.i=!1,dn(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class nt extends ${constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(f){$.call(this),this.h=f,this.g={}}E(hr,$);var nn=[];function bn(f){B(f.g,function(b,A){this.g.hasOwnProperty(A)&&ae(b)},f),f.g={}}hr.prototype.N=function(){hr.aa.N.call(this),bn(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=a.JSON.stringify,Na=a.JSON.parse,Wl=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Eo(){}Eo.prototype.h=null;function Kl(f){return f.h||(f.h=f.i())}function bo(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ps(){K.call(this,"d")}E(Ps,K);function Yi(){K.call(this,"c")}E(Yi,K);var Qn={},ks=null;function Xi(){return ks=ks||new Qe}Qn.La="serverreachability";function Os(f){K.call(this,Qn.La,f)}E(Os,K);function Ji(f){const b=Xi();qe(b,new Os(b))}Qn.STAT_EVENT="statevent";function Da(f,b){K.call(this,Qn.STAT_EVENT,f),this.stat=b}E(Da,K);function Qt(f){const b=Xi();qe(b,new Da(b,f))}Qn.Ma="timingevent";function Ei(f,b){K.call(this,Qn.Ma,f),this.size=b}E(Ei,K);function ri(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function To(f,b,A,U,J,ie){f.info(function(){if(f.g)if(ie)for(var Te="",Tt=ie.split("&"),rn=0;rn<Tt.length;rn++){var gt=Tt[rn].split("=");if(1<gt.length){var hn=gt[0];gt=gt[1];var kn=hn.split("_");Te=2<=kn.length&&kn[1]=="type"?Te+(hn+"="+gt+"&"):Te+(hn+"=redacted&")}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+b+`
`+A+`
`+Te})}function H(f,b,A,U,J,ie,Te){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+b+`
`+A+`
`+ie+" "+Te})}function G(f,b,A,U){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+de(f,A)+(U?" "+U:"")})}function re(f,b){f.info(function(){return"TIMEOUT: "+b})}bi.prototype.info=function(){};function de(f,b){if(!f.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var U=A[f];if(!(2>U.length)){var J=U[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Te=1;Te<J.length;Te++)J[Te]=""}}}}return An(A)}catch{return b}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ze;function be(){}E(be,Eo),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ze=new be;function je(f,b,A,U){this.j=f,this.i=b,this.l=A,this.R=U||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Me={},ot={};function at(f,b,A){f.L=1,f.v=oi(si(b)),f.m=A,f.P=!0,ct(f,null)}function ct(f,b){f.F=Date.now(),kt(f),f.A=si(f.v);var A=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),an(A.i,"t",U),f.C=0,A=f.j.J,f.h=new Le,f.g=Qh(f.j,A?b:null,!f.m),0<f.O&&(f.M=new nt(y(f.Y,f,f.g),f.O)),b=f.U,A=f.g,U=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(nn[0]=J.toString()),J=nn);for(var ie=0;ie<J.length;ie++){var Te=Gt(A,J[ie],U||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Ji(),To(f.i,f.u,f.A,f.l,f.R,f.m)}je.prototype.ca=function(f){f=f.target;const b=this.M;b&&Ri(f)==3?b.j():this.Y(f)},je.prototype.Y=function(f){try{if(f==this.g)e:{const kn=Ri(this.g);var b=this.g.Ba();const as=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||Uh(this.g)))){this.J||kn!=4||b==7||(b==8||0>=as?Ji(3):Ji(2)),Yn(this);var A=this.g.Z();this.X=A;t:if(it(this)){var U=Uh(this.g);f="";var J=U.length,ie=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Xn(this);var Te="";break t}this.h.i=new a.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,f+=this.h.i.decode(U[b],{stream:!(ie&&b==J-1)});U.length=0,this.h.g+=f,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,H(this.i,this.u,this.A,this.l,this.R,kn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,rn=this.g;if((Tt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Tt)){var gt=Tt;break t}}gt=null}if(A=gt)G(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,A);else{this.o=!1,this.s=3,Qt(12),Tn(this),Xn(this);break e}}if(this.P){A=!0;let On;for(;!this.J&&this.C<Te.length;)if(On=Yt(this,Te),On==ot){kn==4&&(this.s=4,Qt(14),A=!1),G(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Me){this.s=4,Qt(15),G(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else G(this.i,this.l,On,null),Si(this,On);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Te.length!=0||this.h.h||(this.s=1,Qt(16),A=!1),this.o=this.o&&A,!A)G(this.i,this.l,Te,"[Invalid Chunked Response]"),Tn(this),Xn(this);else if(0<Te.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),os(hn),hn.M=!0,Qt(11))}}else G(this.i,this.l,Te,null),Si(this,Te);kn==4&&Tn(this),this.o&&!this.J&&(kn==4?qh(this.j,this):(this.o=!1,kt(this)))}else av(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Tn(this),Xn(this)}}}catch{}finally{}};function it(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Yt(f,b){var A=f.C,U=b.indexOf(`
`,A);return U==-1?ot:(A=Number(b.substring(A,U)),isNaN(A)?Me:(U+=1,U+A>b.length?ot:(b=b.slice(U,U+A),f.C=U+A,b)))}je.prototype.cancel=function(){this.J=!0,Tn(this)};function kt(f){f.S=Date.now()+f.I,Ti(f,f.I)}function Ti(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ri(y(f.ba,f),b)}function Yn(f){f.B&&(a.clearTimeout(f.B),f.B=null)}je.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(re(this.i,this.A),this.L!=2&&(Ji(),Qt(17)),Tn(this),this.s=2,Xn(this)):Ti(this,this.S-f)};function Xn(f){f.j.G==0||f.J||qh(f.j,f)}function Tn(f){Yn(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,bn(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Si(f,b){try{var A=f.j;if(A.G!=0&&(A.g==f||Ye(A.h,f))){if(!f.K&&Ye(A.h,f)&&A.G==3){try{var U=A.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)tu(A),eu(A);else break e;ef(A),Qt(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=ri(y(A.Za,A),6e3));if(1>=xi(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ds(A,11)}else if((f.K||A.g==f)&&tu(A),!w(b))for(J=A.Da.g.parse(b),b=0;b<J.length;b++){let gt=J[b];if(A.T=gt[0],gt=gt[1],A.G==2)if(gt[0]=="c"){A.K=gt[1],A.ia=gt[2];const hn=gt[3];hn!=null&&(A.la=hn,A.j.info("VER="+A.la));const kn=gt[4];kn!=null&&(A.Aa=kn,A.j.info("SVER="+A.Aa));const as=gt[5];as!=null&&typeof as=="number"&&0<as&&(U=1.5*as,A.L=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const On=f.g;if(On){const ru=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var ie=U.h;ie.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Rt(ie,ie.h),ie.h=null))}if(U.D){const tf=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(U.ya=tf,It(U.I,U.D,tf))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),U=A;var Te=f;if(U.qa=Gh(U,U.J?U.ia:null,U.W),Te.K){Sn(U.h,Te);var Tt=Te,rn=U.L;rn&&(Tt.I=rn),Tt.B&&(Yn(Tt),kt(Tt)),U.g=Te}else Hh(U);0<A.i.length&&ss(A)}else gt[0]!="stop"&&gt[0]!="close"||Ds(A,7);else A.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Ds(A,7):Zl(A):gt[0]!="noop"&&A.l&&A.l.ta(gt),A.v=0)}}Ji(4)}catch{}}var Je=class{constructor(f,b){this.g=f,this.map=b}};function ii(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xi(f){return f.h?1:f.g?f.g.size:0}function Ye(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Rt(f,b){f.g?f.g.add(b):f.h=b}function Sn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}ii.prototype.cancel=function(){if(this.i=mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const A of f.g.values())b=b.concat(A.D);return b}return S(f.i)}function Jn(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var b=[],A=f.length,U=0;U<A;U++)b.push(f[U]);return b}b=[],A=0;for(U in f)b[A++]=f[U];return b}function Gl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var b=[];f=f.length;for(var A=0;A<f;A++)b.push(A);return b}b=[],A=0;for(const U in f)b[A++]=U;return b}}}function es(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var A=Gl(f),U=Jn(f),J=U.length,ie=0;ie<J;ie++)b.call(void 0,U[ie],A&&A[ie],f)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zy(f,b){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var U=f[A].indexOf("="),J=null;if(0<=U){var ie=f[A].substring(0,U);J=f[A].substring(U+1)}else ie=f[A];b(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ts(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ts){this.h=f.h,So(this,f.j),this.o=f.o,this.g=f.g,Ql(this,f.s),this.l=f.l;var b=f.i,A=new ja;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),Qc(this,A),this.m=f.m}else f&&(b=String(f).match(La))?(this.h=!1,So(this,b[1]||"",!0),this.o=xo(b[2]||""),this.g=xo(b[3]||"",!0),Ql(this,b[4]),this.l=xo(b[5]||"",!0),Qc(this,b[6]||"",!0),this.m=xo(b[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}ts.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Ma(b,Yc,!0),":");var A=this.g;return(A||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ma(b,Yc,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Ma(A,A.charAt(0)=="/"?Fa:Dh,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Ma(A,Lh)),f.join("")};function si(f){return new ts(f)}function So(f,b,A){f.j=A?xo(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ql(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Qc(f,b,A){b instanceof ja?(f.i=b,tv(f.i,f.h)):(A||(b=Ma(b,ev)),f.i=new ja(b,f.h))}function It(f,b,A){f.i.set(b,A)}function oi(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function xo(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ma(f,b,A){return typeof f=="string"?(f=encodeURI(f).replace(b,Nh),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Nh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Yc=/[#\/\?@]/g,Dh=/[#\?:]/g,Fa=/[#\?]/g,ev=/[#\?@]/g,Lh=/#/g;function ja(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ns(f){f.g||(f.g=new Map,f.h=0,f.i&&Zy(f.i,function(b,A){f.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=ja.prototype,t.add=function(f,b){ns(this),this.i=null,f=$r(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(b),this.h+=1,this};function Mh(f,b){ns(f),b=$r(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Va(f,b){return ns(f),b=$r(f,b),f.g.has(b)}t.forEach=function(f,b){ns(this),this.g.forEach(function(A,U){A.forEach(function(J){f.call(b,J,U,this)},this)},this)},t.na=function(){ns(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let U=0;U<b.length;U++){const J=f[U];for(let ie=0;ie<J.length;ie++)A.push(b[U])}return A},t.V=function(f){ns(this);let b=[];if(typeof f=="string")Va(this,f)&&(b=b.concat(this.g.get($r(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)b=b.concat(f[A])}return b},t.set=function(f,b){return ns(this),this.i=null,f=$r(this,f),Va(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function an(f,b,A){Mh(f,b),0<A.length&&(f.i=null,f.g.set($r(f,b),S(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var U=b[A];const ie=encodeURIComponent(String(U)),Te=this.V(U);for(U=0;U<Te.length;U++){var J=ie;Te[U]!==""&&(J+="="+encodeURIComponent(String(Te[U]))),f.push(J)}}return this.i=f.join("&")};function $r(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function tv(f,b){b&&!f.j&&(ns(f),f.i=null,f.g.forEach(function(A,U){var J=U.toLowerCase();U!=J&&(Mh(this,U),an(this,J,A))},f)),f.j=b}function nv(f,b){const A=new bi;if(a.Image){const U=new Image;U.onload=_(rs,A,"TestLoadImage: loaded",!0,b,U),U.onerror=_(rs,A,"TestLoadImage: error",!1,b,U),U.onabort=_(rs,A,"TestLoadImage: abort",!1,b,U),U.ontimeout=_(rs,A,"TestLoadImage: timeout",!1,b,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else b(!1)}function rv(f,b){const A=new bi,U=new AbortController,J=setTimeout(()=>{U.abort(),rs(A,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:U.signal}).then(ie=>{clearTimeout(J),ie.ok?rs(A,"TestPingServer: ok",!0,b):rs(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),rs(A,"TestPingServer: error",!1,b)})}function rs(f,b,A,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(A)}catch{}}function iv(){this.g=new Wl}function sv(f,b,A){const U=A||"";try{es(f,function(J,ie){let Te=J;u(J)&&(Te=An(J)),b.push(U+ie+"="+encodeURIComponent(Te))})}catch(J){throw b.push(U+"type="+encodeURIComponent("_badmap")),J}}function Ua(f){this.l=f.Ub||null,this.j=f.eb||!1}E(Ua,Eo),Ua.prototype.g=function(){return new Yl(this.l,this.j)},Ua.prototype.i=function(f){return function(){return f}}({});function Yl(f,b){Qe.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Yl,Qe),t=Yl.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Ba(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?is(this):Ba(this),this.readyState==3&&Xc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,is(this))},t.Qa=function(f){this.g&&(this.response=f,is(this))},t.ga=function(){this.g&&is(this)};function is(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ba(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=b.next();return f.join(`\r
`)};function Ba(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xl(f){let b="";return B(f,function(A,U){b+=U,b+=":",b+=A,b+=`\r
`}),b}function Jc(f,b,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=Xl(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):It(f,b,A))}function Ot(f){Qe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ot,Qe);var $a=/^https?$/i,ov=["POST","PUT"];t=Ot.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Kl(this.o):Kl(ze),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ie){Fh(this,ie);return}if(f=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)A.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())A.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ov,b,void 0))||U||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of A)this.g.setRequestHeader(ie,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vh(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Fh(this,ie)}};function Fh(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,jh(f),Jl(f)}function jh(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,qe(this,"complete"),qe(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ri(f)!=4||f.Z()!=2)){if(f.u&&Ri(f)==4)Gn(f.Ea,0,f);else if(qe(f,"readystatechange"),Ri(f)==4){f.h=!1;try{const Te=f.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var U;if(U=Te===0){var J=String(f.D).match(La)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),U=!$a.test(J?J.toLowerCase():"")}A=U}if(A)qe(f,"complete"),qe(f,"success");else{f.m=6;try{var ie=2<Ri(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",jh(f)}}finally{Jl(f)}}}}function Jl(f,b){if(f.g){Vh(f);const A=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||qe(f,"ready");try{A.onreadystatechange=U}catch{}}}function Vh(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ri(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Na(b)}};function Uh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function av(f){const b={};f=(f.g&&2<=Ri(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(w(f[U]))continue;var A=j(f[U]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=b[J]||[];b[J]=ie,ie.push(A)}D(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(f,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||b}function Bh(f){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,f),this.cb=za("retryDelaySeedMs",1e4,f),this.Wa=za("forwardChannelMaxRetries",2,f),this.wa=za("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(f&&f.concurrentRequestLimit),this.Da=new iv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bh.prototype,t.la=8,t.G=1,t.connect=function(f,b,A,U){Qt(0),this.W=f,this.H=b||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.I=Gh(this,null,this.W),ss(this)};function Zl(f){if(Ha(f),f.G==3){var b=f.U++,A=si(f.I);if(It(A,"SID",f.K),It(A,"RID",b),It(A,"TYPE","terminate"),qa(f,A),b=new je(f,f.j,b),b.L=2,b.v=oi(si(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=b.v,A=!0),A||(b.g=Qh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),kt(b)}Kh(f)}function eu(f){f.g&&(os(f),f.g.cancel(),f.g=null)}function Ha(f){eu(f),f.u&&(a.clearTimeout(f.u),f.u=null),tu(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function ss(f){if(!Zi(f.h)&&!f.s){f.s=!0;var b=f.Ga;Y||fe(),Q||(Y(),Q=!0),X.add(b,f),f.B=0}}function lv(f,b){return xi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ri(y(f.Ga,f,b),Wh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new je(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=T(ie),L(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=zh(this,J,b),A=si(this.I),It(A,"RID",f),It(A,"CVER",22),this.D&&It(A,"X-HTTP-Session-Id",this.D),qa(this,A),ie&&(this.O?b="headers="+encodeURIComponent(String(Xl(ie)))+"&"+b:this.m&&Jc(A,this.m,ie)),Rt(this.h,J),this.Ua&&It(A,"TYPE","init"),this.P?(It(A,"$req",b),It(A,"SID","null"),J.T=!0,at(J,A,null)):at(J,A,b),this.G=2}}else this.G==3&&(f?$h(this,f):this.i.length==0||Zi(this.h)||$h(this))};function $h(f,b){var A;b?A=b.l:A=f.U++;const U=si(f.I);It(U,"SID",f.K),It(U,"RID",A),It(U,"AID",f.T),qa(f,U),f.m&&f.o&&Jc(U,f.m,f.o),A=new je(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),b&&(f.i=b.D.concat(f.i)),b=zh(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rt(f.h,A),at(A,U,b)}function qa(f,b){f.H&&B(f.H,function(A,U){It(b,U,A)}),f.l&&es({},function(A,U){It(b,U,A)})}function zh(f,b,A){A=Math.min(f.i.length,A);var U=f.l?y(f.l.Na,f.l,f):null;e:{var J=f.i;let ie=-1;for(;;){const Te=["count="+A];ie==-1?0<A?(ie=J[0].g,Te.push("ofs="+ie)):ie=0:Te.push("ofs="+ie);let Tt=!0;for(let rn=0;rn<A;rn++){let gt=J[rn].g;const hn=J[rn].map;if(gt-=ie,0>gt)ie=Math.max(0,J[rn].g-100),Tt=!1;else try{sv(hn,Te,"req"+gt+"_")}catch{U&&U(hn)}}if(Tt){U=Te.join("&");break e}}}return f=f.i.splice(0,A),b.D=f,U}function Hh(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;Y||fe(),Q||(Y(),Q=!0),X.add(b,f),f.v=0}}function ef(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ri(y(f.Fa,f),Wh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ns(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ri(y(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),eu(this),Ns(this))};function os(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Ns(f){f.g=new je(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=si(f.qa);It(b,"RID","rpc"),It(b,"SID",f.K),It(b,"AID",f.T),It(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(b,"TO",f.ja),It(b,"TYPE","xmlhttp"),qa(f,b),f.m&&f.o&&Jc(b,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=oi(si(b)),A.m=null,A.P=!0,ct(A,f)}t.Za=function(){this.C!=null&&(this.C=null,eu(this),ef(this),Qt(19))};function tu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function qh(f,b){var A=null;if(f.g==b){tu(f),os(f),f.g=null;var U=2}else if(Ye(f.h,b))A=b.D,Sn(f.h,b),U=1;else return;if(f.G!=0){if(b.o)if(U==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var J=f.B;U=Xi(),qe(U,new Ei(U,A)),ss(f)}else Hh(f);else if(J=b.s,J==3||J==0&&0<b.X||!(U==1&&lv(f,b)||U==2&&ef(f)))switch(A&&0<A.length&&(b=f.h,b.i=b.i.concat(A)),J){case 1:Ds(f,5);break;case 4:Ds(f,10);break;case 3:Ds(f,6);break;default:Ds(f,2)}}}function Wh(f,b){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*b}function Ds(f,b){if(f.j.info("Error code "+b),b==2){var A=y(f.fb,f),U=f.Xa;const J=!U;U=new ts(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||So(U,"https"),oi(U),J?nv(U.toString(),A):rv(U.toString(),A)}else Qt(2);f.G=0,f.l&&f.l.sa(b),Kh(f),Ha(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Kh(f){if(f.G=0,f.ka=[],f.l){const b=mt(f.h);(b.length!=0||f.i.length!=0)&&(C(f.ka,b),C(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Gh(f,b,A){var U=A instanceof ts?si(A):new ts(A);if(U.g!="")b&&(U.g=b+"."+U.g),Ql(U,U.s);else{var J=a.location;U=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var ie=new ts(null);U&&So(ie,U),b&&(ie.g=b),J&&Ql(ie,J),A&&(ie.l=A),U=ie}return A=f.D,b=f.ya,A&&b&&It(U,A,b),It(U,"VER",f.la),qa(f,U),U}function Qh(f,b,A){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Ot(new Ua({eb:A})):new Ot(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(f,b){return new Pn(f,b)};function Pn(f,b){Qe.call(this),this.g=new Bh(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!w(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Ro(this)}E(Pn,Qe),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Zl(this.g)},Pn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=An(f),f=A);b.i.push(new Je(b.Ya++,f)),b.G==3&&ss(b)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,Pn.aa.N.call(this)};function Xh(f){Ps.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const A in b){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}E(Xh,Ps);function nu(){Yi.call(this),this.status=1}E(nu,Yi);function Ro(f){this.g=f}E(Ro,Yh),Ro.prototype.ua=function(){qe(this.g,"a")},Ro.prototype.ta=function(f){qe(this.g,new Xh(f))},Ro.prototype.sa=function(f){qe(this.g,new nu)},Ro.prototype.ra=function(){qe(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,zM=function(){return new Wa},$M=function(){return Xi()},BM=Qn,ob={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,cm=Ie,Oe.COMPLETE="complete",UM=Oe,bo.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Df=bo,VM=Ua,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,jM=Ot}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});const mA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new ly("@firebase/firestore");function wf(){return Rl.logLevel}function Ve(t,...e){if(Rl.logLevel<=dt.DEBUG){const n=e.map(bS);Rl.debug(`Firestore (${Dc}): ${t}`,...n)}}function co(t,...e){if(Rl.logLevel<=dt.ERROR){const n=e.map(bS);Rl.error(`Firestore (${Dc}): ${t}`,...n)}}function gc(t,...e){if(Rl.logLevel<=dt.WARN){const n=e.map(bS);Rl.warn(`Firestore (${Dc}): ${t}`,...n)}}function bS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: `+t;throw co(e),new Error(e)}function Nt(t,e){t||Xe()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class SG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xG{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string"),new HM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new nr(e)}}class RG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt(typeof n.token=="string"),this.R=n.token,new CG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function yc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new Cn(0,0))}static max(){return new et(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(),r===void 0?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends Md{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const kG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Md{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return kG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new De(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new De(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e($t.fromString(e))}static fromName(e){return new $e($t.fromString(e).popFirst(5))}static empty(){return new $e($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new $t(e.slice()))}}function OG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Cn(n+1,0):new Cn(n,r));return new da(i,$e.empty(),e)}function NG(t){return new da(t.readTime,t.key,-1)}class da{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new da(et.min(),$e.empty(),-1)}static max(){return new da(et.max(),$e.empty(),-1)}}function DG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==LG)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ye((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function FG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}TS.oe=-1;function my(t){return t==null}function cg(t){return t===0&&1/t==-1/0}function jG(t){return typeof t=="number"&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class ab{constructor(e,n){this.comparator=e,this.root=n||oa.EMPTY}insert(e,n){return new ab(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oa.BLACK,null,null))}remove(e){return new ab(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}},Op=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},oa=class Us{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Us.RED,this.left=i??Us.EMPTY,this.right=s??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Us(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}};oa.EMPTY=null,oa.RED=!0,oa.BLACK=!1;oa.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new oa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yA(this.data.getIterator())}getIteratorFrom(e){return new yA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class yA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new qn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KM("Invalid base64 string: "+s):s}}(e);return new Kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const VG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(Nt(!!t),typeof t=="string"){let e=0;const n=VG.exec(t);if(Nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Il(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xS(t){const e=t.mapValue.fields.__previous_value__;return SS(e)?xS(e):e}function Fd(t){const e=ha(t.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class jd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SS(t)?4:$G(t)?9007199254740991:BG(t)?10:11:Xe()}function Ss(t,e){if(t===e)return!0;const n=Cl(t);if(n!==Cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ha(i.timestampValue),a=ha(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Il(i.bytesValue).isEqual(Il(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return un(i.geoPointValue.latitude)===un(s.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return un(i.integerValue)===un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=un(i.doubleValue),a=un(s.doubleValue);return o===a?cg(o)===cg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gA(o)!==gA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ss(o[l],a[l])))return!1;return!0}(t,e);default:return Xe()}}function Vd(t,e){return(t.values||[]).find(n=>Ss(n,e))!==void 0}function vc(t,e){if(t===e)return 0;const n=Cl(t),r=Cl(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=un(s.integerValue||s.doubleValue),l=un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vA(t.timestampValue,e.timestampValue);case 4:return vA(Fd(t),Fd(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Il(s),l=Il(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=bt(a[u],l[u]);if(d!==0)return d}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(un(s.latitude),un(o.latitude));return a!==0?a:bt(un(s.longitude),un(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _A(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const p=s.fields||{},y=o.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(l=y.value)===null||l===void 0?void 0:l.arrayValue,S=bt(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:_A(_,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Np.mapValue&&o===Np.mapValue)return 0;if(s===Np.mapValue)return 1;if(o===Np.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=bt(l[p],d[p]);if(y!==0)return y;const _=vc(a[l[p]],u[d[p]]);if(_!==0)return _}return bt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function vA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=ha(t),r=ha(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function _A(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=vc(n[i],r[i]);if(s)return s}return bt(n.length,r.length)}function _c(t){return lb(t)}function lb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Il(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lb(n.fields[o])}`;return i+"}"}(t.mapValue):Xe()}function wA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ub(t){return!!t&&"integerValue"in t}function RS(t){return!!t&&"arrayValue"in t}function EA(t){return!!t&&"nullValue"in t}function bA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fm(t){return!!t&&"mapValue"in t}function BG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $G(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=zn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pr(Zf(this.value))}}function GM(t){const e=[];return Vl(t.fields,(n,r)=>{const i=new zn([n]);if(fm(r)){const s=GM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sr(e,0,et.min(),et.min(),et.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,i){return new sr(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new sr(e,2,n,et.min(),et.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new sr(e,3,n,et.min(),et.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.position=e,this.inclusive=n}}function TA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),n.key):r=vc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function zG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{}class vn extends QM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qG(e,n,r):n==="array-contains"?new GG(e,r):n==="in"?new QG(e,r):n==="not-in"?new YG(e,r):n==="array-contains-any"?new XG(e,r):new vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WG(e,r):new KG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vc(n,this.value)):n!==null&&Cl(this.value)===Cl(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends QM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ki(e,n)}matches(e){return YM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YM(t){return t.op==="and"}function XM(t){return HG(t)&&YM(t)}function HG(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function cb(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(XM(t))return t.filters.map(e=>cb(e)).join(",");{const e=t.filters.map(n=>cb(n)).join(",");return`${t.op}(${e})`}}function JM(t,e){return t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Ss(r.value,i.value)}(t,e):t instanceof Ki?function(r,i){return i instanceof Ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&JM(o,i.filters[a]),!0):!1}(t,e):void Xe()}function ZM(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`}(t):t instanceof Ki?function(n){return n.op.toString()+" {"+n.getFilters().map(ZM).join(" ,")+"}"}(t):"Filter"}class qG extends vn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class WG extends vn{constructor(e,n){super(e,"in",n),this.keys=e3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KG extends vn{constructor(e,n){super(e,"not-in",n),this.keys=e3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class GG extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RS(n)&&Vd(n.arrayValue,this.value)}}class QG extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vd(this.value.arrayValue,n)}}class YG extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vd(this.value.arrayValue,n)}}class XG extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function xA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JG(t,e,n,r,i,s,o)}function IS(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),my(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_c(r)).join(",")),e.ue=n}return e.ue}function CS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SA(t.startAt,e.startAt)&&SA(t.endAt,e.endAt)}function fb(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZG(t,e,n,r,i,s,o,a){return new Lc(t,e,n,r,i,s,o,a)}function AS(t){return new Lc(t)}function RA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t3(t){return t.collectionGroup!==null}function ed(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qn(zn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ud(s,r))}),n.has(zn.keyField().canonicalString())||e.ce.push(new Ud(zn.keyField(),r))}return e.ce}function Es(t){const e=tt(t);return e.le||(e.le=eQ(e,ed(t))),e.le}function eQ(t,e){if(t.limitType==="F")return xA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ud(i.field,s)});const n=t.endAt?new fg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fg(t.startAt.position,t.startAt.inclusive):null;return xA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function db(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gy(t,e){return CS(Es(t),Es(e))&&t.limitType===e.limitType}function n3(t){return`${IS(Es(t))}|lt:${t.limitType}`}function Ru(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZM(i)).join(", ")}]`),my(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_c(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_c(i)).join(",")),`Target(${r})`}(Es(t))}; limitType=${t.limitType})`}function yy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ed(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=TA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ed(r),i)||r.endAt&&!function(o,a,l){const u=TA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ed(r),i))}(t,e)}function tQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r3(t){return(e,n)=>{let r=!1;for(const i of ed(t)){const s=nQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nQ(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?vc(l,u):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new En($e.comparator);function fo(){return rQ}const i3=new En($e.comparator);function Lf(...t){let e=i3;for(const n of t)e=e.insert(n.key,n);return e}function s3(t){let e=i3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ol(){return td()}function o3(){return td()}function td(){return new Mc(t=>t.toString(),(t,e)=>t.isEqual(e))}const iQ=new En($e.comparator),sQ=new qn($e.comparator);function ht(...t){let e=sQ;for(const n of t)e=e.add(n);return e}const oQ=new qn(bt);function aQ(){return oQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function a3(t){return{integerValue:""+t}}function lQ(t,e){return jG(e)?a3(e):PS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._=void 0}}function uQ(t,e,n){return t instanceof hg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SS(s)&&(s=xS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bd?u3(t,e):t instanceof $d?c3(t,e):function(i,s){const o=l3(i,s),a=IA(o)+IA(i.Pe);return ub(o)&&ub(i.Pe)?a3(a):PS(i.serializer,a)}(t,e)}function cQ(t,e,n){return t instanceof Bd?u3(t,e):t instanceof $d?c3(t,e):n}function l3(t,e){return t instanceof pg?function(r){return ub(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hg extends vy{}class Bd extends vy{constructor(e){super(),this.elements=e}}function u3(t,e){const n=f3(e);for(const r of t.elements)n.some(i=>Ss(i,r))||n.push(r);return{arrayValue:{values:n}}}class $d extends vy{constructor(e){super(),this.elements=e}}function c3(t,e){let n=f3(e);for(const r of t.elements)n=n.filter(i=>!Ss(i,r));return{arrayValue:{values:n}}}class pg extends vy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function IA(t){return un(t.integerValue||t.doubleValue)}function f3(t){return RS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bd&&i instanceof Bd||r instanceof $d&&i instanceof $d?yc(r.elements,i.elements,Ss):r instanceof pg&&i instanceof pg?Ss(r.Pe,i.Pe):r instanceof hg&&i instanceof hg}(t.transform,e.transform)}class dQ{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _y{}function d3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kS(t.key,Hi.none()):new hh(t.key,t.data,Hi.none());{const n=t.data,r=Pr.empty();let i=new qn(zn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pa(t.key,r,new Gr(i.toArray()),Hi.none())}}function hQ(t,e,n){t instanceof hh?function(i,s,o){const a=i.value.clone(),l=AA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pa?function(i,s,o){if(!dm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(h3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof hh?function(s,o,a,l){if(!dm(s.precondition,o))return a;const u=s.value.clone(),d=PA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pa?function(s,o,a,l){if(!dm(s.precondition,o))return a;const u=PA(s.fieldTransforms,l,o),d=o.data;return d.setAll(h3(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return dm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=l3(r.transform,i||null);s!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,s))}return n||null}function CA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(s,o)=>fQ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends _y{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pa extends _y{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function h3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AA(t,e,n){const r=new Map;Nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cQ(o,a,n[i]))}return r}function PA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uQ(s,o,e))}return r}class kS extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mQ extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=d3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,r)=>CA(n,r))&&yc(this.baseMutations,e.baseMutations,(n,r)=>CA(n,r))}}class OS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Nt(e.mutations.length===r.length);let i=function(){return iQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,yt;function _Q(t){switch(t){default:return Xe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function p3(t){if(t===void 0)return co("GRPC error has no .code"),pe.UNKNOWN;switch(t){case pn.OK:return pe.OK;case pn.CANCELLED:return pe.CANCELLED;case pn.UNKNOWN:return pe.UNKNOWN;case pn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case pn.INTERNAL:return pe.INTERNAL;case pn.UNAVAILABLE:return pe.UNAVAILABLE;case pn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case pn.NOT_FOUND:return pe.NOT_FOUND;case pn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case pn.ABORTED:return pe.ABORTED;case pn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case pn.DATA_LOSS:return pe.DATA_LOSS;default:return Xe()}}(yt=pn||(pn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=new pl([4294967295,4294967295],0);function kA(t){const e=wQ().encode(t),n=new FM;return n.update(e),new Uint8Array(n.digest())}function OA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pl([n,r],0),new pl([i,s],0)]}class NS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mf(`Invalid padding: ${n}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pl.fromNumber(r)));return i.compare(EQ)===1&&(i=new pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kA(e),[r,i]=OA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new NS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=kA(e),[r,i]=OA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wy(et.min(),i,new En(bt),fo(),ht())}}class ph{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class m3{constructor(e,n){this.targetId=e,this.me=n}}class g3{constructor(e,n,r=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NA{constructor(){this.fe=0,this.ge=LA(),this.pe=Kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new ph(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bQ{constructor(e){this.Le=e,this.Be=new Map,this.ke=fo(),this.qe=DA(),this.Qe=new En(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fb(s))if(r===0){const o=new $e(s.path);this.Ue(n,o,sr.newNoDocument(o,et.min()))}else Nt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Il(r).toUint8Array()}catch(l){if(l instanceof KM)return gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new NS(o,i,s)}catch(l){return gc(l instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fb(a.target)){const l=new $e(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ht();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new wy(e,n,this.Qe,this.ke,r);return this.ke=fo(),this.qe=DA(),this.Qe=new En(bt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new NA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qn(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new NA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DA(){return new En($e.comparator)}function LA(){return new En($e.comparator)}const TQ={asc:"ASCENDING",desc:"DESCENDING"},SQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xQ={and:"AND",or:"OR"};class RQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||my(e)?e:{value:e}}function mg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IQ(t,e){return mg(t,e.toTimestamp())}function bs(t){return Nt(!!t),et.fromTimestamp(function(n){const r=ha(n);return new Cn(r.seconds,r.nanos)}(t))}function DS(t,e){return pb(t,e).canonicalString()}function pb(t,e){const n=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function v3(t){const e=$t.fromString(t);return Nt(T3(e)),e}function mb(t,e){return DS(t.databaseId,e.path)}function g_(t,e){const n=v3(e);if(n.get(1)!==t.databaseId.projectId)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(w3(n))}function _3(t,e){return DS(t.databaseId,e)}function CQ(t){const e=v3(t);return e.length===4?$t.emptyPath():w3(e)}function gb(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w3(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MA(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function AQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Nt(d===void 0||typeof d=="string"),Kn.fromBase64String(d||"")):(Nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Kn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?pe.UNKNOWN:p3(u.code);return new De(d,u.message||"")}(o);n=new g3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g_(t,r.document.name),s=bs(r.document.updateTime),o=r.document.createTime?bs(r.document.createTime):et.min(),a=new Pr({mapValue:{fields:r.document.fields}}),l=sr.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new hm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g_(t,r.document),s=r.readTime?bs(r.readTime):et.min(),o=sr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g_(t,r.document),s=r.removedTargetIds||[];n=new hm([],s,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new vQ(i,s),a=r.targetId;n=new m3(a,o)}}return n}function PQ(t,e){let n;if(e instanceof hh)n={update:MA(t,e.key,e.value)};else if(e instanceof kS)n={delete:mb(t,e.key)};else if(e instanceof Pa)n={update:MA(t,e.key,e.data),updateMask:VQ(e.fieldMask)};else{if(!(e instanceof mQ))return Xe();n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $d)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:IQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe()}(t,e.precondition)),n}function kQ(t,e){return t&&t.length>0?(Nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?bs(i.updateTime):bs(s);return o.isEqual(et.min())&&(o=bs(s)),new dQ(o,i.transformResults||[])}(n,e))):[]}function OQ(t,e){return{documents:[_3(t,e.path)]}}function NQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_3(t,i);const s=function(u){if(u.length!==0)return b3(Ki.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:Iu(y.field),direction:MQ(y.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function DQ(t){let e=CQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const y=E3(p);return y instanceof Ki&&XM(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new Ud(Cu(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,my(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){const y=!!p.before,_=p.values||[];return new fg(_,y)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const y=!p.before,_=p.values||[];return new fg(_,y)}(n.endAt)),ZG(e,i,o,s,a,"F",l,u)}function LQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cu(n.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cu(n.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(n){return vn.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ki.create(n.compositeFilter.filters.map(r=>E3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(t):Xe()}function MQ(t){return TQ[t]}function FQ(t){return SQ[t]}function jQ(t){return xQ[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Cu(t){return zn.fromServerFormat(t.fieldPath)}function b3(t){return t instanceof vn?function(n){if(n.op==="=="){if(bA(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NAN"}};if(EA(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bA(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NAN"}};if(EA(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(n.field),op:FQ(n.op),value:n.value}}}(t):t instanceof Ki?function(n){const r=n.getFilters().map(i=>b3(i));return r.length===1?r[0]:{compositeFilter:{op:jQ(n.op),filters:r}}}(t):Xe()}function VQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,i,s=et.min(),o=et.min(),a=Kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.ct=e}}function BQ(t){const e=DQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.un=new zQ}addToCollectionParentIndex(e,n){return this.un.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(da.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(da.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class zQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qn($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wc(0)}static kn(){return new wc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(){this.changes=new Mc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nd(r.mutation,i,Gr.empty(),Cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=ol();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ol();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fo();const o=td(),a=function(){return td()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Pa)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nd(d.mutation,u,d.mutation.getFieldMask(),Cn.now())):o.set(u.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new qQ(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=td();let i=new En((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Gr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(i.get(a.batchId)||ht()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=o3();d.forEach(y=>{if(!s.has(y)){const _=d3(n.get(y),r.get(y));_!==null&&p.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(ol());let a=-1,l=s;return o.next(u=>ye.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?ye.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ht())).next(d=>({batchId:a,changes:s3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let i=Lf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Lf();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,l=>{const u=function(p,y){return new Lc(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,sr.newInvalidDocument(d)))});let a=Lf();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&nd(d.mutation,u,Gr.empty(),Cn.now()),yy(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ye.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:BQ(i.bundledQuery),readTime:bs(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this.overlays=new En($e.comparator),this.Ir=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ol();return ye.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=ol(),s=n.length+1,o=new $e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ol(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ol(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return ye.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yQ(n,r));let s=this.Ir.get(n);s===void 0&&(s=ht(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.Tr=new qn(Dn.Er),this.dr=new qn(Dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Dn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new $e(new $t([])),r=new Dn(n,e),i=new Dn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new $e(new $t([])),r=new Dn(n,e),i=new Dn(n,e+1);let s=ht();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $e.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qn(Dn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gQ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dn(n,0),i=new Dn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(bt);return n.forEach(i=>{const s=new Dn(i,0),o=new Dn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ye.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;$e.isDocumentKey(s)||(s=s.child(""));const o=new Dn(new $e(s),0);let a=new qn(bt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ye.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ye.forEach(n.mutations,i=>{const s=new Dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Dn(n,0),i=this.br.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e){this.Mr=e,this.docs=function(){return new En($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():sr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fo();const o=n.path,a=new $e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DG(NG(d),r)<=0||(i.has(d.key)||yy(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Xe()}Or(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JQ(this)}getSize(e){return ye.resolve(this.size)}}class JQ extends HQ{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.persistence=e,this.Nr=new Mc(n=>IS(n),CS),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new LS,this.targetCount=0,this.kr=wc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Kn(n),ye.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n){this.qr={},this.overlays={},this.Qr=new TS(0),this.Kr=!1,this.Kr=!0,this.$r=new QQ,this.referenceDelegate=e(this),this.Ur=new ZQ(this),this.indexManager=new $Q,this.remoteDocumentCache=function(i){return new XQ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UQ(n),this.Gr=new KQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YQ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new tY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ye.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tY extends MG{constructor(e){super(),this.currentSequenceNumber=e}}class MS{constructor(e){this.persistence=e,this.Jr=new LS,this.Yr=null}static Zr(e){return new MS(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,r=>{const i=$e.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,et.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ye.or([()=>ye.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ht(),i=ht();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new FS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RH()?8:FG(fr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nY;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wf()<=dt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(wf()<=dt.DEBUG&&Ve("QueryEngine","Query:",Ru(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wf()<=dt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):ye.resolve())}Yi(e,n){if(RA(n))return ye.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dg(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,dg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return RA(n)||i.isEqual(et.min())?ye.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ye.resolve(null):(wf()<=dt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ru(n)),this.rs(e,o,n,OG(i,-1)).next(a=>a))})}ts(e,n){let r=new qn(r3(e));return n.forEach((i,s)=>{yy(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return wf()<=dt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ru(n)),this.Ji.getDocumentsMatchingQuery(e,n,da.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new En(bt),this._s=new Mc(s=>IS(s),CS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sY(t,e,n,r){return new iY(t,e,n,r)}async function S3(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ht();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function oY(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,y=p.keys();let _=ye.resolve();return y.forEach(E=>{_=_.next(()=>d.getEntry(l,E)).next(S=>{const C=u.docVersions.get(E);Nt(C!==null),S.version.compareTo(C)<0&&(p.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function x3(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aY(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const y=i.get(p);if(!y)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Kn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(S,C,R){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,_,d)&&a.push(n.Ur.updateTargetData(s,_))});let l=fo(),u=ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(lY(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(et.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function lY(t,e,n){let r=ht(),i=ht();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function uY(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cY(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yb(t,e,n){const r=tt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dh(o))throw o;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function FA(t,e,n){const r=tt(t);let i=et.min(),s=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=tt(l),y=p._s.get(d);return y!==void 0?ye.resolve(p.os.get(y)):p.Ur.getTargetData(u,d)}(r,o,Es(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:et.min(),n?s:ht())).next(a=>(fY(r,tQ(e),a),{documents:a,Ts:s})))}function fY(t,e,n){let r=t.us.get(e)||et.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class jA{constructor(){this.activeTargetIds=aQ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dY{constructor(){this.so=new jA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function y_(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class gY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=y_(),l=this.xo(n,r.toUriEncodedString());Ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(Ve("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw gc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=pY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=y_();return new Promise((o,a)=>{const l=new jM;l.setWithCredentials(!0),l.listenOnce(UM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cm.NO_ERROR:const d=l.getResponseJson();Ve(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case cm.TIMEOUT:Ve(tr,`RPC '${e}' ${s} timed out`),a(new De(pe.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const p=l.getStatus();if(Ve(tr,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const E=function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(R)>=0?R:pe.UNKNOWN}(_.status);a(new De(E,_.message))}else a(new De(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new De(pe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ve(tr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ve(tr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=y_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zM(),a=$M(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new VM({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ve(tr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let y=!1,_=!1;const E=new mY({Io:C=>{_?Ve(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(Ve(tr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Ve(tr,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},To:()=>p.close()}),S=(C,R,w)=>{C.listen(R,v=>{try{w(v)}catch(I){setTimeout(()=>{throw I},0)}})};return S(p,Df.EventType.OPEN,()=>{_||(Ve(tr,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),S(p,Df.EventType.CLOSE,()=>{_||(_=!0,Ve(tr,`RPC '${e}' stream ${i} transport closed`),E.So())}),S(p,Df.EventType.ERROR,C=>{_||(_=!0,gc(tr,`RPC '${e}' stream ${i} transport errored:`,C),E.So(new De(pe.UNAVAILABLE,"The operation could not be completed")))}),S(p,Df.EventType.MESSAGE,C=>{var R;if(!_){const w=C.data[0];Nt(!!w);const v=w,I=v.error||((R=v[0])===null||R===void 0?void 0:R.error);if(I){Ve(tr,`RPC '${e}' stream ${i} received error:`,I);const k=I.status;let B=function(N){const L=pn[N];if(L!==void 0)return p3(L)}(k),D=I.message;B===void 0&&(B=pe.INTERNAL,D="Unknown error status: "+k+" with message "+I.message),_=!0,E.So(new De(B,D)),p.close()}else Ve(tr,`RPC '${e}' stream ${i} received:`,w),E.bo(w)}}),S(a,BM.STAT_EVENT,C=>{C.stat===ob.PROXY?Ve(tr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===ob.NOPROXY&&Ve(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function v_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){return new RQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new De(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yY extends I3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?bs(o.readTime):et.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=fb(l)?{documents:OQ(s,l)}:{query:NQ(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=y3(s,o.resumeToken);const u=hb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=mg(s,o.snapshotVersion.toTimestamp());const u=hb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=LQ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.a_(n)}}class vY extends I3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=kQ(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(pe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(co(n),this.D_=!1):Ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ul(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=tt(l);u.L_.add(4),await mh(u),u.q_.set("Unknown"),u.L_.delete(4),await by(u)}(this))})}),this.q_=new wY(r,i)}}async function by(t){if(Ul(t))for(const e of t.B_)await e(!0)}async function mh(t){for(const e of t.B_)await e(!1)}function C3(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),BS(n)?US(n):Fc(n).r_()&&VS(n,e))}function jS(t,e){const n=tt(t),r=Fc(n);n.N_.delete(e),r.r_()&&A3(n,e),n.N_.size===0&&(r.r_()?r.o_():Ul(n)&&n.q_.set("Unknown"))}function VS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).A_(e)}function A3(t,e){t.Q_.xe(e),Fc(t).R_(e)}function US(t){t.Q_=new bQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function BS(t){return Ul(t)&&!Fc(t).n_()&&t.N_.size>0}function Ul(t){return tt(t).L_.size===0}function P3(t){t.Q_=void 0}async function bY(t){t.q_.set("Online")}async function TY(t){t.N_.forEach((e,n)=>{VS(t,e)})}async function SY(t,e){P3(t),BS(t)?(t.q_.M_(e),US(t)):t.q_.set("Unknown")}async function xY(t,e,n){if(t.q_.set("Online"),e instanceof g3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gg(t,r)}else if(e instanceof hm?t.Q_.Ke(e):e instanceof m3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(et.min()))try{const r=await x3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Kn.EMPTY_BYTE_STRING,d.snapshotVersion)),A3(s,l);const p=new Ko(d.target,l,u,d.sequenceNumber);VS(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),await gg(t,r)}}async function gg(t,e,n){if(!dh(e))throw e;t.L_.add(1),await mh(t),t.q_.set("Offline"),n||(n=()=>x3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await by(t)})}function k3(t,e){return e().catch(n=>gg(t,n,e))}async function Ty(t){const e=tt(t),n=pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RY(e);)try{const i=await uY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,IY(e,i)}catch(i){await gg(e,i)}O3(e)&&N3(e)}function RY(t){return Ul(t)&&t.O_.length<10}function IY(t,e){t.O_.push(e);const n=pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function O3(t){return Ul(t)&&!pa(t).n_()&&t.O_.length>0}function N3(t){pa(t).start()}async function CY(t){pa(t).p_()}async function AY(t){const e=pa(t);for(const n of t.O_)e.m_(n.mutations)}async function PY(t,e,n){const r=t.O_.shift(),i=OS.from(r,e,n);await k3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ty(t)}async function kY(t,e){e&&pa(t).V_&&await async function(r,i){if(function(o){return _Q(o)&&o!==pe.ABORTED}(i.code)){const s=r.O_.shift();pa(r).s_(),await k3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ty(r)}}(t,e),O3(t)&&N3(t)}async function UA(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=Ul(n);n.L_.add(3),await mh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await by(n)}async function OY(t,e){const n=tt(t);e?(n.L_.delete(2),await by(n)):e||(n.L_.add(2),await mh(n),n.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=function(n,r,i){const s=tt(n);return s.w_(),new yY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bY.bind(null,t),Ro:TY.bind(null,t),mo:SY.bind(null,t),d_:xY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),BS(t)?US(t):t.q_.set("Unknown")):(await t.K_.stop(),P3(t))})),t.K_}function pa(t){return t.U_||(t.U_=function(n,r,i){const s=tt(n);return s.w_(),new vY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CY.bind(null,t),mo:kY.bind(null,t),f_:AY.bind(null,t),g_:PY.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ty(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $S(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zS(t,e){if(co("AsyncQueue",`${e}: ${t}`),dh(t))return new De(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Lf(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.W_=new En($e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ec{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ec(e,n,tc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DY{constructor(){this.queries=$A(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=tt(n),s=i.queries;i.queries=$A(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new De(pe.ABORTED,"Firestore shutting down"))}}function $A(){return new Mc(t=>n3(t),gy)}async function D3(t,e){const n=tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new NY,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=zS(o,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&HS(n)}async function L3(t,e){const n=tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LY(t,e){const n=tt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&HS(n)}function MY(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function HS(t){t.Y_.forEach(e=>{e.next()})}var vb,zA;(zA=vb||(vb={})).ea="default",zA.Cache="cache";class M3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.key=e}}class j3{constructor(e){this.key=e}}class FY{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=r3(e),this.Ra=new tc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BA,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const y=i.get(d),_=yy(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;y&&_?y.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),C=!0):this.ga(y,_)||(r.track({type:2,doc:_}),C=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!y&&_?(r.track({type:0,doc:_}),C=!0):y&&!_&&(r.track({type:1,doc:y}),C=!0,(l||u)&&(a=!0)),C&&(_?(o=o.add(_),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(_,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return S(_)-S(E)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ec(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new j3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new F3(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VY{constructor(e){this.key=e,this.va=!1}}class UY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Mc(a=>n3(a),gy),this.Ma=new Map,this.xa=new Set,this.Oa=new En($e.comparator),this.Na=new Map,this.La=new LS,this.Ba={},this.ka=new Map,this.qa=wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BY(t,e,n=!0){const r=H3(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await V3(r,e,n,!0),i}async function $Y(t,e){const n=H3(t);await V3(n,e,!0,!1)}async function V3(t,e,n,r){const i=await cY(t.localStore,Es(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await zY(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&C3(t.remoteStore,i),a}async function zY(t,e,n,r,i){t.Ka=(p,y,_)=>async function(S,C,R,w){let v=C.view.ma(R);v.ns&&(v=await FA(S.localStore,C.query,!1).then(({documents:D})=>C.view.ma(D,v)));const I=w&&w.targetChanges.get(C.targetId),k=w&&w.targetMismatches.get(C.targetId)!=null,B=C.view.applyChanges(v,S.isPrimaryClient,I,k);return qA(S,C.targetId,B.wa),B.snapshot}(t,p,y,_);const s=await FA(t.localStore,e,!0),o=new FY(e,s.Ts),a=o.ma(s.documents),l=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);qA(t,n,u.wa);const d=new jY(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function HY(t,e,n){const r=tt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!gy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jS(r.remoteStore,i.targetId),_b(r,i.targetId)}).catch(fh)):(_b(r,i.targetId),await yb(r.localStore,i.targetId,!0))}async function qY(t,e){const n=tt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jS(n.remoteStore,r.targetId))}async function WY(t,e,n){const r=ZY(t);try{const i=await function(o,a){const l=tt(o),u=Cn.now(),d=a.reduce((_,E)=>_.add(E.key),ht());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=fo(),S=ht();return l.cs.getEntries(_,d).next(C=>{E=C,E.forEach((R,w)=>{w.isValidDocument()||(S=S.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,E)).next(C=>{p=C;const R=[];for(const w of a){const v=pQ(w,p.get(w.key).overlayedDocument);v!=null&&R.push(new Pa(w.key,v,GM(v.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,R,a)}).next(C=>{y=C;const R=C.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(_,C.batchId,R)})}).then(()=>({batchId:y.batchId,changes:s3(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new En(bt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await gh(r,i.changes),await Ty(r.remoteStore)}catch(i){const s=zS(i,"Failed to persist write");n.reject(s)}}async function U3(t,e){const n=tt(t);try{const r=await aY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Nt(o.va):i.removedDocuments.size>0&&(Nt(o.va),o.va=!1))}),await gh(n,r,e)}catch(r){await fh(r)}}function HA(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=tt(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const y of p.j_)y.Z_(a)&&(u=!0)}),u&&HS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KY(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new En($e.comparator);o=o.insert(s,sr.newNoDocument(s,et.min()));const a=ht().add(s),l=new wy(et.min(),new Map,new En(bt),o,a);await U3(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),qS(r)}else await yb(r.localStore,e,!1).then(()=>_b(r,e,n)).catch(fh)}async function GY(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await oY(n.localStore,e);$3(n,r,null),B3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gh(n,i)}catch(i){await fh(i)}}async function QY(t,e,n){const r=tt(t);try{const i=await function(o,a){const l=tt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Nt(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);$3(r,e,n),B3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gh(r,i)}catch(i){await fh(i)}}function B3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $3(t,e,n){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||z3(t,r)})}function z3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(jS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qS(t))}function qA(t,e,n){for(const r of n)r instanceof F3?(t.La.addReference(r.key,e),YY(t,r)):r instanceof j3?(Ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||z3(t,r.key)):Xe()}function YY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),qS(t))}function qS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new $e($t.fromString(e)),r=t.qa.next();t.Na.set(r,new VY(n)),t.Oa=t.Oa.insert(n,r),C3(t.remoteStore,new Ko(Es(AS(n.path)),r,"TargetPurposeLimboResolution",TS.oe))}}async function gh(t,e,n){const r=tt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=FS.Wi(l.targetId,u);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=tt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ye.forEach(u,y=>ye.forEach(y.$i,_=>d.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>ye.forEach(y.Ui,_=>d.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!dh(p))throw p;Ve("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const _=d.os.get(y),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(y,S)}}}(r.localStore,s))}async function XY(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=await S3(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new De(pe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gh(n,r.hs)}}function JY(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function H3(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KY.bind(null,e),e.Ca.d_=LY.bind(null,e.eventManager),e.Ca.$a=MY.bind(null,e.eventManager),e}function ZY(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QY.bind(null,e),e}class WA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ey(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sY(this.persistence,new rY,e.initialUser,this.serializer)}createPersistence(e){return new eY(MS.Zr,this.serializer)}createSharedClientState(e){return new dY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XY.bind(null,this.syncEngine),await OY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DY}()}createDatastore(e){const n=Ey(e.databaseInfo.databaseId),r=function(s){return new gY(s)}(e.databaseInfo);return function(s,o,a,l){return new _Y(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new EY(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HA(this.syncEngine,n,0),function(){return VA.D()?new VA:new hY}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const p=new UY(i,s,o,a,l,u);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=tt(i);Ve("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=qM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function __(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await S3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rX(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UA(e.remoteStore,i)),t._onlineComponents=e}function nX(t){return t.name==="FirebaseError"?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function rX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await __(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nX(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await __(t,new WA)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await __(t,new WA);return t._offlineComponents}async function W3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await KA(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await KA(t,new eX))),t._onlineComponents}function iX(t){return W3(t).then(e=>e.syncEngine)}async function wb(t){const e=await W3(t),n=e.eventManager;return n.onListen=BY.bind(null,e.syncEngine),n.onUnlisten=HY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$Y.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qY.bind(null,e.syncEngine),n}function sX(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new q3({next:y=>{o.enqueueAndForget(()=>L3(s,p)),y.fromCache&&l.source==="server"?u.reject(new De(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new M3(a,d,{includeMetadataChanges:!0,_a:!0});return D3(s,p)}(await wb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e,n){if(!n)throw new De(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oX(t,e,n,r){if(e===!0&&r===!0)throw new De(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QA(t){if(!$e.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YA(t){if($e.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new De(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new De(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TG;switch(r.type){case"firstParty":return new IG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GA.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),GA.delete(n),r.terminate())}(this),Promise.resolve()}}function aX(t,e,n,r={}){var i;const s=(t=Ts(t,xy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=nr.MOCK_USER;else{a=lS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new De(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nr(u)}t._authCredentials=new SG(new HM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class aa extends vo{constructor(e,n,r){super(e,n,AS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new $e(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function gn(t,e,...n){if(t=Dt(t),G3("collection","path",e),t instanceof xy){const r=$t.fromString(e,...n);return YA(r),new aa(t,null,r)}{if(!(t instanceof Vr||t instanceof aa))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return YA(r),new aa(t.firestore,null,r)}}function Di(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=qM.newId()),G3("doc","path",e),t instanceof xy){const r=$t.fromString(e,...n);return QA(r),new Vr(t,null,new $e(r))}{if(!(t instanceof Vr||t instanceof aa))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return QA(r),new Vr(t.firestore,t instanceof aa?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new R3(this,"async_queue_retry"),this.Eu=()=>{const n=v_();n&&Ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=v_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=v_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new sa;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!dh(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw co("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=$S.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Xe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function JA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Al extends xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lX}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q3(this),this._firestoreClient.terminate()}}function uX(t,e){const n=typeof t=="object"?t:uy(),r=typeof t=="string"?t:"(default)",i=oh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oS("firestore");s&&aX(i,...s)}return i}function WS(t){return t._firestoreClient||Q3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Q3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new UG(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,K3(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new tX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(Kn.fromBase64String(e))}catch(n){throw new De(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=/^__.*__$/;class fX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}class Y3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function X3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class YS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new YS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return yg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(X3(this.wu)&&cX.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class dX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ey(e)}Nu(e,n,r,i=!1){return new YS({wu:e,methodName:n,Ou:r,path:zn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XS(t){const e=t._freezeSettings(),n=Ey(t._databaseId);return new dX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hX(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);JS("Data must be an object, but it was:",o,r);const a=J3(r,o);let l,u;if(s.merge)l=new Gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const y=Eb(e,p,n);if(!o.contains(y))throw new De(pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);e6(d,y)||d.push(y)}l=new Gr(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new fX(new Pr(a),l,u)}class Iy extends KS{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}function pX(t,e,n,r){const i=t.Nu(1,e,n);JS("Data must be an object, but it was:",i,r);const s=[],o=Pr.empty();Vl(r,(l,u)=>{const d=ZS(e,l,n);u=Dt(u);const p=i.Cu(d);if(u instanceof Iy)s.push(d);else{const y=yh(u,p);y!=null&&(s.push(d),o.set(d,y))}});const a=new Gr(s);return new Y3(o,a,i.fieldTransforms)}function mX(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[Eb(e,r,n)],l=[i];if(s.length%2!=0)throw new De(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Eb(e,s[y])),l.push(s[y+1]);const u=[],d=Pr.empty();for(let y=a.length-1;y>=0;--y)if(!e6(u,a[y])){const _=a[y];let E=l[y];E=Dt(E);const S=o.Cu(_);if(E instanceof Iy)u.push(_);else{const C=yh(E,S);C!=null&&(u.push(_),d.set(_,C))}}const p=new Gr(u);return new Y3(d,p,o.fieldTransforms)}function gX(t,e,n,r=!1){return yh(n,t.Nu(r?4:3,e))}function yh(t,e){if(Z3(t=Dt(t)))return JS("Unsupported field value:",e,t),J3(t,e);if(t instanceof KS)return function(r,i){if(!X3(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yh(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Cn.fromDate(r);return{timestampValue:mg(i.serializer,s)}}if(r instanceof Cn){const s=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mg(i.serializer,s)}}if(r instanceof GS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:y3(i.serializer,r._byteString)};if(r instanceof Vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof QS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return PS(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Sy(r)}`)}(t,e)}function J3(t,e){const n={};return WM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(r,i)=>{const s=yh(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Z3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof GS||t instanceof bc||t instanceof Vr||t instanceof KS||t instanceof QS)}function JS(t,e,n){if(!Z3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sy(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Eb(t,e,n){if((e=Dt(e))instanceof Ry)return e._internalPath;if(typeof e=="string")return ZS(t,e);throw yg("Field path arguments must be of type string or ",t,!1,void 0,n)}const yX=new RegExp("[~\\*/\\[\\]]");function ZS(t,e,n){if(e.search(yX)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ry(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new De(pe.INVALID_ARGUMENT,a+t+l)}function e6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vX extends t6{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?ZS(t,e):e instanceof Ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ex{}class tx extends ex{}function rr(t,e,...n){let r=[];e instanceof ex&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof nx).length,a=s.filter(l=>l instanceof Ay).length;if(o>1||o>0&&a>0)throw new De(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ay extends tx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){const n=this._parse(e);return r6(e._query,n),new vo(e.firestore,e.converter,db(e._query,n))}_parse(e){const n=XS(e.firestore);return function(s,o,a,l,u,d,p){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new De(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){e2(p,d);const _=[];for(const E of p)_.push(ZA(l,s,E));y={arrayValue:{values:_}}}else y=ZA(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||e2(p,d),y=gX(a,o,p,d==="in"||d==="not-in");return vn.create(u,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ar(t,e,n){const r=e,i=Cy("where",t);return Ay._create(i,r,n)}class nx extends ex{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)r6(o,l),o=db(o,l)}(e._query,n),new vo(e.firestore,e.converter,db(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rx extends tx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rx(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ud(s,o)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Lc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _X(t,e="asc"){const n=e,r=Cy("orderBy",t);return rx._create(r,n)}class ix extends tx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ix(e,n,r)}_apply(e){return new vo(e.firestore,e.converter,dg(e._query,this._limit,this._limitType))}}function wX(t){return ix._create("limit",t,"F")}function ZA(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new De(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t3(e)&&n.indexOf("/")!==-1)throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!$e.isDocumentKey(r))throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wA(t,new $e(r))}if(n instanceof Vr)return wA(t,n._key);throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sy(n)}.`)}function e2(t,e){if(!Array.isArray(t)||t.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EX{convertValue(e,n="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>un(o.doubleValue));return new QS(s)}convertGeoPoint(e){return new GS(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=ha(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Nt(T3(r));const i=new jd(r.get(1),r.get(3)),s=new $e(r.popFirst(5));return i.isEqual(n)||co(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i6 extends t6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pm extends i6{data(e={}){return super.data(e)}}class s6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pm(this._firestore,this._userDataWriter,r.key,r,new Ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:TX(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class sx extends EX{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function Bn(t){t=Ts(t,vo);const e=Ts(t.firestore,Al),n=WS(e),r=new sx(e);return n6(t._query),sX(n,t._query).then(i=>new s6(e,r,t,i))}function zs(t,e,n,...r){t=Ts(t,Vr);const i=Ts(t.firestore,Al),s=XS(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Ry?mX(s,"updateDoc",t._key,e,n,r):pX(s,"updateDoc",t._key,e),ox(i,[o.toMutation(t._key,Hi.exists(!0))])}function SX(t){return ox(Ts(t.firestore,Al),[new kS(t._key,Hi.none())])}function t2(t,e){const n=Ts(t.firestore,Al),r=Di(t),i=bX(t.converter,e);return ox(n,[hX(XS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then(()=>r)}function xX(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||JA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(JA(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,d;if(t instanceof Vr)u=Ts(t.firestore,Al),d=AS(t._key.path),l={next:p=>{e[o]&&e[o](RX(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Ts(t,vo);u=Ts(p.firestore,Al),d=p._query;const y=new sx(u);l={next:_=>{e[o]&&e[o](new s6(u,y,p,_))},error:e[o+1],complete:e[o+2]},n6(t._query)}return function(y,_,E,S){const C=new q3(S),R=new M3(_,C,E);return y.asyncQueue.enqueueAndForget(async()=>D3(await wb(y),R)),()=>{C.za(),y.asyncQueue.enqueueAndForget(async()=>L3(await wb(y),R))}}(WS(u),d,a,l)}function ox(t,e){return function(r,i){const s=new sa;return r.asyncQueue.enqueueAndForget(async()=>WY(await iX(r),i,s)),s.promise}(WS(t),e)}function RX(t,e,n){const r=n.docs.get(e._key),i=new sx(t);return new i6(t,i,e._key,r,new Ff(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Dc=i})(Ia),fa(new ao("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Al(new xG(r.getProvider("auth-internal")),new AG(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new De(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(mA,"4.7.1",e),mi(mA,"4.7.1","esm2017")})();var n2={};const r2="@firebase/database",i2="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o6="";function IX(t){o6=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$n(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return go(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new CX(e)}}catch{}return new AX},al=a6("localStorage"),PX=a6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new ly("@firebase/database"),kX=function(){let t=1;return function(){return t++}}(),l6=function(t){const e=VH(t),n=new DH;n.update(e);const r=n.digest();return sS.encodeByteArray(r)},vh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vh.apply(null,r):typeof r=="object"?e+=$n(r):e+=r,e+=" "}return e};let rd=null,s2=!0;const OX=function(t,e){Ce(!e,"Can't turn on custom loggers persistently."),nc.logLevel=dt.VERBOSE,rd=nc.log.bind(nc)},or=function(...t){if(s2===!0&&(s2=!1,rd===null&&PX.get("logging_enabled")===!0&&OX()),rd){const e=vh.apply(null,t);rd(e)}},_h=function(t){return function(...e){or(t,...e)}},bb=function(...t){const e="FIREBASE INTERNAL ERROR: "+vh(...t);nc.error(e)},ho=function(...t){const e=`FIREBASE FATAL ERROR: ${vh(...t)}`;throw nc.error(e),new Error(e)},Jr=function(...t){const e="FIREBASE WARNING: "+vh(...t);nc.warn(e)},NX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},u6=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},DX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tc="[MIN_NAME]",Pl="[MAX_NAME]",jc=function(t,e){if(t===e)return 0;if(t===Tc||e===Pl)return-1;if(e===Tc||t===Pl)return 1;{const n=o2(t),r=o2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LX=function(t,e){return t===e?0:t<e?-1:1},Ef=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$n(e))},ax=function(t){if(typeof t!="object"||t===null)return $n(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$n(e[r]),n+=":",n+=ax(t[e[r]]);return n+="}",n},c6=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _i(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const f6=function(t){Ce(!u6(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let p="";for(l=0;l<64;l+=8){let y=parseInt(d.substr(l,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},MX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},jX=new RegExp("^-?(0*)\\d{1,10}$"),VX=-2147483648,UX=2147483647,o2=function(t){if(jX.test(t)){const e=Number(t);if(e>=VX&&e<=UX)return e}return null},wh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jr("Exception was thrown by user callback.",n),e},Math.floor(0))}},BX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},id=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jr(e)}}class mm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="5",d6="v",h6="s",p6="r",m6="f",g6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y6="ls",v6="p",Tb="ac",_6="websocket",w6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=al.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&al.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function HX(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function b6(t,e,n){Ce(typeof e=="string","typeof type must == string"),Ce(typeof n=="object","typeof params must == object");let r;if(e===_6)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===w6)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HX(t)&&(n.ns=t.namespace);const i=[];return _i(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(){this.counters_={}}incrementCounter(e,n=1){go(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={},E_={};function ux(t){const e=t.toString();return w_[e]||(w_[e]=new qX),w_[e]}function WX(t,e){const n=t.toString();return E_[n]||(E_[n]=e()),E_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="start",GX="close",QX="pLPCommand",YX="pRTLPCB",T6="id",S6="pw",x6="ser",XX="cb",JX="seg",ZX="ts",eJ="d",tJ="dframe",R6=1870,I6=30,nJ=R6-I6,rJ=25e3,iJ=3e4;class Hu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_h(e),this.stats_=ux(n),this.urlFn=l=>(this.appCheckToken&&(l[Tb]=this.appCheckToken),b6(n,w6,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new KX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iJ)),DX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cx((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===a2)this.id=a,this.password=l;else if(o===GX)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[a2]="t",r[x6]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[XX]=this.scriptTagHolder.uniqueCallbackIdentifier),r[d6]=lx,this.transportSessionId&&(r[h6]=this.transportSessionId),this.lastSessionId&&(r[y6]=this.lastSessionId),this.applicationId&&(r[v6]=this.applicationId),this.appCheckToken&&(r[Tb]=this.appCheckToken),typeof location<"u"&&location.hostname&&g6.test(location.hostname)&&(r[p6]=m6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hu.forceAllow_=!0}static forceDisallow(){Hu.forceDisallow_=!0}static isAvailable(){return Hu.forceAllow_?!0:!Hu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MX()&&!FX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VL(n),i=c6(r,nJ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[tJ]="t",r[T6]=e,r[S6]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$n(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cx{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kX(),window[QX+this.uniqueCallbackIdentifier]=e,window[YX+this.uniqueCallbackIdentifier]=n,this.myIFrame=cx.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){or("frame writing exception"),a.stack&&or(a.stack),or(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||or("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[T6]=this.myID,e[S6]=this.myPW,e[x6]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+I6+r.length<=R6;){const o=this.pendingSegs.shift();r=r+"&"+JX+i+"="+o.seg+"&"+ZX+i+"="+o.ts+"&"+eJ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(rJ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{or("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=16384,oJ=45e3;let vg=null;typeof MozWebSocket<"u"?vg=MozWebSocket:typeof WebSocket<"u"&&(vg=WebSocket);class Fi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_h(this.connId),this.stats_=ux(n),this.connURL=Fi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[d6]=lx,typeof location<"u"&&location.hostname&&g6.test(location.hostname)&&(o[p6]=m6),n&&(o[h6]=n),r&&(o[y6]=r),i&&(o[Tb]=i),s&&(o[v6]=s),b6(e,_6,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,al.set("previous_websocket_failure",!0);try{let r;qL(),this.mySock=new vg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&vg!==null&&!Fi.forceDisallow_}static previouslyFailed(){return al.isInMemoryStorage||al.get("previous_websocket_failure")===!0}markConnectionHealthy(){al.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c6(n,sJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fi.responsesRequiredToBeHealthy=2;Fi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hu,Fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Fi&&Fi.isAvailable();let r=n&&!Fi.previouslyFailed();if(e.webSocketOnly&&(n||Jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fi];else{const i=this.transports_=[];for(const s of zd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);zd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=6e4,lJ=5e3,uJ=10*1024,cJ=100*1024,b_="t",l2="d",fJ="s",u2="r",dJ="e",c2="o",f2="a",d2="n",h2="p",hJ="h";class pJ{constructor(e,n,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_h("c:"+this.id+":"),this.transportManager_=new zd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(b_ in e){const n=e[b_];n===f2?this.upgradeIfSecondaryHealthy_():n===u2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===c2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:h2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:f2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ef(b_,e);if(l2 in e){const r=e[l2];if(n===hJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===d2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fJ?this.onConnectionShutdown_(r):n===u2?this.onReset_(r):n===dJ?bb("Server Error: "+r):n===c2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lx!==r&&Jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:h2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.allowedEvents_=e,this.listeners_={},Ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ce(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends A6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _g}getInitialEvent(e){return Ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=32,m2=768;class Ht{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Pt(){return new Ht("")}function vt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ma(t){return t.pieces_.length-t.pieceNum_}function Bt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ht(t.pieces_,e)}function P6(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function k6(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function O6(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ht(e,0)}function Fn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ht)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ht(n,0)}function pt(t){return t.pieceNum_>=t.pieces_.length}function hi(t,e){const n=vt(t),r=vt(e);if(n===null)return e;if(n===r)return hi(Bt(t),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function N6(t,e){if(ma(t)!==ma(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ui(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ma(t)>ma(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class gJ{constructor(e,n){this.errorPrefix_=n,this.parts_=k6(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ay(this.parts_[r]);D6(this)}}function yJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ay(e),D6(t)}function vJ(t){const e=t.parts_.pop();t.byteLength_-=ay(e),t.parts_.length>0&&(t.byteLength_-=1)}function D6(t){if(t.byteLength_>m2)throw new Error(t.errorPrefix_+"has a key path longer than "+m2+" bytes ("+t.byteLength_+").");if(t.parts_.length>p2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+p2+") or object contains a cycle "+Xa(t))}function Xa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends A6{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new fx}getInitialEvent(e){return Ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=1e3,_J=60*5*1e3,g2=30*1e3,wJ=1.3,EJ=3e4,bJ="server_kill",y2=3;class eo extends C6{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=eo.nextPersistentConnectionId_++,this.log_=_h("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bf,this.maxReconnectDelay_=_J,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!qL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_g.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_($n(s)),Ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new aS,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ce(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;eo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&go(e,"w")){const r=pc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||NH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=g2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=OH(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$n(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bb("Unrecognized action received from server: "+$n(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EJ&&(this.reconnectDelay_=bf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+eo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(p){Ce(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,y]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?or("getToken() completed but was canceled"):(or("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=y&&y.token,a=new pJ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Jr(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(bJ)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Jr(p),l())}}}interrupt(e){or("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){or("Resuming connection for reason: "+e),delete this.interruptReasons_[e],GE(this.interruptReasons_)&&(this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ax(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ht(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){or("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y2&&(this.reconnectDelay_=g2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){or("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+o6.replace(/\./g,"-")]=1,uS()?e["framework.cordova"]=1:HL()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_g.getInstance().currentlyOnline();return GE(this.interruptReasons_)&&e}}eo.nextPersistentConnectionId_=0;eo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _t(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _t(Tc,e),i=new _t(Tc,n);return this.compare(r,i)!==0}minPost(){return _t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;class L6 extends Py{static get __EMPTY_NODE(){return Lp}static set __EMPTY_NODE(e){Lp=e}compare(e,n){return jc(e.name,n.name)}isDefinedOn(e){throw kc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Pl,Lp)}makePost(e,n){return Ce(typeof e=="string","KeyIndex indexValue must always be a string."),new _t(e,Lp)}toString(){return".key"}}const rc=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mn.RED,this.left=i??Or.EMPTY_NODE,this.right=s??Or.EMPTY_NODE}copy(e,n,r,i,s){return new Mn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Or.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Or.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mn.RED=!0;Mn.BLACK=!1;class TJ{copy(e,n,r,i,s){return this}insert(e,n,r){return new Mn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Or{constructor(e,n=Or.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Or(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Or(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mp(this.root_,null,this.comparator_,!0,e)}}Or.EMPTY_NODE=new TJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t,e){return jc(t.name,e.name)}function dx(t,e){return jc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sb;function xJ(t){Sb=t}const M6=function(t){return typeof t=="number"?"number:"+f6(t):"string:"+t},F6=function(t){if(t.isLeafNode()){const e=t.val();Ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&go(e,".sv"),"Priority must be a string or number.")}else Ce(t===Sb||t.isEmpty(),"priority of unexpected type.");Ce(t===Sb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v2;class Nn{constructor(e,n=Nn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),F6(this.priorityNode_)}static set __childrenNodeConstructor(e){v2=e}static get __childrenNodeConstructor(){return v2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pt(e)?this:vt(e)===".priority"?this.priorityNode_:Nn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Nn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=vt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ce(r!==".priority"||ma(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Nn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M6(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=f6(this.value_):e+=this.value_,this.lazyHash_=l6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nn.__childrenNodeConstructor?-1:(Ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Nn.VALUE_TYPE_ORDER.indexOf(n),s=Nn.VALUE_TYPE_ORDER.indexOf(r);return Ce(i>=0,"Unknown leaf type: "+n),Ce(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Nn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j6,V6;function RJ(t){j6=t}function IJ(t){V6=t}class CJ extends Py{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?jc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Pl,new Nn("[PRIORITY-POST]",V6))}makePost(e,n){const r=j6(e);return new _t(n,new Nn("[PRIORITY-POST]",r))}toString(){return".priority"}}const ur=new CJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=Math.log(2);class PJ{constructor(e){const n=s=>parseInt(Math.log(s)/AJ,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wg=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let p,y;if(d===0)return null;if(d===1)return p=t[l],y=n?n(p):p,new Mn(y,p.node,Mn.BLACK,null,null);{const _=parseInt(d/2,10)+l,E=i(l,_),S=i(_+1,u);return p=t[_],y=n?n(p):p,new Mn(y,p.node,Mn.BLACK,E,S)}},s=function(l){let u=null,d=null,p=t.length;const y=function(E,S){const C=p-E,R=p;p-=E;const w=i(C+1,R),v=t[C],I=n?n(v):v;_(new Mn(I,v.node,S,null,w))},_=function(E){u?(u.left=E,u=E):(d=E,u=E)};for(let E=0;E<l.count;++E){const S=l.nextBitIsOne(),C=Math.pow(2,l.count-(E+1));S?y(C,Mn.BLACK):(y(C,Mn.BLACK),y(C,Mn.RED))}return d},o=new PJ(t.length),a=s(o);return new Or(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_;const Tu={};class Ys{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ce(Tu&&ur,"ChildrenNode.ts has not been loaded"),T_=T_||new Ys({".priority":Tu},{".priority":ur}),T_}get(e){const n=pc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Or?n:null}hasIndex(e){return go(this.indexSet_,e.toString())}addIndex(e,n){Ce(e!==rc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(_t.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=wg(r,e.getCompare()):a=Tu;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Ys(d,u)}addToIndexes(e,n){const r=tg(this.indexes_,(i,s)=>{const o=pc(this.indexSet_,s);if(Ce(o,"Missing index implementation for "+s),i===Tu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_t.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),wg(a,o.getCompare())}else return Tu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _t(e.name,a))),l.insert(e,e.node)}});return new Ys(r,this.indexSet_)}removeFromIndexes(e,n){const r=tg(this.indexes_,i=>{if(i===Tu)return i;{const s=n.get(e.name);return s?i.remove(new _t(e.name,s)):i}});return new Ys(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;class xt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&F6(this.priorityNode_),this.children_.isEmpty()&&Ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tf||(Tf=new xt(new Or(dx),null,Ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tf}updatePriority(e){return this.children_.isEmpty()?this:new xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tf:n}}getChild(e){const n=vt(e);return n===null?this:this.getImmediateChild(n).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ce(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new _t(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Tf:this.priorityNode_;return new xt(i,o,s)}}updateChild(e,n){const r=vt(e);if(r===null)return n;{Ce(vt(e)!==".priority"||ma(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Bt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ur,(o,a)=>{n[o]=a.val(e),r++,s&&xt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+M6(this.getPriority().val())+":"),this.forEachChild(ur,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":l6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new _t(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _t(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _t(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_t.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eh?-1:0}withIndex(e){if(e===rc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ur),i=n.getIterator(ur);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rc?null:this.indexMap_.get(e.toString())}}xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kJ extends xt{constructor(){super(new Or(dx),xt.EMPTY_NODE,Ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xt.EMPTY_NODE}isEmpty(){return!1}}const Eh=new kJ;Object.defineProperties(_t,{MIN:{value:new _t(Tc,xt.EMPTY_NODE)},MAX:{value:new _t(Pl,Eh)}});L6.__EMPTY_NODE=xt.EMPTY_NODE;Nn.__childrenNodeConstructor=xt;xJ(Eh);IJ(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=!0;function ar(t,e=null){if(t===null)return xt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Nn(n,ar(e))}if(!(t instanceof Array)&&OJ){const n=[];let r=!1;if(_i(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ar(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _t(o,l)))}}),n.length===0)return xt.EMPTY_NODE;const s=wg(n,SJ,o=>o.name,dx);if(r){const o=wg(n,ur.getCompare());return new xt(s,ar(e),new Ys({".priority":o},{".priority":ur}))}else return new xt(s,ar(e),Ys.Default)}else{let n=xt.EMPTY_NODE;return _i(t,(r,i)=>{if(go(t,r)&&r.substring(0,1)!=="."){const s=ar(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ar(e))}}RJ(ar);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ extends Py{constructor(e){super(),this.indexPath_=e,Ce(!pt(e)&&vt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?jc(e.name,n.name):s}makePost(e,n){const r=ar(e),i=xt.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(n,i)}maxPost(){const e=xt.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new _t(Pl,e)}toString(){return k6(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ extends Py{compare(e,n){const r=e.node.compareTo(n.node);return r===0?jc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,n){const r=ar(e);return new _t(n,r)}toString(){return".value"}}const LJ=new DJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t){return{type:"value",snapshotNode:t}}function FJ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jJ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _2(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ur}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ur}copy(){const e=new hx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function w2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ur?n="$priority":t.index_===LJ?n="$value":t.index_===rc?n="$key":(Ce(t.index_ instanceof NJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$n(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$n(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$n(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$n(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$n(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function E2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ur&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends C6{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_h("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Eg.getListenId_(e,r),a={};this.listens_[o]=a;const l=w2(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let p=d;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),pc(this.listens_,o)===a){let y;u?u===401?y="permission_denied":y="rest_error:"+u:y="ok",i(y,null)}})}unlisten(e,n){const r=Eg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=w2(e._queryParams),r=e._path.toString(),i=new aS;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=kd(a.responseText)}catch{Jr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Jr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(){this.rootNode_=xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return{value:null,children:new Map}}function U6(t,e,n){if(pt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=vt(e);t.children.has(r)||t.children.set(r,bg());const i=t.children.get(r);e=Bt(e),U6(i,e,n)}}function xb(t,e,n){t.value!==null?n(e,t.value):BJ(t,(r,i)=>{const s=new Ht(e.toString()+"/"+r);xb(i,s,n)})}function BJ(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_i(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=10*1e3,zJ=30*1e3,HJ=5*60*1e3;class qJ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $J(e);const r=b2+(zJ-b2)*Math.random();id(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_i(e,(i,s)=>{s>0&&go(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),id(this.reportStats_.bind(this),Math.floor(Math.random()*2*HJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gs||(gs={}));function B6(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $6(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z6(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gs.ACK_USER_WRITE,this.source=B6()}operationForChild(e){if(pt(this.path)){if(this.affectedTree.value!=null)return Ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ht(e));return new Tg(Pt(),n,this.revert)}}else return Ce(vt(this.path)===e,"operationForChild called for unrelated child."),new Tg(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gs.OVERWRITE}operationForChild(e){return pt(this.path)?new kl(this.source,Pt(),this.snap.getImmediateChild(e)):new kl(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gs.MERGE}operationForChild(e){if(pt(this.path)){const n=this.children.subtree(new Ht(e));return n.isEmpty()?null:n.value?new kl(this.source,Pt(),n.value):new Hd(this.source,Pt(),n)}else return Ce(vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hd(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pt(e))return this.isFullyInitialized()&&!this.filtered_;const n=vt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function WJ(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(VJ(o.childName,o.snapshotNode))}),Sf(t,i,"child_removed",e,r,n),Sf(t,i,"child_added",e,r,n),Sf(t,i,"child_moved",s,r,n),Sf(t,i,"child_changed",e,r,n),Sf(t,i,"value",e,r,n),i}function Sf(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>GJ(t,a,l)),o.forEach(a=>{const l=KJ(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function KJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function GJ(t,e,n){if(e.childName==null||n.childName==null)throw kc("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){return{eventCache:t,serverCache:e}}function sd(t,e,n,r){return H6(new px(e,n,r),t.serverCache)}function q6(t,e,n,r){return H6(t.eventCache,new px(e,n,r))}function Rb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ol(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;const QJ=()=>(S_||(S_=new Or(LX)),S_);class Ut{constructor(e,n=QJ()){this.value=e,this.children=n}static fromObject(e){let n=new Ut(null);return _i(e,(r,i)=>{n=n.set(new Ht(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Pt(),value:this.value};if(pt(e))return null;{const r=vt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Bt(e),n);return s!=null?{path:Fn(new Ht(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pt(e))return this;{const n=vt(e),r=this.children.get(n);return r!==null?r.subtree(Bt(e)):new Ut(null)}}set(e,n){if(pt(e))return new Ut(n,this.children);{const r=vt(e),s=(this.children.get(r)||new Ut(null)).set(Bt(e),n),o=this.children.insert(r,s);return new Ut(this.value,o)}}remove(e){if(pt(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const n=vt(e),r=this.children.get(n);if(r){const i=r.remove(Bt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ut(null):new Ut(this.value,s)}else return this}}get(e){if(pt(e))return this.value;{const n=vt(e),r=this.children.get(n);return r?r.get(Bt(e)):null}}setTree(e,n){if(pt(e))return n;{const r=vt(e),s=(this.children.get(r)||new Ut(null)).setTree(Bt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ut(this.value,o)}}fold(e){return this.fold_(Pt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Pt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(pt(e))return null;{const s=vt(e),o=this.children.get(s);return o?o.findOnPath_(Bt(e),Fn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Pt(),n)}foreachOnPath_(e,n,r){if(pt(e))return this;{this.value&&r(n,this.value);const i=vt(e),s=this.children.get(i);return s?s.foreachOnPath_(Bt(e),Fn(n,i),r):new Ut(null)}}foreach(e){this.foreach_(Pt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.writeTree_=e}static empty(){return new qi(new Ut(null))}}function od(t,e,n){if(pt(e))return new qi(new Ut(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=hi(i,e);return s=s.updateChild(o,n),new qi(t.writeTree_.set(i,s))}else{const i=new Ut(n),s=t.writeTree_.setTree(e,i);return new qi(s)}}}function T2(t,e,n){let r=t;return _i(n,(i,s)=>{r=od(r,Fn(e,i),s)}),r}function S2(t,e){if(pt(e))return qi.empty();{const n=t.writeTree_.setTree(e,new Ut(null));return new qi(n)}}function Ib(t,e){return Bl(t,e)!=null}function Bl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(hi(n.path,e)):null}function x2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ur,(r,i)=>{e.push(new _t(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _t(r,i.value))}),e}function la(t,e){if(pt(e))return t;{const n=Bl(t,e);return n!=null?new qi(new Ut(n)):new qi(t.writeTree_.subtree(e))}}function Cb(t){return t.writeTree_.isEmpty()}function Sc(t,e){return W6(Pt(),t.writeTree_,e)}function W6(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ce(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=W6(Fn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t,e){return J6(e,t)}function YJ(t,e,n,r,i){Ce(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=od(t.visibleWrites,e,n)),t.lastWriteId=r}function XJ(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function JJ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ce(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ZJ(a,r.path)?i=!1:Ui(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return eZ(t),!0;if(r.snap)t.visibleWrites=S2(t.visibleWrites,r.path);else{const a=r.children;_i(a,l=>{t.visibleWrites=S2(t.visibleWrites,Fn(r.path,l))})}return!0}else return!1}function ZJ(t,e){if(t.snap)return Ui(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ui(Fn(t.path,n),e))return!0;return!1}function eZ(t){t.visibleWrites=G6(t.allWrites,tZ,Pt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function tZ(t){return t.visible}function G6(t,e,n){let r=qi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ui(n,o)?(a=hi(n,o),r=od(r,a,s.snap)):Ui(o,n)&&(a=hi(o,n),r=od(r,Pt(),s.snap.getChild(a)));else if(s.children){if(Ui(n,o))a=hi(n,o),r=T2(r,a,s.children);else if(Ui(o,n))if(a=hi(o,n),pt(a))r=T2(r,Pt(),s.children);else{const l=pc(s.children,vt(a));if(l){const u=l.getChild(Bt(a));r=od(r,Pt(),u)}}}else throw kc("WriteRecord should have .snap or .children")}}return r}function Q6(t,e,n,r,i){if(!r&&!i){const s=Bl(t.visibleWrites,e);if(s!=null)return s;{const o=la(t.visibleWrites,e);if(Cb(o))return n;if(n==null&&!Ib(o,Pt()))return null;{const a=n||xt.EMPTY_NODE;return Sc(o,a)}}}else{const s=la(t.visibleWrites,e);if(!i&&Cb(s))return n;if(!i&&n==null&&!Ib(s,Pt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ui(u.path,e)||Ui(e,u.path))},a=G6(t.allWrites,o,e),l=n||xt.EMPTY_NODE;return Sc(a,l)}}}function nZ(t,e,n){let r=xt.EMPTY_NODE;const i=Bl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ur,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=la(t.visibleWrites,e);return n.forEachChild(ur,(o,a)=>{const l=Sc(la(s,new Ht(o)),a);r=r.updateImmediateChild(o,l)}),x2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=la(t.visibleWrites,e);return x2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function rZ(t,e,n,r,i){Ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fn(e,n);if(Ib(t.visibleWrites,s))return null;{const o=la(t.visibleWrites,s);return Cb(o)?i.getChild(n):Sc(o,i.getChild(n))}}function iZ(t,e,n,r){const i=Fn(e,n),s=Bl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=la(t.visibleWrites,i);return Sc(o,r.getNode().getImmediateChild(n))}else return null}function sZ(t,e){return Bl(t.visibleWrites,e)}function oZ(t,e,n,r,i,s,o){let a;const l=la(t.visibleWrites,e),u=Bl(l,Pt());if(u!=null)a=u;else if(n!=null)a=Sc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],p=o.getCompare(),y=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=y.getNext();for(;_&&d.length<i;)p(_,r)!==0&&d.push(_),_=y.getNext();return d}else return[]}function aZ(){return{visibleWrites:qi.empty(),allWrites:[],lastWriteId:-1}}function Ab(t,e,n,r){return Q6(t.writeTree,t.treePath,e,n,r)}function Y6(t,e){return nZ(t.writeTree,t.treePath,e)}function R2(t,e,n,r){return rZ(t.writeTree,t.treePath,e,n,r)}function Sg(t,e){return sZ(t.writeTree,Fn(t.treePath,e))}function lZ(t,e,n,r,i,s){return oZ(t.writeTree,t.treePath,e,n,r,i,s)}function mx(t,e,n){return iZ(t.writeTree,t.treePath,e,n)}function X6(t,e){return J6(Fn(t.treePath,e),t.writeTree)}function J6(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,_2(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,jJ(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,FJ(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,_2(r,e.snapshotNode,i.oldSnap));else throw kc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Z6=new cZ;class gx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new px(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ol(this.viewCache_),s=lZ(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function fZ(t,e){Ce(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ce(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dZ(t,e,n,r,i){const s=new uZ;let o,a;if(n.type===gs.OVERWRITE){const u=n;u.source.fromUser?o=Pb(t,e,u.path,u.snap,r,i,s):(Ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!pt(u.path),o=xg(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===gs.MERGE){const u=n;u.source.fromUser?o=pZ(t,e,u.path,u.children,r,i,s):(Ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=kb(t,e,u.path,u.children,r,i,a,s))}else if(n.type===gs.ACK_USER_WRITE){const u=n;u.revert?o=yZ(t,e,u.path,r,i,s):o=mZ(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===gs.LISTEN_COMPLETE)o=gZ(t,e,n.path,r,s);else throw kc("Unknown operation type: "+n.type);const l=s.getChanges();return hZ(e,o,l),{viewCache:o,changes:l}}function hZ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(MJ(Rb(e)))}}function eF(t,e,n,r,i,s){const o=e.eventCache;if(Sg(r,n)!=null)return e;{let a,l;if(pt(n))if(Ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ol(e),d=u instanceof xt?u:xt.EMPTY_NODE,p=Y6(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const u=Ab(r,Ol(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=vt(n);if(u===".priority"){Ce(ma(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const p=R2(r,n,d,l);p!=null?a=t.filter.updatePriority(d,p):a=o.getNode()}else{const d=Bt(n);let p;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const y=R2(r,n,o.getNode(),l);y!=null?p=o.getNode().getImmediateChild(u).updateChild(d,y):p=o.getNode().getImmediateChild(u)}else p=mx(r,u,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),u,p,d,i,s):a=o.getNode()}}return sd(e,a,o.isFullyInitialized()||pt(n),t.filter.filtersNodes())}}function xg(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(pt(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),_,null)}else{const _=vt(n);if(!l.isCompleteForPath(n)&&ma(n)>1)return e;const E=Bt(n),C=l.getNode().getImmediateChild(_).updateChild(E,r);_===".priority"?u=d.updatePriority(l.getNode(),C):u=d.updateChild(l.getNode(),_,C,E,Z6,null)}const p=q6(e,u,l.isFullyInitialized()||pt(n),d.filtersNodes()),y=new gx(i,p,s);return eF(t,p,n,i,y,a)}function Pb(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const d=new gx(i,e,s);if(pt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=sd(e,u,!0,t.filter.filtersNodes());else{const p=vt(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=sd(e,u,a.isFullyInitialized(),a.isFiltered());else{const y=Bt(n),_=a.getNode().getImmediateChild(p);let E;if(pt(y))E=r;else{const S=d.getCompleteChild(p);S!=null?P6(y)===".priority"&&S.getChild(O6(y)).isEmpty()?E=S:E=S.updateChild(y,r):E=xt.EMPTY_NODE}if(_.equals(E))l=e;else{const S=t.filter.updateChild(a.getNode(),p,E,y,d,o);l=sd(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function I2(t,e){return t.eventCache.isCompleteForChild(e)}function pZ(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=Fn(n,l);I2(e,vt(d))&&(a=Pb(t,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=Fn(n,l);I2(e,vt(d))||(a=Pb(t,a,d,u,i,s,o))}),a}function C2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function kb(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;pt(n)?u=r:u=new Ut(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((p,y)=>{if(d.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),E=C2(t,_,y);l=xg(t,l,new Ht(p),E,i,s,o,a)}}),u.children.inorderTraversal((p,y)=>{const _=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!d.hasChild(p)&&!_){const E=e.serverCache.getNode().getImmediateChild(p),S=C2(t,E,y);l=xg(t,l,new Ht(p),S,i,s,o,a)}}),l}function mZ(t,e,n,r,i,s,o){if(Sg(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(pt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(pt(n)){let u=new Ut(null);return l.getNode().forEachChild(rc,(d,p)=>{u=u.set(new Ht(d),p)}),kb(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ut(null);return r.foreach((d,p)=>{const y=Fn(n,d);l.isCompleteForPath(y)&&(u=u.set(d,l.getNode().getChild(y)))}),kb(t,e,n,u,i,s,a,o)}}function gZ(t,e,n,r,i){const s=e.serverCache,o=q6(e,s.getNode(),s.isFullyInitialized()||pt(n),s.isFiltered());return eF(t,o,n,r,Z6,i)}function yZ(t,e,n,r,i,s){let o;if(Sg(r,n)!=null)return e;{const a=new gx(r,e,i),l=e.eventCache.getNode();let u;if(pt(n)||vt(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ab(r,Ol(e));else{const p=e.serverCache.getNode();Ce(p instanceof xt,"serverChildren would be complete if leaf node"),d=Y6(r,p)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=vt(n);let p=mx(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),p!=null?u=t.filter.updateChild(l,d,p,Bt(n),a,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,xt.EMPTY_NODE,Bt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ab(r,Ol(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Sg(r,Pt())!=null,sd(e,u,o,t.filter.filtersNodes())}}function vZ(t,e){const n=Ol(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pt(e)&&!n.getImmediateChild(vt(e)).isEmpty())?n.getChild(e):null}function A2(t,e,n,r){e.type===gs.MERGE&&e.source.queryId!==null&&(Ce(Ol(t.viewCache_),"We should always have a full cache before handling merges"),Ce(Rb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=dZ(t.processor_,i,e,n,r);return fZ(t.processor_,s.viewCache),Ce(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_Z(t,s.changes,s.viewCache.eventCache.getNode())}function _Z(t,e,n,r){const i=t.eventRegistrations_;return WJ(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P2;function wZ(t){Ce(!P2,"__referenceConstructor has already been defined"),P2=t}function yx(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ce(s!=null,"SyncTree gave us an op for an invalid query."),A2(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(A2(o,e,n,r));return s}}function vx(t,e){let n=null;for(const r of t.views.values())n=n||vZ(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k2;function EZ(t){Ce(!k2,"__referenceConstructor has already been defined"),k2=t}class O2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=aZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bZ(t,e,n,r,i){return YJ(t.pendingWriteTree_,e,n,r,i),i?Oy(t,new kl(B6(),e,n)):[]}function qu(t,e,n=!1){const r=XJ(t.pendingWriteTree_,e);if(JJ(t.pendingWriteTree_,e)){let s=new Ut(null);return r.snap!=null?s=s.set(Pt(),!0):_i(r.children,o=>{s=s.set(new Ht(o),!0)}),Oy(t,new Tg(r.path,s,n))}else return[]}function ky(t,e,n){return Oy(t,new kl($6(),e,n))}function TZ(t,e,n){const r=Ut.fromObject(n);return Oy(t,new Hd($6(),e,r))}function SZ(t,e,n,r){const i=iF(t,r);if(i!=null){const s=sF(i),o=s.path,a=s.queryId,l=hi(o,e),u=new kl(z6(a),l,n);return oF(t,o,u)}else return[]}function xZ(t,e,n,r){const i=iF(t,r);if(i){const s=sF(i),o=s.path,a=s.queryId,l=hi(o,e),u=Ut.fromObject(n),d=new Hd(z6(a),l,u);return oF(t,o,d)}else return[]}function tF(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=hi(o,e),u=vx(a,l);if(u)return u});return Q6(i,e,s,n,!0)}function Oy(t,e){return nF(e,t.syncPointTree_,null,K6(t.pendingWriteTree_,Pt()))}function nF(t,e,n,r){if(pt(t.path))return rF(t,e,n,r);{const i=e.get(Pt());n==null&&i!=null&&(n=vx(i,Pt()));let s=[];const o=vt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=X6(r,o);s=s.concat(nF(a,l,u,d))}return i&&(s=s.concat(yx(i,t,r,n))),s}}function rF(t,e,n,r){const i=e.get(Pt());n==null&&i!=null&&(n=vx(i,Pt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=X6(r,o),d=t.operationForChild(o);d&&(s=s.concat(rF(d,a,l,u)))}),i&&(s=s.concat(yx(i,t,r,n))),s}function iF(t,e){return t.tagToQueryMap.get(e)}function sF(t){const e=t.indexOf("$");return Ce(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ht(t.substr(0,e))}}function oF(t,e,n){const r=t.syncPointTree_.get(e);Ce(r,"Missing sync point for query tag that we're tracking");const i=K6(t.pendingWriteTree_,e);return yx(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _x(n)}node(){return this.node_}}class wx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fn(this.path_,e);return new wx(this.syncTree_,n)}node(){return tF(this.syncTree_,this.path_)}}const RZ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},N2=function(t,e,n){if(!t||typeof t!="object")return t;if(Ce(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return IZ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return CZ(t[".sv"],e);Ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},IZ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ce(!1,"Unexpected server value: "+t)}},CZ=function(t,e,n){t.hasOwnProperty("increment")||Ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ce(!1,"Unexpected increment value: "+r);const i=e.node();if(Ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},AZ=function(t,e,n,r){return Ex(e,new wx(n,t),r)},PZ=function(t,e,n){return Ex(t,new _x(e),n)};function Ex(t,e,n){const r=t.getPriority().val(),i=N2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=N2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Nn(a,ar(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Nn(i))),o.forEachChild(ur,(a,l)=>{const u=Ex(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Tx(t,e){let n=e instanceof Ht?e:new Ht(e),r=t,i=vt(n);for(;i!==null;){const s=pc(r.node.children,i)||{children:{},childCount:0};r=new bx(i,r,s),n=Bt(n),i=vt(n)}return r}function Vc(t){return t.node.value}function aF(t,e){t.node.value=e,Ob(t)}function lF(t){return t.node.childCount>0}function kZ(t){return Vc(t)===void 0&&!lF(t)}function Ny(t,e){_i(t.node.children,(n,r)=>{e(new bx(n,t,r))})}function uF(t,e,n,r){n&&!r&&e(t),Ny(t,i=>{uF(i,e,!0,r)}),n&&r&&e(t)}function OZ(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bh(t){return new Ht(t.parent===null?t.name:bh(t.parent)+"/"+t.name)}function Ob(t){t.parent!==null&&NZ(t.parent,t.name,t)}function NZ(t,e,n){const r=kZ(n),i=go(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ob(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ob(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=/[\[\].#$\/\u0000-\u001F\u007F]/,LZ=/[\[\].#$\u0000-\u001F\u007F]/,x_=10*1024*1024,cF=function(t){return typeof t=="string"&&t.length!==0&&!DZ.test(t)},MZ=function(t){return typeof t=="string"&&t.length!==0&&!LZ.test(t)},FZ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MZ(t)},fF=function(t,e,n){const r=n instanceof Ht?new gJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Xa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Xa(r)+" with contents = "+e.toString());if(u6(e))throw new Error(t+"contains "+e.toString()+" "+Xa(r));if(typeof e=="string"&&e.length>x_/3&&ay(e)>x_)throw new Error(t+"contains a string greater than "+x_+" utf8 bytes "+Xa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_i(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cF(o)))throw new Error(t+" contains an invalid key ("+o+") "+Xa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yJ(r,o),fF(t,a,r),vJ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Xa(r)+" in addition to actual children.")}},jZ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!FZ(n))throw new Error(jH(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function UZ(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!N6(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $l(t,e,n){UZ(t,n),BZ(t,r=>Ui(r,e)||Ui(e,r))}function BZ(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?($Z(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $Z(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();rd&&or("event: "+n.toString()),wh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="repo_interrupt",HZ=25;class qZ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bg(),this.transactionQueueTree_=new bx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WZ(t,e,n){if(t.stats_=ux(t.repoInfo_),t.forceRestClient_||BX())t.server_=new Eg(t.repoInfo_,(r,i,s,o)=>{D2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>L2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$n(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new eo(t.repoInfo_,e,(r,i,s,o)=>{D2(t,r,i,s,o)},r=>{L2(t,r)},r=>{GZ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=WX(t.repoInfo_,()=>new qJ(t.stats_,t.server_)),t.infoData_=new UJ,t.infoSyncTree_=new O2({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ky(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Sx(t,"connected",!1),t.serverSyncTree_=new O2({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);$l(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function KZ(t){const n=t.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dF(t){return RZ({timestamp:KZ(t)})}function D2(t,e,n,r,i){t.dataUpdateCount++;const s=new Ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=tg(n,u=>ar(u));o=xZ(t.serverSyncTree_,s,l,i)}else{const l=ar(n);o=SZ(t.serverSyncTree_,s,l,i)}else if(r){const l=tg(n,u=>ar(u));o=TZ(t.serverSyncTree_,s,l)}else{const l=ar(n);o=ky(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Rx(t,s)),$l(t.eventQueue_,a,o)}function L2(t,e){Sx(t,"connected",e),e===!1&&YZ(t)}function GZ(t,e){_i(e,(n,r)=>{Sx(t,n,r)})}function Sx(t,e,n){const r=new Ht("/.info/"+e),i=ar(n);t.infoData_.updateSnapshot(r,i);const s=ky(t.infoSyncTree_,r,i);$l(t.eventQueue_,r,s)}function QZ(t){return t.nextWriteId_++}function YZ(t){hF(t,"onDisconnectEvents");const e=dF(t),n=bg();xb(t.onDisconnect_,Pt(),(i,s)=>{const o=AZ(i,s,t.serverSyncTree_,e);U6(n,i,o)});let r=[];xb(n,Pt(),(i,s)=>{r=r.concat(ky(t.serverSyncTree_,i,s));const o=eee(t,i);Rx(t,o)}),t.onDisconnect_=bg(),$l(t.eventQueue_,Pt(),r)}function XZ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zZ)}function hF(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),or(n,...e)}function pF(t,e,n){return tF(t.serverSyncTree_,e,n)||xt.EMPTY_NODE}function xx(t,e=t.transactionQueueTree_){if(e||Dy(t,e),Vc(e)){const n=gF(t,e);Ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&JZ(t,bh(e),n)}else lF(e)&&Ny(e,n=>{xx(t,n)})}function JZ(t,e,n){const r=n.map(u=>u.currentWriteId),i=pF(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];Ce(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=hi(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{hF(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const p=[];for(let y=0;y<n.length;y++)n[y].status=2,d=d.concat(qu(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Dy(t,Tx(t.transactionQueueTree_,e)),xx(t,t.transactionQueueTree_),$l(t.eventQueue_,e,d);for(let y=0;y<p.length;y++)wh(p[y])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Jr("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}Rx(t,e)}},o)}function Rx(t,e){const n=mF(t,e),r=bh(n),i=gF(t,n);return ZZ(t,i,r),r}function ZZ(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=hi(n,l.path);let d=!1,p;if(Ce(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,p=l.abortReason,i=i.concat(qu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=HZ)d=!0,p="maxretry",i=i.concat(qu(t.serverSyncTree_,l.currentWriteId,!0));else{const y=pF(t,l.path,o);l.currentInputSnapshot=y;const _=e[a].update(y.val());if(_!==void 0){fF("transaction failed: Data returned ",_,l.path);let E=ar(_);typeof _=="object"&&_!=null&&go(_,".priority")||(E=E.updatePriority(y.getPriority()));const C=l.currentWriteId,R=dF(t),w=PZ(E,y,R);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=w,l.currentWriteId=QZ(t),o.splice(o.indexOf(C),1),i=i.concat(bZ(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(qu(t.serverSyncTree_,C,!0))}else d=!0,p="nodata",i=i.concat(qu(t.serverSyncTree_,l.currentWriteId,!0))}$l(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(y){setTimeout(y,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Dy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)wh(r[a]);xx(t,t.transactionQueueTree_)}function mF(t,e){let n,r=t.transactionQueueTree_;for(n=vt(e);n!==null&&Vc(r)===void 0;)r=Tx(r,n),e=Bt(e),n=vt(e);return r}function gF(t,e){const n=[];return yF(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yF(t,e,n){const r=Vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ny(e,i=>{yF(t,i,n)})}function Dy(t,e){const n=Vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aF(e,n.length>0?n:void 0)}Ny(e,r=>{Dy(t,r)})}function eee(t,e){const n=bh(mF(t,e)),r=Tx(t.transactionQueueTree_,e);return OZ(r,i=>{R_(t,i)}),R_(t,r),uF(r,i=>{R_(t,i)}),n}function R_(t,e){const n=Vc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ce(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ce(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(qu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aF(e,void 0):n.length=s+1,$l(t.eventQueue_,bh(e),i);for(let o=0;o<r.length;o++)wh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function nee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jr(`Invalid query segment '${n}' in query '${t}'`)}return e}const M2=function(t,e){const n=ree(t),r=n.namespace;n.domain==="firebase.com"&&ho(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ho("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||NX();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new E6(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ht(n.pathString)}},ree=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(i=tee(t.substring(d,p)));const y=nee(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return pt(this._path)?null:P6(this._path)}get ref(){return new Uc(this._repo,this._path)}get _queryIdentifier(){const e=E2(this._queryParams),n=ax(e);return n==="{}"?"default":n}get _queryObject(){return E2(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof Ix))return!1;const n=this._repo===e._repo,r=N6(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mJ(this._path)}}class Uc extends Ix{constructor(e,n){super(e,n,new hx,!1)}get parent(){const e=O6(this._path);return e===null?null:new Uc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}wZ(Uc);EZ(Uc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="FIREBASE_DATABASE_EMULATOR_HOST",Nb={};let see=!1;function oee(t,e,n,r){t.repoInfo_=new E6(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function aee(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ho("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),or("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=M2(s,i),a=o.repoInfo,l;typeof process<"u"&&n2&&(l=n2[iee]),l?(s=`http://${l}?ns=${a.namespace}`,o=M2(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new zX(t.name,t.options,e);jZ("Invalid Firebase Database URL",o),pt(o.path)||ho("Database URL must point to the root of a Firebase Database (not including a child path).");const d=uee(a,t,u,new $X(t.name,n));return new cee(d,t)}function lee(t,e){const n=Nb[e];(!n||n[t.key]!==t)&&ho(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XZ(t),delete n[t.key]}function uee(t,e,n,r){let i=Nb[e.name];i||(i={},Nb[e.name]=i);let s=i[t.toURLString()];return s&&ho("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qZ(t,see,n,r),i[t.toURLString()]=s,s}class cee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(WZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uc(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ho("Cannot call "+e+" on a deleted database.")}}function fee(t=uy(),e){const n=oh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=oS("database");r&&dee(n,...r)}return n}function dee(t,e,n,r={}){t=Dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ho("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ho('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mm(mm.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:lS(r.mockUserToken,t.app.options.projectId);s=new mm(o)}oee(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(t){IX(Ia),fa(new ao("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return aee(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mi(r2,i2,t),mi(r2,i2,"esm2017")}eo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};eo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hee();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebasestorage.googleapis.com",_F="storageBucket",pee=2*60*1e3,mee=10*60*1e3,gee=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends Rs{constructor(e,n,r=0){super(I_(e),`Firebase Storage: ${n} (${I_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function I_(t){return"storage/"+t}function Cx(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(qt.UNKNOWN,t)}function yee(t){return new tn(qt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vee(t){return new tn(qt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _ee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(qt.UNAUTHENTICATED,t)}function wee(){return new tn(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Eee(t){return new tn(qt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wF(){return new tn(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EF(){return new tn(qt.CANCELED,"User canceled the upload/download.")}function bee(t){return new tn(qt.INVALID_URL,"Invalid URL '"+t+"'.")}function Tee(t){return new tn(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function See(){return new tn(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_F+"' property when initializing the app?")}function bF(){return new tn(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xee(){return new tn(qt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ree(){return new tn(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Iee(t){return new tn(qt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Db(t){return new tn(qt.INVALID_ARGUMENT,t)}function TF(){return new tn(qt.APP_DELETED,"The Firebase app was deleted.")}function Cee(t){return new tn(qt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(t,e){return new tn(qt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xf(t){throw new tn(qt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw Tee(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},S=n===vF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${S}/${i}/${C}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:_,indices:E,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<v.length;I++){const k=v[I],B=k.regex.exec(e);if(B){const D=B[k.indices.bucket];let T=B[k.indices.path];T||(T=""),r=new Qr(D,T),k.postModify(r);break}}if(r==null)throw bee(e);return r}}class Aee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function p(C){i=setTimeout(()=>{i=null,t(_,l())},C)}function y(){s&&clearTimeout(s)}function _(C,...R){if(u){y();return}if(C){y(),d.call(null,C,...R);return}if(l()||o){y(),d.call(null,C,...R);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,p(v)}let E=!1;function S(C){E||(E=!0,y(),!u&&(i!==null?(C||(a=2),clearTimeout(i),p(0)):C||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function kee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){return t!==void 0}function Nee(t){return typeof t=="function"}function Dee(t){return typeof t=="object"&&!Array.isArray(t)}function Ly(t){return typeof t=="string"||t instanceof String}function F2(t){return Ax()&&t instanceof Blob}function Ax(){return typeof Blob<"u"}function j2(t,e,n,r){if(r<e)throw Db(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Db(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ml;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ml||(ml={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e,n,r,i,s,o,a,l,u,d,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ml.NO_ERROR,l=s.getStatus();if(!a||xF(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ml.ABORT;r(!1,new Fp(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Fp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Oee(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Cx();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?TF():EF();o(l)}else{const l=wF();o(l)}};this.canceled_?n(!1,new Fp(!1,null,!0)):this.backoffId_=Pee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Mee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uee(t,e,n,r,i,s,o=!0){const a=SF(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return jee(u,e),Mee(u,n),Fee(u,s),Vee(u,r),new Lee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $ee(...t){const e=Bee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ax())return new Blob(t);throw new tn(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(t){if(typeof atob>"u")throw Iee("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class C_{constructor(e,n){this.data=e,this.contentType=n||null}}function qee(t,e){switch(t){case ys.RAW:return new C_(RF(e));case ys.BASE64:case ys.BASE64URL:return new C_(IF(t,e));case ys.DATA_URL:return new C_(Kee(e),Gee(e))}throw Cx()}function RF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Wee(t){let e;try{e=decodeURIComponent(t)}catch{throw ad(ys.DATA_URL,"Malformed data URL.")}return RF(e)}function IF(t,e){switch(t){case ys.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ys.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hee(e)}catch(i){throw i.message.includes("polyfill")?i:ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ad(ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Qee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Kee(t){const e=new CF(t);return e.base64?IF(ys.BASE64,e.rest):Wee(e.rest)}function Gee(t){return new CF(t).contentType}function Qee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){let r=0,i="";F2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(F2(this.data_)){const r=this.data_,i=zee(r,e,n);return i===null?null:new $o(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $o(r,!0)}}static getBlob(...e){if(Ax()){const n=e.map(r=>r instanceof $o?r.data_:r);return new $o($ee.apply(null,n))}else{const n=e.map(o=>Ly(o)?qee(ys.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new $o(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){let e;try{e=JSON.parse(t)}catch{return null}return Dee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Xee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t,e){return e}class pr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Jee}}let jp=null;function Zee(t){return!Ly(t)||t.length<2?t:PF(t)}function kF(){if(jp)return jp;const t=[];t.push(new pr("bucket")),t.push(new pr("generation")),t.push(new pr("metageneration")),t.push(new pr("name","fullPath",!0));function e(s,o){return Zee(o)}const n=new pr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new pr("size");return i.xform=r,t.push(i),t.push(new pr("timeCreated")),t.push(new pr("updated")),t.push(new pr("md5Hash",null,!0)),t.push(new pr("cacheControl",null,!0)),t.push(new pr("contentDisposition",null,!0)),t.push(new pr("contentEncoding",null,!0)),t.push(new pr("contentLanguage",null,!0)),t.push(new pr("contentType",null,!0)),t.push(new pr("metadata","customMetadata",!0)),jp=t,jp}function ete(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function tte(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return ete(r,t),r}function OF(t,e,n){const r=AF(e);return r===null?null:tte(t,r,n)}function nte(t,e,n,r){const i=AF(e);if(i===null||!Ly(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,p=t.fullPath,y="/b/"+o(d)+"/o/"+o(p),_=Th(y,n,r),E=SF({alt:"media",token:u});return _+E})[0]}function NF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Bc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(!t)throw Cx()}function Px(t,e){function n(r,i){const s=OF(t,i,e);return to(s!==null),s}return n}function rte(t,e){function n(r,i){const s=OF(t,i,e);return to(s!==null),nte(s,i,t.host,t._protocol)}return n}function Sh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=wee():i=_ee():n.getStatus()===402?i=vee(t.bucket):n.getStatus()===403?i=Eee(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function DF(t){const e=Sh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=yee(t.path)),s.serverResponse=i.serverResponse,s}return n}function ite(t,e,n){const r=e.fullServerUrl(),i=Th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Bc(i,s,Px(t,n),o);return a.errorHandler=DF(e),a}function ste(t,e,n){const r=e.fullServerUrl(),i=Th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Bc(i,s,rte(t,n),o);return a.errorHandler=DF(e),a}function ote(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ote(null,e)),r}function ate(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let I=0;I<2;I++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=LF(e,r,i),d=NF(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+l+"--",_=$o.getBlob(p,r,y);if(_===null)throw bF();const E={name:u.fullPath},S=Th(s,t.host,t._protocol),C="POST",R=t.maxUploadRetryTime,w=new Bc(S,C,Px(t,n),R);return w.urlParams=E,w.headers=o,w.body=_.uploadData(),w.errorHandler=Sh(e),w}class Rg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function kx(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{to(!1)}return to(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lte(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=LF(e,r,i),a={name:o.fullPath},l=Th(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=NF(o,n),y=t.maxUploadRetryTime;function _(S){kx(S);let C;try{C=S.getResponseHeader("X-Goog-Upload-URL")}catch{to(!1)}return to(Ly(C)),C}const E=new Bc(l,u,_,y);return E.urlParams=a,E.headers=d,E.body=p,E.errorHandler=Sh(e),E}function ute(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=kx(u,["active","final"]);let p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{to(!1)}p||to(!1);const y=Number(p);return to(!isNaN(y)),new Rg(y,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Bc(n,o,s,a);return l.headers=i,l.errorHandler=Sh(e),l}const V2=256*1024;function cte(t,e,n,r,i,s,o,a){const l=new Rg(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw xee();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const p=l.current,y=p+d;let _="";d===0?_="finalize":u===d?_="upload, finalize":_="upload";const E={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${l.current}`},S=r.slice(p,y);if(S===null)throw bF();function C(I,k){const B=kx(I,["active","final"]),D=l.current+d,T=r.size();let N;return B==="final"?N=Px(e,s)(I,k):N=null,new Rg(D,T,B==="final",N)}const R="POST",w=e.maxUploadRetryTime,v=new Bc(n,R,C,w);return v.headers=E,v.body=S.uploadData(),v.progressCallback=a||null,v.errorHandler=Sh(t),v}const Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function A_(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n,r){if(Nee(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class dte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ml.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ml.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ml.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hte extends dte{initXhr(){this.xhr_.responseType="text"}}function Au(){return new hte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=kF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(qt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(xF(i.status,[]))if(s)i=wF();else{this.sleepTime=Math.max(this.sleepTime*2,gee),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(qt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=lte(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=ute(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Au,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=V2*this._chunkMultiplier,n=new Rg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=cte(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Au,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){V2*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=ite(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ate(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=EF(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=A_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new fte(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(A_(this._state)){case Ir.SUCCESS:Su(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;Su(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(A_(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&Su(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&Su(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&Su(e.error.bind(e,this._error))();break;default:e.error&&Su(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nl(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PF(this._location.path)}get storage(){return this._service}get parent(){const e=Yee(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new Nl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Cee(e)}}function mte(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pte(t,new $o(e),n)}function gte(t){t._throwIfRoot("getDownloadURL");const e=ste(t.storage,t._location,kF());return t.storage.makeRequestWithTokens(e,Au).then(n=>{if(n===null)throw Ree();return n})}function yte(t,e){const n=Xee(t._location.path,e),r=new Qr(t._location.bucket,n);return new Nl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(t){return/^[A-Za-z]+:\/\//.test(t)}function _te(t,e){return new Nl(t,e)}function MF(t,e){if(t instanceof Ox){const n=t;if(n._bucket==null)throw See();const r=new Nl(n,n._bucket);return e!=null?MF(r,e):r}else return e!==void 0?yte(t,e):t}function wte(t,e){if(e&&vte(e)){if(t instanceof Ox)return _te(t,e);throw Db("To use ref(service, url), the first argument must be a Storage instance.")}else return MF(t,e)}function U2(t,e){const n=e==null?void 0:e[_F];return n==null?null:Qr.makeFromBucketSpec(n,t)}function Ete(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lS(i,t.app.options.projectId))}class Ox{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pee,this._maxUploadRetryTime=mee,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=U2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=U2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Aee(TF());{const o=Uee(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const B2="@firebase/storage",$2="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="storage";function bte(t,e,n){return t=Dt(t),mte(t,e,n)}function Tte(t){return t=Dt(t),gte(t)}function Ste(t,e){return t=Dt(t),wte(t,e)}function xte(t=uy(),e){t=Dt(t);const r=oh(t,FF).getImmediate({identifier:e}),i=oS("storage");return i&&Rte(r,...i),r}function Rte(t,e,n,r={}){Ete(t,e,n,r)}function Ite(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ox(n,r,i,e,Ia)}function Cte(){fa(new ao(FF,Ite,"PUBLIC").setMultipleInstances(!0)),mi(B2,$2,""),mi(B2,$2,"esm2017")}Cte();const Ate={apiKey:"AIzaSyBI7getH_fChUe0QQDJdlx5Opsrrmnm9M0",authDomain:"r-social-f2ef8.firebaseapp.com",databaseURL:"https://r-social-f2ef8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"r-social-f2ef8",storageBucket:"r-social-f2ef8.appspot.com",messagingSenderId:"364260354059",appId:"1:364260354059:web:9861d4323431c776e7ff0e",measurementId:"G-L49PRTPQLR"},My=QL(Ate),z2=uX(My);fee(My);const Ja=oG(My),Pte=xte(My),jF=O.createContext();function kte({children:t}){const[e,n]=O.useState(null),r=new Mi,i=async d=>{(await Bn(rr(gn(z2,"users"),Ar("uid","==",d)))).forEach(y=>{n(y.data())})};O.useEffect(()=>{const d=QW(Ja,p=>{p?i(p==null?void 0:p.uid):n(null)});return()=>{d()}},[]),O.useEffect(()=>{},[]);function s(d,p){return $W(Ja,d,p)}async function o(d,p){return WW(Ja,bM).then(()=>zW(Ja,d,p))}function a(){return YW(Ja)}function l(){return mK(Ja,r)}const u={currentUser:e,setCurrentUser:n,registerUzer:s,loginUzer:o,logoutUzer:a,loginWithProvider:l,db:z2};return x.jsx(jF.Provider,{value:u,children:t})}function dr(){return O.useContext(jF)}const ps=(t="Some msg",e="info",n="bottom-center",r=4e3)=>{Lt[e](`${t}`,{position:n,autoClose:r,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"light",transition:vG})};var VF={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:ji,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="/",i(i.s=7)}([function(n,r,i){function s(o,a,l,u,d,p,y,_){if(!o){var E;if(a===void 0)E=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[l,u,d,p,y,_],C=0;E=new Error(a.replace(/%s/g,function(){return S[C++]})),E.name="Invariant Violation"}throw E.framesToPop=1,E}}n.exports=s},function(n,r,i){function s(a){return function(){return a}}var o=function(){};o.thatReturns=s,o.thatReturnsFalse=s(!1),o.thatReturnsTrue=s(!0),o.thatReturnsNull=s(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(a){return a},n.exports=o},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function l(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function u(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var p={},y=0;y<10;y++)p["_"+String.fromCharCode(y)]=y;var _=Object.getOwnPropertyNames(p).map(function(S){return p[S]});if(_.join("")!=="0123456789")return!1;var E={};return"abcdefghijklmnopqrst".split("").forEach(function(S){E[S]=S}),Object.keys(Object.assign({},E)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=u()?Object.assign:function(d,p){for(var y,_=l(d),E,S=1;S<arguments.length;S++){y=Object(arguments[S]);for(var C in y)o.call(y,C)&&(_[C]=y[C]);if(s){E=s(y);for(var R=0;R<E.length;R++)a.call(y,E[R])&&(_[E[R]]=y[E[R]])}}return _}},function(n,r,i){var s=i(1),o=s;n.exports=o},function(n,r,i){var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=s},function(n,r,i){var s={};n.exports=s},function(n,r,i){function s(o,a,l,u,d){}n.exports=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=Object.assign||function(I){for(var k=1;k<arguments.length;k++){var B=arguments[k];for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(I[D]=B[D])}return I},o=function(){function I(k,B){for(var D=0;D<B.length;D++){var T=B[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,B,D){return B&&I(k.prototype,B),D&&I(k,D),k}}(),a=i(8),l=E(a),u=i(11),d=E(u),p=i(14),y=_(p);function _(I){if(I&&I.__esModule)return I;var k={};if(I!=null)for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(k[B]=I[B]);return k.default=I,k}function E(I){return I&&I.__esModule?I:{default:I}}function S(I,k){var B={};for(var D in I)k.indexOf(D)>=0||Object.prototype.hasOwnProperty.call(I,D)&&(B[D]=I[D]);return B}function C(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function R(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function w(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var v=function(I){w(k,I);function k(){var B,D,T,N;C(this,k);for(var L=arguments.length,j=Array(L),V=0;V<L;V++)j[V]=arguments[V];return N=(D=(T=R(this,(B=k.__proto__||Object.getPrototypeOf(k)).call.apply(B,[this].concat(j))),T),T.state={delayed:T.props.delay>0},D),R(T,N)}return o(k,[{key:"componentDidMount",value:function(){var D=this,T=this.props.delay,N=this.state.delayed;N&&(this.timeout=setTimeout(function(){D.setState({delayed:!1})},T))}},{key:"componentWillUnmount",value:function(){var D=this.timeout;D&&clearTimeout(D)}},{key:"render",value:function(){var D=this.props,T=D.color;D.delay;var N=D.type,L=D.height,j=D.width,V=S(D,["color","delay","type","height","width"]),M=this.state.delayed?"blank":N,le=y[M],me={fill:T,height:L,width:j};return l.default.createElement("div",s({style:me,dangerouslySetInnerHTML:{__html:le}},V))}}]),k}(a.Component);v.propTypes={color:d.default.string,delay:d.default.number,type:d.default.string,height:d.default.oneOfType([d.default.string,d.default.number]),width:d.default.oneOfType([d.default.string,d.default.number])},v.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},r.default=v},function(n,r,i){n.exports=i(9)},function(n,r,i){/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=i(2),o=i(0),a=i(5),l=i(1),u=typeof Symbol=="function"&&Symbol.for,d=u?Symbol.for("react.element"):60103,p=u?Symbol.for("react.portal"):60106,y=u?Symbol.for("react.fragment"):60107,_=u?Symbol.for("react.strict_mode"):60108,E=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,C=u?Symbol.for("react.async_mode"):60111,R=u?Symbol.for("react.forward_ref"):60112,w=typeof Symbol=="function"&&Symbol.iterator;function v(W){for(var ue=arguments.length-1,xe="http://reactjs.org/docs/error-decoder.html?invariant="+W,Ee=0;Ee<ue;Ee++)xe+="&args[]="+encodeURIComponent(arguments[Ee+1]);o(!1,"Minified React error #"+W+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",xe)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function k(W,ue,xe){this.props=W,this.context=ue,this.refs=a,this.updater=xe||I}k.prototype.isReactComponent={},k.prototype.setState=function(W,ue){typeof W!="object"&&typeof W!="function"&&W!=null&&v("85"),this.updater.enqueueSetState(this,W,ue,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function B(){}B.prototype=k.prototype;function D(W,ue,xe){this.props=W,this.context=ue,this.refs=a,this.updater=xe||I}var T=D.prototype=new B;T.constructor=D,s(T,k.prototype),T.isPureReactComponent=!0;var N={current:null},L=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function V(W,ue,xe){var Ee=void 0,Se={},Ge=null,Et=null;if(ue!=null)for(Ee in ue.ref!==void 0&&(Et=ue.ref),ue.key!==void 0&&(Ge=""+ue.key),ue)L.call(ue,Ee)&&!j.hasOwnProperty(Ee)&&(Se[Ee]=ue[Ee]);var He=arguments.length-2;if(He===1)Se.children=xe;else if(1<He){for(var We=Array(He),Gt=0;Gt<He;Gt++)We[Gt]=arguments[Gt+2];Se.children=We}if(W&&W.defaultProps)for(Ee in He=W.defaultProps,He)Se[Ee]===void 0&&(Se[Ee]=He[Ee]);return{$$typeof:d,type:W,key:Ge,ref:Et,props:Se,_owner:N.current}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===d}function le(W){var ue={"=":"=0",":":"=2"};return"$"+(""+W).replace(/[=:]/g,function(xe){return ue[xe]})}var me=/\/+/g,he=[];function Y(W,ue,xe,Ee){if(he.length){var Se=he.pop();return Se.result=W,Se.keyPrefix=ue,Se.func=xe,Se.context=Ee,Se.count=0,Se}return{result:W,keyPrefix:ue,func:xe,context:Ee,count:0}}function Q(W){W.result=null,W.keyPrefix=null,W.func=null,W.context=null,W.count=0,10>he.length&&he.push(W)}function X(W,ue,xe,Ee){var Se=typeof W;(Se==="undefined"||Se==="boolean")&&(W=null);var Ge=!1;if(W===null)Ge=!0;else switch(Se){case"string":case"number":Ge=!0;break;case"object":switch(W.$$typeof){case d:case p:Ge=!0}}if(Ge)return xe(Ee,W,ue===""?"."+fe(W,0):ue),1;if(Ge=0,ue=ue===""?".":ue+":",Array.isArray(W))for(var Et=0;Et<W.length;Et++){Se=W[Et];var He=ue+fe(Se,Et);Ge+=X(Se,He,xe,Ee)}else if(W===null||typeof W>"u"?He=null:(He=w&&W[w]||W["@@iterator"],He=typeof He=="function"?He:null),typeof He=="function")for(W=He.call(W),Et=0;!(Se=W.next()).done;)Se=Se.value,He=ue+fe(Se,Et++),Ge+=X(Se,He,xe,Ee);else Se==="object"&&(xe=""+W,v("31",xe==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":xe,""));return Ge}function fe(W,ue){return typeof W=="object"&&W!==null&&W.key!=null?le(W.key):ue.toString(36)}function te(W,ue){W.func.call(W.context,ue,W.count++)}function $(W,ue,xe){var Ee=W.result,Se=W.keyPrefix;W=W.func.call(W.context,ue,W.count++),Array.isArray(W)?K(W,Ee,xe,l.thatReturnsArgument):W!=null&&(M(W)&&(ue=Se+(!W.key||ue&&ue.key===W.key?"":(""+W.key).replace(me,"$&/")+"/")+xe,W={$$typeof:d,type:W.type,key:ue,ref:W.ref,props:W.props,_owner:W._owner}),Ee.push(W))}function K(W,ue,xe,Ee,Se){var Ge="";xe!=null&&(Ge=(""+xe).replace(me,"$&/")+"/"),ue=Y(ue,Ge,Ee,Se),W==null||X(W,"",$,ue),Q(ue)}var ee={Children:{map:function(W,ue,xe){if(W==null)return W;var Ee=[];return K(W,Ee,null,ue,xe),Ee},forEach:function(W,ue,xe){if(W==null)return W;ue=Y(null,null,ue,xe),W==null||X(W,"",te,ue),Q(ue)},count:function(W){return W==null?0:X(W,"",l.thatReturnsNull,null)},toArray:function(W){var ue=[];return K(W,ue,null,l.thatReturnsArgument),ue},only:function(W){return M(W)||v("143"),W}},createRef:function(){return{current:null}},Component:k,PureComponent:D,createContext:function(W,ue){return ue===void 0&&(ue=null),W={$$typeof:S,_calculateChangedBits:ue,_defaultValue:W,_currentValue:W,_changedBits:0,Provider:null,Consumer:null},W.Provider={$$typeof:E,_context:W},W.Consumer=W},forwardRef:function(W){return{$$typeof:R,render:W}},Fragment:y,StrictMode:_,unstable_AsyncMode:C,createElement:V,cloneElement:function(W,ue,xe){W==null&&v("267",W);var Ee=void 0,Se=s({},W.props),Ge=W.key,Et=W.ref,He=W._owner;if(ue!=null){ue.ref!==void 0&&(Et=ue.ref,He=N.current),ue.key!==void 0&&(Ge=""+ue.key);var We=void 0;W.type&&W.type.defaultProps&&(We=W.type.defaultProps);for(Ee in ue)L.call(ue,Ee)&&!j.hasOwnProperty(Ee)&&(Se[Ee]=ue[Ee]===void 0&&We!==void 0?We[Ee]:ue[Ee])}if(Ee=arguments.length-2,Ee===1)Se.children=xe;else if(1<Ee){We=Array(Ee);for(var Gt=0;Gt<Ee;Gt++)We[Gt]=arguments[Gt+2];Se.children=We}return{$$typeof:d,type:W.type,key:Ge,ref:Et,props:Se,_owner:He}},createFactory:function(W){var ue=V.bind(null,W);return ue.type=W,ue},isValidElement:M,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:s}},Ae=Object.freeze({default:ee}),Re=Ae&&ee||Ae;n.exports=Re.default?Re.default:Re},function(n,r,i){},function(n,r,i){n.exports=i(13)()},function(n,r,i){var s=i(1),o=i(0),a=i(3),l=i(2),u=i(4),d=i(6);n.exports=function(p,y){var _=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function S($){var K=$&&(_&&$[_]||$[E]);if(typeof K=="function")return K}var C="<<anonymous>>",R={array:k("array"),bool:k("boolean"),func:k("function"),number:k("number"),object:k("object"),string:k("string"),symbol:k("symbol"),any:B(),arrayOf:D,element:T(),instanceOf:N,node:M(),objectOf:j,oneOf:L,oneOfType:V,shape:le,exact:me};function w($,K){return $===K?$!==0||1/$===1/K:$!==$&&K!==K}function v($){this.message=$,this.stack=""}v.prototype=Error.prototype;function I($){function K(Ae,Re,W,ue,xe,Ee,Se){return ue=ue||C,Ee=Ee||W,Se!==u&&y&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),Re[W]==null?Ae?Re[W]===null?new v("The "+xe+" `"+Ee+"` is marked as required "+("in `"+ue+"`, but its value is `null`.")):new v("The "+xe+" `"+Ee+"` is marked as required in "+("`"+ue+"`, but its value is `undefined`.")):null:$(Re,W,ue,xe,Ee)}var ee=K.bind(null,!1);return ee.isRequired=K.bind(null,!0),ee}function k($){function K(ee,Ae,Re,W,ue,xe){var Ee=ee[Ae],Se=Q(Ee);if(Se!==$){var Ge=X(Ee);return new v("Invalid "+W+" `"+ue+"` of type "+("`"+Ge+"` supplied to `"+Re+"`, expected ")+("`"+$+"`."))}return null}return I(K)}function B(){return I(s.thatReturnsNull)}function D($){function K(ee,Ae,Re,W,ue){if(typeof $!="function")return new v("Property `"+ue+"` of component `"+Re+"` has invalid PropType notation inside arrayOf.");var xe=ee[Ae];if(!Array.isArray(xe)){var Ee=Q(xe);return new v("Invalid "+W+" `"+ue+"` of type "+("`"+Ee+"` supplied to `"+Re+"`, expected an array."))}for(var Se=0;Se<xe.length;Se++){var Ge=$(xe,Se,Re,W,ue+"["+Se+"]",u);if(Ge instanceof Error)return Ge}return null}return I(K)}function T(){function $(K,ee,Ae,Re,W){var ue=K[ee];if(!p(ue)){var xe=Q(ue);return new v("Invalid "+Re+" `"+W+"` of type "+("`"+xe+"` supplied to `"+Ae+"`, expected a single ReactElement."))}return null}return I($)}function N($){function K(ee,Ae,Re,W,ue){if(!(ee[Ae]instanceof $)){var xe=$.name||C,Ee=te(ee[Ae]);return new v("Invalid "+W+" `"+ue+"` of type "+("`"+Ee+"` supplied to `"+Re+"`, expected ")+("instance of `"+xe+"`."))}return null}return I(K)}function L($){if(!Array.isArray($))return s.thatReturnsNull;function K(ee,Ae,Re,W,ue){for(var xe=ee[Ae],Ee=0;Ee<$.length;Ee++)if(w(xe,$[Ee]))return null;var Se=JSON.stringify($);return new v("Invalid "+W+" `"+ue+"` of value `"+xe+"` "+("supplied to `"+Re+"`, expected one of "+Se+"."))}return I(K)}function j($){function K(ee,Ae,Re,W,ue){if(typeof $!="function")return new v("Property `"+ue+"` of component `"+Re+"` has invalid PropType notation inside objectOf.");var xe=ee[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ue+"` of type "+("`"+Ee+"` supplied to `"+Re+"`, expected an object."));for(var Se in xe)if(xe.hasOwnProperty(Se)){var Ge=$(xe,Se,Re,W,ue+"."+Se,u);if(Ge instanceof Error)return Ge}return null}return I(K)}function V($){if(!Array.isArray($))return s.thatReturnsNull;for(var K=0;K<$.length;K++){var ee=$[K];if(typeof ee!="function")return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",fe(ee),K),s.thatReturnsNull}function Ae(Re,W,ue,xe,Ee){for(var Se=0;Se<$.length;Se++){var Ge=$[Se];if(Ge(Re,W,ue,xe,Ee,u)==null)return null}return new v("Invalid "+xe+" `"+Ee+"` supplied to "+("`"+ue+"`."))}return I(Ae)}function M(){function $(K,ee,Ae,Re,W){return he(K[ee])?null:new v("Invalid "+Re+" `"+W+"` supplied to "+("`"+Ae+"`, expected a ReactNode."))}return I($)}function le($){function K(ee,Ae,Re,W,ue){var xe=ee[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ue+"` of type `"+Ee+"` "+("supplied to `"+Re+"`, expected `object`."));for(var Se in $){var Ge=$[Se];if(Ge){var Et=Ge(xe,Se,Re,W,ue+"."+Se,u);if(Et)return Et}}return null}return I(K)}function me($){function K(ee,Ae,Re,W,ue){var xe=ee[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ue+"` of type `"+Ee+"` "+("supplied to `"+Re+"`, expected `object`."));var Se=l({},ee[Ae],$);for(var Ge in Se){var Et=$[Ge];if(!Et)return new v("Invalid "+W+" `"+ue+"` key `"+Ge+"` supplied to `"+Re+"`.\nBad object: "+JSON.stringify(ee[Ae],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys($),null,"  "));var He=Et(xe,Ge,Re,W,ue+"."+Ge,u);if(He)return He}return null}return I(K)}function he($){switch(typeof $){case"number":case"string":case"undefined":return!0;case"boolean":return!$;case"object":if(Array.isArray($))return $.every(he);if($===null||p($))return!0;var K=S($);if(K){var ee=K.call($),Ae;if(K!==$.entries){for(;!(Ae=ee.next()).done;)if(!he(Ae.value))return!1}else for(;!(Ae=ee.next()).done;){var Re=Ae.value;if(Re&&!he(Re[1]))return!1}}else return!1;return!0;default:return!1}}function Y($,K){return $==="symbol"||K["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&K instanceof Symbol}function Q($){var K=typeof $;return Array.isArray($)?"array":$ instanceof RegExp?"object":Y(K,$)?"symbol":K}function X($){if(typeof $>"u"||$===null)return""+$;var K=Q($);if(K==="object"){if($ instanceof Date)return"date";if($ instanceof RegExp)return"regexp"}return K}function fe($){var K=X($);switch(K){case"array":case"object":return"an "+K;case"boolean":case"date":case"regexp":return"a "+K;default:return K}}function te($){return!$.constructor||!$.constructor.name?C:$.constructor.name}return R.checkPropTypes=d,R.PropTypes=R,R}},function(n,r,i){var s=i(1),o=i(0),a=i(4);n.exports=function(){function l(p,y,_,E,S,C){C!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}l.isRequired=l;function u(){return l}var d={array:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return d.checkPropTypes=s,d.PropTypes=d,d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(15);Object.defineProperty(r,"blank",{enumerable:!0,get:function(){return E(s).default}});var o=i(16);Object.defineProperty(r,"balls",{enumerable:!0,get:function(){return E(o).default}});var a=i(17);Object.defineProperty(r,"bars",{enumerable:!0,get:function(){return E(a).default}});var l=i(18);Object.defineProperty(r,"bubbles",{enumerable:!0,get:function(){return E(l).default}});var u=i(19);Object.defineProperty(r,"cubes",{enumerable:!0,get:function(){return E(u).default}});var d=i(20);Object.defineProperty(r,"cylon",{enumerable:!0,get:function(){return E(d).default}});var p=i(21);Object.defineProperty(r,"spin",{enumerable:!0,get:function(){return E(p).default}});var y=i(22);Object.defineProperty(r,"spinningBubbles",{enumerable:!0,get:function(){return E(y).default}});var _=i(23);Object.defineProperty(r,"spokes",{enumerable:!0,get:function(){return E(_).default}});function E(S){return S&&S.__esModule?S:{default:S}}},function(n,r){n.exports=`<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>
`},function(n,r){n.exports=`<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>
  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">
    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>
  </path>
</svg>
`}])})})(VF);var Ote=VF.exports;const Nte=Kb(Ote),Fy=({height:t,width:e})=>x.jsx(Nte,{type:"spokes",color:"white",height:t||"90%",width:e||"90%",className:"text-center mx-3 "});var Dte={exports:{}};function Lte(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var P_={exports:{}};const Mte={},Fte=Object.freeze(Object.defineProperty({__proto__:null,default:Mte},Symbol.toStringTag,{value:"Module"})),jte=aU(Fte);var H2;function Vte(){return H2||(H2=1,function(t,e){(function(n,r){t.exports=r()})(ji,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ji<"u"&&ji.crypto&&(s=ji.crypto),!s&&typeof Lte=="function")try{s=jte}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function w(){}return function(v){var I;return w.prototype=v,I=new w,w.prototype=null,I}}(),l={},u=l.lib={},d=u.Base=function(){return{extend:function(w){var v=a(this);return w&&v.mixIn(w),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var v in w)w.hasOwnProperty(v)&&(this[v]=w[v]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=u.WordArray=d.extend({init:function(w,v){w=this.words=w||[],v!=i?this.sigBytes=v:this.sigBytes=w.length*4},toString:function(w){return(w||_).stringify(this)},concat:function(w){var v=this.words,I=w.words,k=this.sigBytes,B=w.sigBytes;if(this.clamp(),k%4)for(var D=0;D<B;D++){var T=I[D>>>2]>>>24-D%4*8&255;v[k+D>>>2]|=T<<24-(k+D)%4*8}else for(var N=0;N<B;N+=4)v[k+N>>>2]=I[N>>>2];return this.sigBytes+=B,this},clamp:function(){var w=this.words,v=this.sigBytes;w[v>>>2]&=4294967295<<32-v%4*8,w.length=r.ceil(v/4)},clone:function(){var w=d.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var v=[],I=0;I<w;I+=4)v.push(o());return new p.init(v,w)}}),y=l.enc={},_=y.Hex={stringify:function(w){for(var v=w.words,I=w.sigBytes,k=[],B=0;B<I;B++){var D=v[B>>>2]>>>24-B%4*8&255;k.push((D>>>4).toString(16)),k.push((D&15).toString(16))}return k.join("")},parse:function(w){for(var v=w.length,I=[],k=0;k<v;k+=2)I[k>>>3]|=parseInt(w.substr(k,2),16)<<24-k%8*4;return new p.init(I,v/2)}},E=y.Latin1={stringify:function(w){for(var v=w.words,I=w.sigBytes,k=[],B=0;B<I;B++){var D=v[B>>>2]>>>24-B%4*8&255;k.push(String.fromCharCode(D))}return k.join("")},parse:function(w){for(var v=w.length,I=[],k=0;k<v;k++)I[k>>>2]|=(w.charCodeAt(k)&255)<<24-k%4*8;return new p.init(I,v)}},S=y.Utf8={stringify:function(w){try{return decodeURIComponent(escape(E.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return E.parse(unescape(encodeURIComponent(w)))}},C=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=S.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var v,I=this._data,k=I.words,B=I.sigBytes,D=this.blockSize,T=D*4,N=B/T;w?N=r.ceil(N):N=r.max((N|0)-this._minBufferSize,0);var L=N*D,j=r.min(L*4,B);if(L){for(var V=0;V<L;V+=D)this._doProcessBlock(k,V);v=k.splice(0,L),I.sigBytes-=j}return new p.init(v,j)},clone:function(){var w=d.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=C.extend({cfg:d.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(w){return function(v,I){return new w.init(I).finalize(v)}},_createHmacHelper:function(w){return function(v,I){return new R.HMAC.init(w,I).finalize(v)}}});var R=l.algo={};return l}(Math);return n})}(P_)),P_.exports}(function(t,e){(function(n,r){t.exports=r(Vte())})(ji,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var S=0;S<64;S++)u[S]=r.abs(r.sin(S+1))*4294967296|0})();var d=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,C){for(var R=0;R<16;R++){var w=C+R,v=S[w];S[w]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var I=this._hash.words,k=S[C+0],B=S[C+1],D=S[C+2],T=S[C+3],N=S[C+4],L=S[C+5],j=S[C+6],V=S[C+7],M=S[C+8],le=S[C+9],me=S[C+10],he=S[C+11],Y=S[C+12],Q=S[C+13],X=S[C+14],fe=S[C+15],te=I[0],$=I[1],K=I[2],ee=I[3];te=p(te,$,K,ee,k,7,u[0]),ee=p(ee,te,$,K,B,12,u[1]),K=p(K,ee,te,$,D,17,u[2]),$=p($,K,ee,te,T,22,u[3]),te=p(te,$,K,ee,N,7,u[4]),ee=p(ee,te,$,K,L,12,u[5]),K=p(K,ee,te,$,j,17,u[6]),$=p($,K,ee,te,V,22,u[7]),te=p(te,$,K,ee,M,7,u[8]),ee=p(ee,te,$,K,le,12,u[9]),K=p(K,ee,te,$,me,17,u[10]),$=p($,K,ee,te,he,22,u[11]),te=p(te,$,K,ee,Y,7,u[12]),ee=p(ee,te,$,K,Q,12,u[13]),K=p(K,ee,te,$,X,17,u[14]),$=p($,K,ee,te,fe,22,u[15]),te=y(te,$,K,ee,B,5,u[16]),ee=y(ee,te,$,K,j,9,u[17]),K=y(K,ee,te,$,he,14,u[18]),$=y($,K,ee,te,k,20,u[19]),te=y(te,$,K,ee,L,5,u[20]),ee=y(ee,te,$,K,me,9,u[21]),K=y(K,ee,te,$,fe,14,u[22]),$=y($,K,ee,te,N,20,u[23]),te=y(te,$,K,ee,le,5,u[24]),ee=y(ee,te,$,K,X,9,u[25]),K=y(K,ee,te,$,T,14,u[26]),$=y($,K,ee,te,M,20,u[27]),te=y(te,$,K,ee,Q,5,u[28]),ee=y(ee,te,$,K,D,9,u[29]),K=y(K,ee,te,$,V,14,u[30]),$=y($,K,ee,te,Y,20,u[31]),te=_(te,$,K,ee,L,4,u[32]),ee=_(ee,te,$,K,M,11,u[33]),K=_(K,ee,te,$,he,16,u[34]),$=_($,K,ee,te,X,23,u[35]),te=_(te,$,K,ee,B,4,u[36]),ee=_(ee,te,$,K,N,11,u[37]),K=_(K,ee,te,$,V,16,u[38]),$=_($,K,ee,te,me,23,u[39]),te=_(te,$,K,ee,Q,4,u[40]),ee=_(ee,te,$,K,k,11,u[41]),K=_(K,ee,te,$,T,16,u[42]),$=_($,K,ee,te,j,23,u[43]),te=_(te,$,K,ee,le,4,u[44]),ee=_(ee,te,$,K,Y,11,u[45]),K=_(K,ee,te,$,fe,16,u[46]),$=_($,K,ee,te,D,23,u[47]),te=E(te,$,K,ee,k,6,u[48]),ee=E(ee,te,$,K,V,10,u[49]),K=E(K,ee,te,$,X,15,u[50]),$=E($,K,ee,te,L,21,u[51]),te=E(te,$,K,ee,Y,6,u[52]),ee=E(ee,te,$,K,T,10,u[53]),K=E(K,ee,te,$,me,15,u[54]),$=E($,K,ee,te,B,21,u[55]),te=E(te,$,K,ee,M,6,u[56]),ee=E(ee,te,$,K,fe,10,u[57]),K=E(K,ee,te,$,j,15,u[58]),$=E($,K,ee,te,Q,21,u[59]),te=E(te,$,K,ee,N,6,u[60]),ee=E(ee,te,$,K,he,10,u[61]),K=E(K,ee,te,$,D,15,u[62]),$=E($,K,ee,te,le,21,u[63]),I[0]=I[0]+te|0,I[1]=I[1]+$|0,I[2]=I[2]+K|0,I[3]=I[3]+ee|0},_doFinalize:function(){var S=this._data,C=S.words,R=this._nDataBytes*8,w=S.sigBytes*8;C[w>>>5]|=128<<24-w%32;var v=r.floor(R/4294967296),I=R;C[(w+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C[(w+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,S.sigBytes=(C.length+1)*4,this._process();for(var k=this._hash,B=k.words,D=0;D<4;D++){var T=B[D];B[D]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return k},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function p(S,C,R,w,v,I,k){var B=S+(C&R|~C&w)+v+k;return(B<<I|B>>>32-I)+C}function y(S,C,R,w,v,I,k){var B=S+(C&w|R&~w)+v+k;return(B<<I|B>>>32-I)+C}function _(S,C,R,w,v,I,k){var B=S+(C^R^w)+v+k;return(B<<I|B>>>32-I)+C}function E(S,C,R,w,v,I,k){var B=S+(R^(C|~w))+v+k;return(B<<I|B>>>32-I)+C}i.MD5=a._createHelper(d),i.HmacMD5=a._createHmacHelper(d)}(Math),n.MD5})})(Dte);const UF=O.createContext({userArray:[]}),Ur=()=>O.useContext(UF);function Ute({children:t}){const{db:e,currentUser:n,setCurrentUser:r}=dr(),[i,s]=O.useState([]),[o,a]=O.useState([]),[l,u]=O.useState([]),[d,p]=O.useState(!1),y=[],[_,E]=O.useState([]),[S,C]=O.useState([]),[R,w]=O.useState(!1),v=async()=>{try{(await Bn(rr(gn(e,"users")))).forEach(M=>{y.push(M.data())}),a(n==null?void 0:n.following)}catch{}finally{}},I=V=>{if(V==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg"||V.includes("google"))return V;const M="q_auto,f_auto,h_500,w_500,c_fill,g_auto",le=V.indexOf("/upload")+7;return V.slice(0,le)+`/${M}`+V.slice(le)},k=(V,M,le)=>{V.forEach(me=>{if(M===me.uid){r(me);return}})},B=async V=>!(await Bn(rr(gn(e,"users"),Ar("email","==",V)))).empty,D=async V=>{(await Bn(rr(gn(e,"users"),Ar("uid","==",V)))).forEach(le=>{r(le.data()),a(le.data().following)})},T=()=>{i&&i.map((V,M,le)=>{let me=[...S,{uid:V.uid,followers:V.followers,following:V.following}];C(me)})};async function N(V,M){try{const le=await Bn(rr(gn(e,"users"),Ar("uid","==",V)));le.empty||le.forEach(async me=>{const he=me.data(),Y=he.posts.findIndex(Q=>Q.pid===M);if(Y!==-1)if(he.posts[Y].likes.includes(n==null?void 0:n.uid)){const Q=[...he.posts];Q[Y].likes=Q[Y].likes.filter(fe=>fe!==(n==null?void 0:n.uid));const X=Di(e,"users",me.id);await zs(X,{posts:Q})}else{const Q=[...he.posts];Q[Y].likes.push(n==null?void 0:n.uid);const X=Di(e,"users",me.id);await zs(X,{posts:Q})}})}catch(le){console.error("Error liking post:",le)}try{const le=await Bn(rr(gn(e,"users"),Ar("uid","==",n==null?void 0:n.uid)));le.empty||le.forEach(async me=>{const he=me.data();if(he.postsLiked.includes(M)){const Y=he.postsLiked.indexOf(M);let Q=he.postsLiked;Q.splice(Y,1);const X=Di(e,"users",me.id);await zs(X,{postsLiked:Q})}else{const Y=Di(e,"users",me.id);let Q=he.postsLiked;Q.push(M),await zs(Y,{postsLiked:Q})}})}catch(le){console.error("Error liking post:",le)}}async function L(V){try{const M=gn(e,"users"),le=rr(M,Ar("uid","==",V)),me=await Bn(le);let he={};me.empty||me.forEach(async Y=>{let Q=Y.data().followers||[];Q.includes(n.uid)?Q=Q.filter(fe=>fe!==n.uid):Q.push(n.uid);const X=Di(e,"users",Y.id);await zs(X,{followers:Q}).then(()=>{}).catch(fe=>{console.error(fe)})})}catch(M){console.error(M)}try{const M=gn(e,"users"),le=rr(M,Ar("uid","==",n.uid)),me=await Bn(le);me.empty||me.forEach(async he=>{let Y=he.data().following||[];Y.includes(V)?Y=Y.filter(X=>X!==V):(Y.push(V),a(Y));const Q=Di(e,"users",he.id);await zs(Q,{following:Y}).then(()=>{const X={...n,following:Y};a(Y)}).catch(X=>{console.error(X)})})}catch{}}const j={userArray:i,setUserArray:s,users:y,getUsers:v,getUserDetailsById:D,isFirstLogin:d,setIsFirstLogin:p,setIsFollowing:a,isFollowing:o,handleFollow:L,userExists:B,uzerFollowArray:l,getValueByKey:k,isUsersFollowing:_,setUsersIsFollowing:E,userFollow:S,setUserFollow:C,handleLike:N,setPostsLoaded:w,postsLoaded:R,transformCloudinaryURL:I};return O.useEffect(()=>{async function V(){await v()}V(),i&&T()},[n]),O.useEffect(()=>{const V=gn(e,"users"),M=xX(V,le=>{const me=le.docs.map(he=>({id:he.id,...he.data()}));s(me),w(!0)});return()=>M()},[]),O.useEffect(()=>{p((n==null?void 0:n.username)==="")},[n]),x.jsx(UF.Provider,{value:j,children:t})}function Bte(){const{currentUser:t,loginUzer:e,setCurrentUser:n}=dr(),{getUserDetailsById:r}=Ur(),i=Ra(),{register:s,handleSubmit:o,formState:{errors:a,isSubmitting:l,isSubmitted:u}}=eh(),d=async p=>{try{e(p.email,p.password).then(y=>{ps("Login Successful 🥳","success","bottom-center",1500),r(y.user.uid),i("/r-social/profile/me",{replace:!0}),n(y.user)}).catch(y=>{y.message==="Firebase: Error (auth/invalid-credential)."?ps("Invalid User Credentials","error","bottom-center",4e3):ps(y.message,"error","bottom-center",4e3)})}catch(y){console.error(y),ps(y.message,"error","bottom-center",4e3)}};return O.useEffect(()=>{t!==null&&i("/r-social/")},[t]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"flex bg-cyan-100 min-h-full  flex-1 flex-col border-2 border-cyan-200  shadow-2xl justify-center px-6 py-10 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[x.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[x.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"R-Social"}),x.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Login"})]}),x.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[x.jsxs("form",{onSubmit:o(d),className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email"}),x.jsx("div",{className:"mt-2",children:x.jsx("input",{autoFocus:!0,id:"email",name:"email",type:"email",required:!0,...s("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 "})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),x.jsx("div",{className:"mt-2",children:x.jsx("input",{...s("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),a.password&&x.jsx("p",{role:"alert",className:"text-red-600",children:a.password.message})]}),x.jsx("div",{children:x.jsxs("button",{disabled:l||t,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${t?"disabled disabled:bg-slate-500":""}`,children:["Sign in ",x.jsx("span",{children:l&&x.jsx(Fy,{type:"spin",color:"white"})})]})})]}),x.jsx("br",{}),!t&&x.jsxs("div",{children:[x.jsx("p",{children:"Not a Registered User?"}),x.jsx(vr,{to:"/r-social/register",children:x.jsx("p",{className:"text-blue-700 font-semibold",children:"Register"})})]})]})]})})}function $te(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),{currentUser:o,registerUzer:a,loginWithProvider:l,setCurrentUser:u,db:d}=dr();O.useState(!0);const{isFirstLogin:p,setIsFirstLogin:y,getUserDetailsById:_,userExists:E,transformCloudinaryURL:S}=Ur(),C=()=>o&&o.profilePictureURL?S(o.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg",R=async()=>l().then(async v=>{Mi.credentialFromResult(v).accessToken;const k=v.user;y(!k.email),_(k.uid);try{const B=gn(d,"users"),D=rr(B,Ar("email","==",v.user.email));try{const T=await Bn(D);if(console.log(T.empty),T.empty){console.log("does not exist");const N=await t2(gn(d,"users"),{uid:k.uid,username:"",email:k.email,profilePictureURL:k.providerData[0].photoURL,bio:"This is a bio",followers:[],following:[],accountPrivacy:"public",notificationPreferences:{email:!0,push:!0},twoFactorEnabled:!1,posts:[],accountStatus:"active",verificationStatus:"unverified",postsLiked:[]}).then(L=>{y(!0)}).catch(L=>{console.error(L)})}}catch(T){console.error("Error checking email: ",T)}}catch(B){console.error(B)}t("/r-social/profile/me")}).catch(v=>{v.code;const I=v.message;ps(I,"error","bottom-center",4e3),v.customData.email,Mi.credentialFromError(v)}),w=async v=>{try{await a(v.email,v.password).then(async I=>{ps("User Registered Successfully 🥳","success","bottom-center",2e3);const k=I.user;try{await qW(k,{displayName:v.fname}),C();const B=await t2(gn(d,"users"),{uid:k.uid,username:"",email:k.email,profilePictureURL:C(),bio:"This is a bio",followers:[],following:[],accountPrivacy:"public",notificationPreferences:{email:!0,push:!0},twoFactorEnabled:!1,posts:[],accountStatus:"active",verificationStatus:"unverified",postsLiked:[]}).then(D=>{y(!0)}).catch(D=>{console.error(D)})}catch(B){console.error(B)}t("/r-social/login",{replace:!0})}).catch(I=>{I.message==="Firebase: Error (auth/email-already-in-use)."?ps("User with this Email already exists!","error","bottom-center",4e3):ps(I.message,"error","bottom-center",4e3)})}catch(I){ps(I.message,"error","bottom-center",4e3)}};return O.useEffect(()=>{o!==null&&t("/r-social/")},[o]),x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex bg-cyan-100 min-h-full  flex-1 flex-col border-2   border-cyan-200  shadow-2xl justify-center px-6 py-7 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[x.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[x.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"R-Social"}),x.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign Up"})]}),x.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[x.jsxs("form",{onSubmit:n(w),className:"space-y-5",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),x.jsx("div",{className:"mt-2",children:x.jsx("input",{id:"email",name:"email",type:"email",required:!0,...e("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"fname",className:"block text-sm font-medium leading-6 text-gray-900",children:"First Name"}),x.jsx("div",{className:"mt-2",children:x.jsx("input",{...e("fname",{required:!0}),id:"fname",name:"fname",type:"text",required:!0,autoComplete:"fname",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),x.jsx("div",{className:"mt-2",children:x.jsx("input",{...e("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),r.password&&x.jsx("p",{role:"alert",className:"text-red-600",children:r.password.message})]}),x.jsx("div",{children:x.jsxs("button",{disabled:i||o,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${i?"disabled":""} ${o?"disabled disabled:bg-slate-500":""}`,children:["Sign Up",x.jsx("span",{children:i&&x.jsx(Fy,{type:"spin",color:"white"})})]})})]}),x.jsx("br",{}),x.jsx("div",{className:"flex items-center justify-center ",children:x.jsxs("button",{disabled:o,onClick:R,className:`px-4 py-2 border flex gap-2 border-slate-200 dark:border-slate-700 rounded-lg text-blue-600 bg-white dark:text-slate-200 hover:border-slate-400 dark:hover:border-slate-500 hover:text-slate-900 dark:hover:text-slate-300 hover:shadow transition duration-150 ${o?"disabled disabled:bg-slate-500":""}`,children:[x.jsx("img",{className:"w-6 h-6",src:"https://www.svgrepo.com/show/475656/google-color.svg",loading:"lazy",alt:"google logo"}),x.jsx("span",{className:"text-slate-600 font-mono size-30 ",children:"Login with Google"})]})}),!o&&x.jsxs("div",{children:[x.jsx("p",{children:"Already a user?"}),x.jsx(vr,{to:"/r-social/login",children:x.jsx("p",{className:"text-blue-700 font-semibold",children:"Login"})})]})]})]}),x.jsx("h1",{className:"text-center",children:"Just a Demo Project website made by Rohit S Koujalagi"})]})}const BF=typeof document<"u"?Pe.useLayoutEffect:()=>{};function zte(t){const e=O.useRef(null);return BF(()=>{e.current=t},[t]),O.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const xh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},ll=t=>t&&"window"in t&&t.window===t?t:xh(t).defaultView||window;function Hte(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function qte(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function $F(t){let e=null;return()=>(e==null&&(e=t()),e)}const Wte=$F(function(){return qte(/^Mac/i)}),Kte=$F(function(){return Hte(/Android/i)});function Gte(t){return t.mozInputSource===0&&t.isTrusted?!0:Kte()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class Qte{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function zF(t){let e=O.useRef({isFocused:!1,observer:null});BF(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=zte(r=>{t==null||t(r)});return O.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&n(new Qte("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Yte(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=O.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=zF(s),a=O.useCallback(l=>{const u=xh(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let Rh=null,Lb=new Set,ld=new Map,Dl=!1,Mb=!1;const Xte={Tab:!0,Escape:!0};function Nx(t,e){for(let n of Lb)n(t,e)}function Jte(t){return!(t.metaKey||!Wte()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Ig(t){Dl=!0,Jte(t)&&(Rh="keyboard",Nx("keyboard",t))}function fi(t){Rh="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Dl=!0,Nx("pointer",t))}function HF(t){Gte(t)&&(Dl=!0,Rh="virtual")}function qF(t){t.target===window||t.target===document||(!Dl&&!Mb&&(Rh="virtual",Nx("virtual",t)),Dl=!1,Mb=!1)}function WF(){Dl=!1,Mb=!0}function Fb(t){if(typeof window>"u"||ld.get(ll(t)))return;const e=ll(t),n=xh(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Dl=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ig,!0),n.addEventListener("keyup",Ig,!0),n.addEventListener("click",HF,!0),e.addEventListener("focus",qF,!0),e.addEventListener("blur",WF,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",fi,!0),n.addEventListener("pointermove",fi,!0),n.addEventListener("pointerup",fi,!0)):(n.addEventListener("mousedown",fi,!0),n.addEventListener("mousemove",fi,!0),n.addEventListener("mouseup",fi,!0)),e.addEventListener("beforeunload",()=>{KF(t)},{once:!0}),ld.set(e,{focus:r})}const KF=(t,e)=>{const n=ll(t),r=xh(t);e&&r.removeEventListener("DOMContentLoaded",e),ld.has(n)&&(n.HTMLElement.prototype.focus=ld.get(n).focus,r.removeEventListener("keydown",Ig,!0),r.removeEventListener("keyup",Ig,!0),r.removeEventListener("click",HF,!0),n.removeEventListener("focus",qF,!0),n.removeEventListener("blur",WF,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",fi,!0),r.removeEventListener("pointermove",fi,!0),r.removeEventListener("pointerup",fi,!0)):(r.removeEventListener("mousedown",fi,!0),r.removeEventListener("mousemove",fi,!0),r.removeEventListener("mouseup",fi,!0)),ld.delete(n))};function Zte(t){const e=xh(t);let n;return e.readyState!=="loading"?Fb(t):(n=()=>{Fb(t)},e.addEventListener("DOMContentLoaded",n)),()=>KF(t,n)}typeof document<"u"&&Zte();function GF(){return Rh!=="pointer"}const ene=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tne(t,e,n){var r;const i=typeof window<"u"?ll(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?ll(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ll(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?ll(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!ene.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof s||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!Xte[n.key])}function nne(t,e,n){Fb(),O.useEffect(()=>{let r=(i,s)=>{tne(!!(n!=null&&n.isTextInput),i,s)&&t(GF())};return Lb.add(r),()=>{Lb.delete(r)}},e)}function rne(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=O.useRef({isFocusWithin:!1}),o=O.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,s]),a=zF(o),l=O.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),s.current.isFocusWithin=!0,a(u))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let Cg=!1,k_=0;function jb(){Cg=!0,setTimeout(()=>{Cg=!1},50)}function q2(t){t.pointerType==="touch"&&jb()}function ine(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",q2):document.addEventListener("touchend",jb),k_++,()=>{k_--,!(k_>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",q2):document.removeEventListener("touchend",jb))}}function QF(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=O.useState(!1),a=O.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;O.useEffect(ine,[]);let{hoverProps:l,triggerHoverEnd:u}=O.useMemo(()=>{let d=(_,E)=>{if(a.pointerType=E,i||E==="touch"||a.isHovered||!_.currentTarget.contains(_.target))return;a.isHovered=!0;let S=_.currentTarget;a.target=S,e&&e({type:"hoverstart",target:S,pointerType:E}),n&&n(!0),o(!0)},p=(_,E)=>{if(a.pointerType="",a.target=null,E==="touch"||!a.isHovered)return;a.isHovered=!1;let S=_.currentTarget;r&&r({type:"hoverend",target:S,pointerType:E}),n&&n(!1),o(!1)},y={};return typeof PointerEvent<"u"?(y.onPointerEnter=_=>{Cg&&_.pointerType==="mouse"||d(_,_.pointerType)},y.onPointerLeave=_=>{!i&&_.currentTarget.contains(_.target)&&p(_,_.pointerType)}):(y.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},y.onMouseEnter=_=>{!a.ignoreEmulatedMouseEvents&&!Cg&&d(_,"mouse"),a.ignoreEmulatedMouseEvents=!1},y.onMouseLeave=_=>{!i&&_.currentTarget.contains(_.target)&&p(_,"mouse")}),{hoverProps:y,triggerHoverEnd:p}},[e,n,r,i,a]);return O.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function YF(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=O.useRef({isFocused:!1,isFocusVisible:e||GF()}),[s,o]=O.useState(!1),[a,l]=O.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=O.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=O.useCallback(_=>{i.current.isFocused=_,o(_),u()},[u]);nne(_=>{i.current.isFocusVisible=_,u()},[],{isTextInput:n});let{focusProps:p}=Yte({isDisabled:r,onFocusChange:d}),{focusWithinProps:y}=rne({isDisabled:!r,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:r?y:p}}var sne=Object.defineProperty,one=(t,e,n)=>e in t?sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O_=(t,e,n)=>(one(t,typeof e!="symbol"?e+"":e,n),n);let ane=class{constructor(){O_(this,"current",this.detect()),O_(this,"handoffState","pending"),O_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},gl=new ane;function zl(t){return gl.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function XF(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Is(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return XF(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Is();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function jy(){let[t]=O.useState(Is);return O.useEffect(()=>()=>t.dispose(),[t]),t}let _n=(t,e)=>{gl.isServer?O.useEffect(t,e):O.useLayoutEffect(t,e)};function Ih(t){let e=O.useRef(t);return _n(()=>{e.current=t},[t]),e}let St=function(t){let e=Ih(t);return Pe.useCallback((...n)=>e.current(...n),[e])};function lne(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function une(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function JF({disabled:t=!1}={}){let e=O.useRef(null),[n,r]=O.useState(!1),i=jy(),s=St(()=>{e.current=null,r(!1),i.dispose()}),o=St(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=zl(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let d=lne(u);r(une(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let cne=O.createContext(void 0);function ZF(){return O.useContext(cne)}function W2(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ka(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ka),r}var qd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qd||{}),fne=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(fne||{});function Sr({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??dne;let l=ej(e,t);if(s)return Vp(l,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...p}=l;if(d)return Vp(p,n,r,o,a)}if(u&1){let{unmount:d=!0,...p}=l;return ka(d?0:1,{0(){return null},1(){return Vp({...p,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Vp(l,n,r,o,a)}function Vp(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=N_(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(e){let y=!1,_=[];for(let[E,S]of Object.entries(e))typeof S=="boolean"&&(y=!0),S===!0&&_.push(E.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(y){p["data-headlessui-state"]=_.join(" ");for(let E of _)p[`data-${E}`]=""}}if(s===O.Fragment&&(Object.keys(xu(l)).length>0||Object.keys(xu(p)).length>0))if(!O.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(xu(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xu(l)).concat(Object.keys(xu(p))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=d.props,_=y==null?void 0:y.className,E=typeof _=="function"?(...R)=>W2(_(...R),l.className):W2(_,l.className),S=E?{className:E}:{},C=ej(d.props,xu(N_(l,["ref"])));for(let R in p)R in C&&delete p[R];return O.cloneElement(d,Object.assign({},C,p,u,{ref:i(d.ref,u.ref)},S))}return O.createElement(s,Object.assign({},N_(l,["ref"]),s!==O.Fragment&&u,s!==O.Fragment&&p),d)}function Dx(){let t=O.useRef([]),e=O.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function dne(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ej(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Ag(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function xr(t){var e;return Object.assign(O.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function xu(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function N_(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let hne=O.createContext(void 0);function pne(){return O.useContext(hne)}function tj(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&mne(n)?!1:r}function mne(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let nj=Symbol();function rj(t,e=!0){return Object.assign(t,{[nj]:e})}function wi(...t){let e=O.useRef(t);O.useEffect(()=>{e.current=t},[t]);let n=St(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[nj]))?void 0:n}let Lx=O.createContext(null);Lx.displayName="DescriptionContext";function ij(){let t=O.useContext(Lx);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ij),e}return t}function gne(){let[t,e]=O.useState([]);return[t.length>0?t.join(" "):void 0,O.useMemo(()=>function(n){let r=St(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=O.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Pe.createElement(Lx.Provider,{value:i},n.children)},[e])]}let yne="p";function vne(t,e){let n=O.useId(),r=ZF(),{id:i=`headlessui-description-${n}`,...s}=t,o=ij(),a=wi(e);_n(()=>o.register(i),[i,o.register]);let l=r||!1,u=O.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return Sr({ourProps:d,theirProps:s,slot:u,defaultTag:yne,name:o.name||"Description"})}let _ne=xr(vne);Object.assign(_ne,{});var sn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(sn||{});let Vy=O.createContext(null);Vy.displayName="LabelContext";function Mx(){let t=O.useContext(Vy);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Mx),e}return t}function wne(t){var e,n,r;let i=(n=(e=O.useContext(Vy))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function sj({inherit:t=!1}={}){let e=wne(),[n,r]=O.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,O.useMemo(()=>function(s){let o=St(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),p=d.indexOf(l);return p!==-1&&d.splice(p,1),d}))),a=O.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Pe.createElement(Vy.Provider,{value:a},s.children)},[r])]}let Ene="label";function bne(t,e){var n;let r=O.useId(),i=Mx(),s=pne(),o=ZF(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=t,p=wi(e);_n(()=>i.register(a),[a,i.register]);let y=St(C=>{let R=C.currentTarget;if(R instanceof HTMLLabelElement&&C.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(C),R instanceof HTMLLabelElement){let w=document.getElementById(R.htmlFor);if(w){let v=w.getAttribute("disabled");if(v==="true"||v==="")return;let I=w.getAttribute("aria-disabled");if(I==="true"||I==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),_=o||!1,E=O.useMemo(()=>({...i.slot,disabled:_}),[i.slot,_]),S={ref:p,...i.props,id:a,htmlFor:l,onClick:y};return u&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in d&&delete d.onClick),Sr({ourProps:S,theirProps:d,slot:E,defaultTag:l?Ene:"div",name:i.name||"Label"})}let Tne=xr(bne);Object.assign(Tne,{});let Sne=O.createContext(()=>{});function xne({value:t,children:e}){return Pe.createElement(Sne.Provider,{value:t},e)}function Rne(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Ine(t,e=!1){let[n,r]=O.useReducer(()=>({}),{}),i=O.useMemo(()=>Rne(t),[t,n]);return _n(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let Cne=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function oj(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function aj(t){return O.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let Ane=new Cne(()=>oj(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Fx(t,e){let n=Ane.get(e),r=O.useId(),i=aj(n);if(_n(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let Vb=new Map,ud=new Map;function K2(t){var e;let n=(e=ud.get(t))!=null?e:0;return ud.set(t,n+1),n!==0?()=>G2(t):(Vb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>G2(t))}function G2(t){var e;let n=(e=ud.get(t))!=null?e:1;if(n===1?ud.delete(t):ud.set(t,n-1),n!==1)return;let r=Vb.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Vb.delete(t))}function Pne(t,{allowed:e,disallowed:n}={}){let r=Fx(t,"inert-others");_n(()=>{var i,s;if(!r)return;let o=Is();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(K2(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=zl(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let p of d.children)a.some(y=>p.contains(y))||o.add(K2(p));d=d.parentElement}}return o.dispose},[r,e,n])}function kne(t,e,n){let r=Ih(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});O.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=Is();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Ub=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),One=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Bb=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Bb||{}),Nne=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Nne||{}),Dne=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Dne||{});function lj(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ub)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Lne(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(One)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var jx=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jx||{});function Vx(t,e=0){var n;return t===((n=zl(t))==null?void 0:n.body)?!1:ka(e,{0(){return t.matches(Ub)},1(){let r=t;for(;r!==null;){if(r.matches(Ub))return!0;r=r.parentElement}return!1}})}function uj(t){let e=zl(t);Is().nextFrame(()=>{e&&!Vx(e.activeElement,0)&&Fne(t)})}var Mne=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Mne||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Fne(t){t==null||t.focus({preventScroll:!0})}let jne=["textarea","input"].join(",");function Vne(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,jne))!=null?n:!1}function cj(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Une(t,e){return Bne(lj(),e,{relativeTo:t})}function Bne(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?cj(t):t:e&64?Lne(t):lj(t);i.length>0&&o.length>1&&(o=o.filter(_=>!i.some(E=>E!=null&&"current"in E?(E==null?void 0:E.current)===_:E===_))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,p=o.length,y;do{if(d>=p||d+p<=0)return 0;let _=l+d;if(e&16)_=(_+p)%p;else{if(_<0)return 3;if(_>=p)return 1}y=o[_],y==null||y.focus(u),d+=a}while(y!==s.activeElement);return e&6&&Vne(y)&&y.select(),2}function fj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $ne(){return/Android/gi.test(window.navigator.userAgent)}function zne(){return fj()||$ne()}function Rf(t,e,n,r){let i=Ih(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Hne(t,e,n,r){let i=Ih(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Q2=30;function qne(t,e,n){let r=Fx(t,"outside-click"),i=Ih(n),s=O.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let p=function y(_){return typeof _=="function"?y(_()):Array.isArray(_)||_ instanceof Set?_:[_]}(e);for(let y of p)if(y!==null&&(y.contains(d)||l.composed&&l.composedPath().includes(y)))return;return!Vx(d,jx.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,e]),o=O.useRef(null);Rf(r,"pointerdown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Rf(r,"mousedown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Rf(r,"click",l=>{zne()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=O.useRef({x:0,y:0});Rf(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Rf(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=Q2||Math.abs(u.y-a.current.y)>=Q2))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),Hne(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ux(...t){return O.useMemo(()=>zl(...t),[...t])}function dj(t,e){return O.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Wne(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Kne(){return fj()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Is();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Gne(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Qne(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ul=oj(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Is(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:Qne(n)},i=[Kne(),Wne(),Gne()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ul.subscribe(()=>{let t=ul.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ul.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ul.dispatch("TEARDOWN",n)}});function Yne(t,e,n=()=>({containers:[]})){let r=aj(ul),i=e?r.get(e):void 0,s=i?i.count>0:!1;return _n(()=>{if(!(!e||!t))return ul.dispatch("PUSH",e,n),()=>ul.dispatch("POP",e,n)},[t,e]),s}function Xne(t,e,n=()=>[document.body]){let r=Fx(t,"scroll-lock");Yne(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Y2(t){return[t.screenX,t.screenY]}function Jne(){let t=O.useRef([-1,-1]);return{wasMoved(e){let n=Y2(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Y2(e)}}}function Zne(t=0){let[e,n]=O.useState(t),r=O.useCallback(l=>n(l),[e]),i=O.useCallback(l=>n(u=>u|l),[e]),s=O.useCallback(l=>(e&l)===l,[e]),o=O.useCallback(l=>n(u=>u&~l),[n]),a=O.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var ere={},X2;typeof process<"u"&&typeof globalThis<"u"&&((X2=process==null?void 0:ere)==null?void 0:X2.NODE_ENV)==="test"&&typeof Element.prototype.getAnimations>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var tre=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(tre||{});function hj(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function pj(t,e,n,r){let[i,s]=O.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=Zne(t&&i?3:0),u=O.useRef(!1),d=O.useRef(!1),p=jy();return _n(()=>{var y;if(t){if(n&&s(!0),!e){n&&a(3);return}return(y=void 0)==null||y.call(r,n),nre(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var _;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(_=void 0)==null||_.call(r,n))}})}},[t,n,e,p]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function nre(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Is();return ire(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(rre(t,r))})}),s.dispose}function rre(t,e){var n,r;let i=Is();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function ire(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function sre(t,{container:e,accept:n,walk:r}){let i=O.useRef(n),s=O.useRef(r);O.useEffect(()=>{i.current=n,s.current=r},[n,r]),_n(()=>{if(!e||!t)return;let o=zl(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(p=>a(p),{acceptNode:a}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,t,i,s])}function $c(t){return mj(t)?(t.nodeName||"").toLowerCase():"#document"}function Zr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _o(t){var e;return(e=(mj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mj(t){return t instanceof Node||t instanceof Zr(t).Node}function wr(t){return t instanceof Element||t instanceof Zr(t).Element}function xs(t){return t instanceof HTMLElement||t instanceof Zr(t).HTMLElement}function J2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zr(t).ShadowRoot}function Ch(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ore(t){return["table","td","th"].includes($c(t))}function Uy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bx(t){const e=$x(),n=wr(t)?Gi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function are(t){let e=ga(t);for(;xs(e)&&!xc(e);){if(Bx(e))return e;if(Uy(e))return null;e=ga(e)}return null}function $x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xc(t){return["html","body","#document"].includes($c(t))}function Gi(t){return Zr(t).getComputedStyle(t)}function By(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ga(t){if($c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J2(t)&&t.host||_o(t);return J2(e)?e.host:e}function gj(t){const e=ga(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:xs(e)&&Ch(e)?e:gj(e)}function Wd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=gj(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Zr(i);if(s){const a=$b(o);return e.concat(o,o.visualViewport||[],Ch(i)?i:[],a&&n?Wd(a):[])}return e.concat(i,Wd(i,[],n))}function $b(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lre(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Go=Math.min,qr=Math.max,Pg=Math.round,Up=Math.floor,ya=t=>({x:t,y:t}),ure={left:"right",right:"left",bottom:"top",top:"bottom"},cre={start:"end",end:"start"};function Z2(t,e,n){return qr(t,Go(e,n))}function zc(t,e){return typeof t=="function"?t(e):t}function va(t){return t.split("-")[0]}function Ah(t){return t.split("-")[1]}function yj(t){return t==="x"?"y":"x"}function vj(t){return t==="y"?"height":"width"}function Ll(t){return["top","bottom"].includes(va(t))?"y":"x"}function _j(t){return yj(Ll(t))}function fre(t,e,n){n===void 0&&(n=!1);const r=Ah(t),i=_j(t),s=vj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kg(o)),[o,kg(o)]}function dre(t){const e=kg(t);return[zb(t),e,zb(e)]}function zb(t){return t.replace(/start|end/g,e=>cre[e])}function hre(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function pre(t,e,n,r){const i=Ah(t);let s=hre(va(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(zb)))),s}function kg(t){return t.replace(/left|right|bottom|top/g,e=>ure[e])}function mre(t){return{top:0,right:0,bottom:0,left:0,...t}}function gre(t){return typeof t!="number"?mre(t):{top:t,right:t,bottom:t,left:t}}function Og(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eP(t,e,n){let{reference:r,floating:i}=t;const s=Ll(e),o=_j(e),a=vj(o),l=va(e),u=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[a]/2-i[a]/2;let _;switch(l){case"top":_={x:d,y:r.y-i.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:p};break;case"left":_={x:r.x-i.width,y:p};break;default:_={x:r.x,y:r.y}}switch(Ah(e)){case"start":_[o]-=y*(n&&u?-1:1);break;case"end":_[o]+=y*(n&&u?-1:1);break}return _}const yre=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=eP(u,r,l),y=r,_={},E=0;for(let S=0;S<a.length;S++){const{name:C,fn:R}=a[S],{x:w,y:v,data:I,reset:k}=await R({x:d,y:p,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,p=v??p,_={..._,[C]:{..._[C],...I}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(y=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:p}=eP(u,y,l)),S=-1)}return{x:d,y:p,placement:y,strategy:i,middlewareData:_}};async function $y(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:y=!1,padding:_=0}=zc(e,t),E=gre(_),C=a[y?p==="floating"?"reference":"floating":p],R=Og(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},k=Og(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:v,strategy:l}):w);return{top:(R.top-k.top+E.top)/I.y,bottom:(k.bottom-R.bottom+E.bottom)/I.y,left:(R.left-k.left+E.left)/I.x,right:(k.right-R.right+E.right)/I.x}}const vre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...C}=zc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=va(i),w=Ll(a),v=va(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=y||(v||!S?[kg(a)]:dre(a)),B=E!=="none";!y&&B&&k.push(...pre(a,S,E,I));const D=[a,...k],T=await $y(e,C),N=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[R]),p){const le=fre(i,o,I);N.push(T[le[0]],T[le[1]])}if(L=[...L,{placement:i,overflows:N}],!N.every(le=>le<=0)){var j,V;const le=(((j=s.flip)==null?void 0:j.index)||0)+1,me=D[le];if(me)return{data:{index:le,overflows:L},reset:{placement:me}};let he=(V=L.filter(Y=>Y.overflows[0]<=0).sort((Y,Q)=>Y.overflows[1]-Q.overflows[1])[0])==null?void 0:V.placement;if(!he)switch(_){case"bestFit":{var M;const Y=(M=L.filter(Q=>{if(B){const X=Ll(Q.placement);return X===w||X==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(X=>X>0).reduce((X,fe)=>X+fe,0)]).sort((Q,X)=>Q[1]-X[1])[0])==null?void 0:M[0];Y&&(he=Y);break}case"initialPlacement":he=a;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function _re(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=va(n),a=Ah(n),l=Ll(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,p=zc(e,t);let{mainAxis:y,crossAxis:_,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof E=="number"&&(_=a==="end"?E*-1:E),l?{x:_*d,y:y*u}:{x:y*u,y:_*d}}const wre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await _re(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Ere=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:R,y:w}=C;return{x:R,y:w}}},...l}=zc(t,e),u={x:n,y:r},d=await $y(e,l),p=Ll(va(i)),y=yj(p);let _=u[y],E=u[p];if(s){const C=y==="y"?"top":"left",R=y==="y"?"bottom":"right",w=_+d[C],v=_-d[R];_=Z2(w,_,v)}if(o){const C=p==="y"?"top":"left",R=p==="y"?"bottom":"right",w=E+d[C],v=E-d[R];E=Z2(w,E,v)}const S=a.fn({...e,[y]:_,[p]:E});return{...S,data:{x:S.x-n,y:S.y-r}}}}},bre=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=zc(t,e),l=await $y(e,a),u=va(n),d=Ah(n),p=Ll(n)==="y",{width:y,height:_}=r.floating;let E,S;u==="top"||u==="bottom"?(E=u,S=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(S=u,E=d==="end"?"top":"bottom");const C=_-l.top-l.bottom,R=y-l.left-l.right,w=Go(_-l[E],C),v=Go(y-l[S],R),I=!e.middlewareData.shift;let k=w,B=v;if(p?B=d||I?Go(v,R):R:k=d||I?Go(w,C):C,I&&!d){const T=qr(l.left,0),N=qr(l.right,0),L=qr(l.top,0),j=qr(l.bottom,0);p?B=y-2*(T!==0||N!==0?T+N:qr(l.left,l.right)):k=_-2*(L!==0||j!==0?L+j:qr(l.top,l.bottom))}await o({...e,availableWidth:B,availableHeight:k});const D=await i.getDimensions(s.floating);return y!==D.width||_!==D.height?{reset:{rects:!0}}:{}}}};function wj(t){const e=Gi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xs(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pg(n)!==s||Pg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zx(t){return wr(t)?t:t.contextElement}function ic(t){const e=zx(t);if(!xs(e))return ya(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=wj(e);let o=(s?Pg(n.width):n.width)/r,a=(s?Pg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Tre=ya(0);function Ej(t){const e=Zr(t);return!$x()||!e.visualViewport?Tre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zr(t)?!1:e}function Ml(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=zx(t);let o=ya(1);e&&(r?wr(r)&&(o=ic(r)):o=ic(t));const a=Sre(s,n,r)?Ej(s):ya(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(s){const y=Zr(s),_=r&&wr(r)?Zr(r):r;let E=y,S=$b(E);for(;S&&r&&_!==E;){const C=ic(S),R=S.getBoundingClientRect(),w=Gi(S),v=R.left+(S.clientLeft+parseFloat(w.paddingLeft))*C.x,I=R.top+(S.clientTop+parseFloat(w.paddingTop))*C.y;l*=C.x,u*=C.y,d*=C.x,p*=C.y,l+=v,u+=I,E=Zr(S),S=$b(E)}}return Og({width:d,height:p,x:l,y:u})}function xre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=_o(r),a=e?Uy(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ya(1);const d=ya(0),p=xs(r);if((p||!p&&!s)&&(($c(r)!=="body"||Ch(o))&&(l=By(r)),xs(r))){const y=Ml(r);u=ic(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Rre(t){return Array.from(t.getClientRects())}function bj(t){return Ml(_o(t)).left+By(t).scrollLeft}function Ire(t){const e=_o(t),n=By(t),r=t.ownerDocument.body,i=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bj(t);const a=-n.scrollTop;return Gi(r).direction==="rtl"&&(o+=qr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Cre(t,e){const n=Zr(t),r=_o(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=$x();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Are(t,e){const n=Ml(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=xs(t)?ic(t):ya(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function tP(t,e,n){let r;if(e==="viewport")r=Cre(t,n);else if(e==="document")r=Ire(_o(t));else if(wr(e))r=Are(e,n);else{const i=Ej(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Og(r)}function Tj(t,e){const n=ga(t);return n===e||!wr(n)||xc(n)?!1:Gi(n).position==="fixed"||Tj(n,e)}function Pre(t,e){const n=e.get(t);if(n)return n;let r=Wd(t,[],!1).filter(a=>wr(a)&&$c(a)!=="body"),i=null;const s=Gi(t).position==="fixed";let o=s?ga(t):t;for(;wr(o)&&!xc(o);){const a=Gi(o),l=Bx(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ch(o)&&!l&&Tj(t,o))?r=r.filter(d=>d!==o):i=a,o=ga(o)}return e.set(t,r),r}function kre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Uy(e)?[]:Pre(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=tP(e,d,i);return u.top=qr(p.top,u.top),u.right=Go(p.right,u.right),u.bottom=Go(p.bottom,u.bottom),u.left=qr(p.left,u.left),u},tP(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ore(t){const{width:e,height:n}=wj(t);return{width:e,height:n}}function Nre(t,e,n){const r=xs(e),i=_o(e),s=n==="fixed",o=Ml(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ya(0);if(r||!r&&!s)if(($c(e)!=="body"||Ch(i))&&(a=By(e)),r){const p=Ml(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=bj(i));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function D_(t){return Gi(t).position==="static"}function nP(t,e){return!xs(t)||Gi(t).position==="fixed"?null:e?e(t):t.offsetParent}function Sj(t,e){const n=Zr(t);if(Uy(t))return n;if(!xs(t)){let i=ga(t);for(;i&&!xc(i);){if(wr(i)&&!D_(i))return i;i=ga(i)}return n}let r=nP(t,e);for(;r&&ore(r)&&D_(r);)r=nP(r,e);return r&&xc(r)&&D_(r)&&!Bx(r)?n:r||are(t)||n}const Dre=async function(t){const e=this.getOffsetParent||Sj,n=this.getDimensions,r=await n(t.floating);return{reference:Nre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lre(t){return Gi(t).direction==="rtl"}const Mre={convertOffsetParentRelativeRectToViewportRelativeRect:xre,getDocumentElement:_o,getClippingRect:kre,getOffsetParent:Sj,getElementRects:Dre,getClientRects:Rre,getDimensions:Ore,getScale:ic,isElement:wr,isRTL:Lre};function Fre(t,e){let n=null,r;const i=_o(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:p,height:y}=t.getBoundingClientRect();if(a||e(),!p||!y)return;const _=Up(d),E=Up(i.clientWidth-(u+p)),S=Up(i.clientHeight-(d+y)),C=Up(u),w={rootMargin:-_+"px "+-E+"px "+-S+"px "+-C+"px",threshold:qr(0,Go(1,l))||1};let v=!0;function I(k){const B=k[0].intersectionRatio;if(B!==l){if(!v)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(I,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,w)}n.observe(t)}return o(!0),s}function jre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=zx(t),d=i||s?[...u?Wd(u):[],...Wd(e)]:[];d.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const p=u&&a?Fre(u,n):null;let y=-1,_=null;o&&(_=new ResizeObserver(R=>{let[w]=R;w&&w.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var v;(v=_)==null||v.observe(e)})),n()}),u&&!l&&_.observe(u),_.observe(e));let E,S=l?Ml(t):null;l&&C();function C(){const R=Ml(t);S&&(R.x!==S.x||R.y!==S.y||R.width!==S.width||R.height!==S.height)&&n(),S=R,E=requestAnimationFrame(C)}return n(),()=>{var R;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),p==null||p(),(R=_)==null||R.disconnect(),_=null,l&&cancelAnimationFrame(E)}}const L_=$y,Vre=wre,Ure=Ere,Bre=vre,$re=bre,zre=(t,e,n)=>{const r=new Map,i={platform:Mre,...n},s={...i.platform,_c:r};return yre(t,e,{...i,platform:s})};var gm=typeof document<"u"?O.useLayoutEffect:O.useEffect;function Ng(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ng(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ng(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function xj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rP(t,e){const n=xj(t);return Math.round(e*n)/n}function iP(t){const e=O.useRef(t);return gm(()=>{e.current=t}),e}function Hre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=O.useState(r);Ng(y,r)||_(r);const[E,S]=O.useState(null),[C,R]=O.useState(null),w=O.useCallback(Y=>{Y!==B.current&&(B.current=Y,S(Y))},[]),v=O.useCallback(Y=>{Y!==D.current&&(D.current=Y,R(Y))},[]),I=s||E,k=o||C,B=O.useRef(null),D=O.useRef(null),T=O.useRef(d),N=l!=null,L=iP(l),j=iP(i),V=O.useCallback(()=>{if(!B.current||!D.current)return;const Y={placement:e,strategy:n,middleware:y};j.current&&(Y.platform=j.current),zre(B.current,D.current,Y).then(Q=>{const X={...Q,isPositioned:!0};M.current&&!Ng(T.current,X)&&(T.current=X,Mr.flushSync(()=>{p(X)}))})},[y,e,n,j]);gm(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[u]);const M=O.useRef(!1);gm(()=>(M.current=!0,()=>{M.current=!1}),[]),gm(()=>{if(I&&(B.current=I),k&&(D.current=k),I&&k){if(L.current)return L.current(I,k,V);V()}},[I,k,V,L,N]);const le=O.useMemo(()=>({reference:B,floating:D,setReference:w,setFloating:v}),[w,v]),me=O.useMemo(()=>({reference:I,floating:k}),[I,k]),he=O.useMemo(()=>{const Y={position:n,left:0,top:0};if(!me.floating)return Y;const Q=rP(me.floating,d.x),X=rP(me.floating,d.y);return a?{...Y,transform:"translate("+Q+"px, "+X+"px)",...xj(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:X}},[n,a,me.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:V,refs:le,elements:me,floatingStyles:he}),[d,V,le,me,he])}const Rj=(t,e)=>({...Vre(t),options:[t,e]}),qre=(t,e)=>({...Ure(t),options:[t,e]}),Wre=(t,e)=>({...Bre(t),options:[t,e]}),Kre=(t,e)=>({...$re(t),options:[t,e]}),Ij={...vm},Gre=Ij.useInsertionEffect,Qre=Gre||(t=>t());function Cj(t){const e=O.useRef(()=>{});return Qre(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Hb=typeof document<"u"?O.useLayoutEffect:O.useEffect;let sP=!1,Yre=0;const oP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Yre++;function Xre(){const[t,e]=O.useState(()=>sP?oP():void 0);return Hb(()=>{t==null&&e(oP())},[]),O.useEffect(()=>{sP=!0},[]),t}const Jre=Ij.useId,Zre=Jre||Xre;function eie(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const tie=O.createContext(null),nie=O.createContext(null),rie=()=>{var t;return((t=O.useContext(tie))==null?void 0:t.id)||null},iie=()=>O.useContext(nie),sie="data-floating-ui-focusable";function oie(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Zre(),s=O.useRef({}),[o]=O.useState(()=>eie()),a=rie()!=null,[l,u]=O.useState(r.reference),d=Cj((_,E,S)=>{s.current.openEvent=_?E:void 0,o.emit("openchange",{open:_,event:E,reason:S,nested:a}),n==null||n(_,E,S)}),p=O.useMemo(()=>({setPositionReference:u}),[]),y=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:y,events:o,floatingId:i,refs:p}),[e,d,y,o,i,p])}function aie(t){t===void 0&&(t={});const{nodeId:e}=t,n=oie({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=O.useState(null),[a,l]=O.useState(null),d=(i==null?void 0:i.reference)||s,p=O.useRef(null),y=iie();Hb(()=>{d&&(p.current=d)},[d]);const _=Hre({...t,elements:{...i,...a&&{reference:a}}}),E=O.useCallback(v=>{const I=wr(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(I),_.refs.setReference(I)},[_.refs]),S=O.useCallback(v=>{(wr(v)||v===null)&&(p.current=v,o(v)),(wr(_.refs.reference.current)||_.refs.reference.current===null||v!==null&&!wr(v))&&_.refs.setReference(v)},[_.refs]),C=O.useMemo(()=>({..._.refs,setReference:S,setPositionReference:E,domReference:p}),[_.refs,S,E]),R=O.useMemo(()=>({..._.elements,domReference:d}),[_.elements,d]),w=O.useMemo(()=>({..._,...r,refs:C,elements:R,nodeId:e}),[_,C,R,e,r]);return Hb(()=>{r.dataRef.current.floatingContext=w;const v=y==null?void 0:y.nodesRef.current.find(I=>I.id===e);v&&(v.context=w)}),O.useMemo(()=>({..._,context:w,refs:C,elements:R}),[_,C,R,w])}const aP="active",lP="selected";function M_(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[aP]:o,[lP]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[sie]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[aP,lP].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var p;(p=r.get(u))==null||p.push(d),o[u]=function(){for(var y,_=arguments.length,E=new Array(_),S=0;S<_;S++)E[S]=arguments[S];return(y=r.get(u))==null?void 0:y.map(C=>C(...E)).find(C=>C!==void 0)}}}else o[u]=d}),o),{})}}function lie(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=O.useCallback(a=>M_(a,t,"reference"),e),s=O.useCallback(a=>M_(a,t,"floating"),n),o=O.useCallback(a=>M_(a,t,"item"),r);return O.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function uP(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const uie=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=zc(t,e),{rects:p,elements:{floating:y}}=e,_=n.current[o],E=(u==null?void 0:u.current)||y,S=y.clientTop||E.clientTop,C=y.clientTop!==0,R=E.clientTop!==0,w=y===E;if(!_)return{};const v={...e,...await Rj(-_.offsetTop-y.clientTop-p.reference.height/2-_.offsetHeight/2-s).fn(e)},I=await L_(uP(v,E.scrollHeight+S+y.clientTop),d),k=await L_(v,{...d,elementContext:"reference"}),B=Math.max(0,I.top),D=v.y+B,T=Math.max(0,E.scrollHeight+(C&&w||R?S*2:0)-B-Math.max(0,I.bottom));return E.style.maxHeight=T+"px",E.scrollTop=B,i&&(E.offsetHeight<_.offsetHeight*Math.min(a,n.current.length-1)-1||k.top>=-l||k.bottom>=-l?Mr.flushSync(()=>i(!0)):Mr.flushSync(()=>i(!1))),r&&(r.current=await L_(uP({...v,y:D},E.offsetHeight+S+y.clientTop),d)),{y:D}}});function cie(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Cj(a),u=O.useRef(!1),d=O.useRef(null),p=O.useRef(null);O.useEffect(()=>{if(!i)return;function _(S){if(S.ctrlKey||!E||s.current==null)return;const C=S.deltaY,R=s.current.top>=-.5,w=s.current.bottom>=-.5,v=E.scrollHeight-E.clientHeight,I=C<0?-1:1,k=C<0?"max":"min";E.scrollHeight<=E.clientHeight||(!R&&C>0||!w&&C<0?(S.preventDefault(),Mr.flushSync(()=>{l(B=>B+Math[k](C,v*I))})):/firefox/i.test(lre())&&(E.scrollTop+=C))}const E=(o==null?void 0:o.current)||r.floating;if(n&&E)return E.addEventListener("wheel",_),requestAnimationFrame(()=>{d.current=E.scrollTop,s.current!=null&&(p.current={...s.current})}),()=>{d.current=null,p.current=null,E.removeEventListener("wheel",_)}},[i,n,r.floating,s,o,l]);const y=O.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const _=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!_||!u.current)){if(d.current!==null){const E=_.scrollTop-d.current;(s.current.bottom<-.5&&E<-1||s.current.top<-.5&&E>1)&&Mr.flushSync(()=>l(S=>S+E))}requestAnimationFrame(()=>{d.current=_.scrollTop})}}}),[r.floating,l,s,o]);return O.useMemo(()=>i?{floating:y}:{},[i,y])}let Hc=O.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Hc.displayName="FloatingContext";let Hx=O.createContext(null);Hx.displayName="PlacementContext";function fie(t){return O.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function die(){return O.useContext(Hc).setReference}function hie(){return O.useContext(Hc).getReferenceProps}function pie(){let{getFloatingProps:t,slot:e}=O.useContext(Hc);return O.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function mie(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=O.useContext(Hx),n=O.useMemo(()=>t,[JSON.stringify(t,typeof HTMLElement<"u"?(i,s)=>s instanceof HTMLElement?s.outerHTML:s:void 0)]);_n(()=>{e==null||e(n??null)},[e,n]);let r=O.useContext(Hc);return O.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let cP=4;function gie({children:t,enabled:e=!0}){let[n,r]=O.useState(null),[i,s]=O.useState(0),o=O.useRef(null),[a,l]=O.useState(null);yie(a);let u=e&&n!==null&&a!==null,{to:d="bottom",gap:p=0,offset:y=0,padding:_=0,inner:E}=vie(n,a),[S,C="center"]=d.split(" ");_n(()=>{u&&s(0)},[u]);let{refs:R,floatingStyles:w,context:v}=aie({open:u,placement:S==="selection"?C==="center"?"bottom":`bottom-${C}`:C==="center"?`${S}`:`${S}-${C}`,strategy:"absolute",transform:!1,middleware:[Rj({mainAxis:S==="selection"?0:p,crossAxis:y}),qre({padding:_}),S!=="selection"&&Wre({padding:_}),S==="selection"&&E?uie({...E,padding:_,overflowRef:o,offset:i,minItemsVisible:cP,referenceOverflowThreshold:_,onFallbackChange(j){var V,M;if(!j)return;let le=v.elements.floating;if(!le)return;let me=parseFloat(getComputedStyle(le).scrollPaddingBottom)||0,he=Math.min(cP,le.childElementCount),Y=0,Q=0;for(let X of(M=(V=v.elements.floating)==null?void 0:V.childNodes)!=null?M:[])if(X instanceof HTMLElement){let fe=X.offsetTop,te=fe+X.clientHeight+me,$=le.scrollTop,K=$+le.clientHeight;if(fe>=$&&te<=K)he--;else{Q=Math.max(0,Math.min(te,K)-Math.max(fe,$)),Y=X.clientHeight;break}}he>=1&&s(X=>{let fe=Y*he-Q+me;return X>=fe?X:fe})}}):null,Kre({padding:_,apply({availableWidth:j,availableHeight:V,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${V}px)`})}})].filter(Boolean),whileElementsMounted:jre}),[I=S,k=C]=v.placement.split("-");S==="selection"&&(I="selection");let B=O.useMemo(()=>({anchor:[I,k].filter(Boolean).join(" ")}),[I,k]),D=cie(v,{overflowRef:o,onChange:s}),{getReferenceProps:T,getFloatingProps:N}=lie([D]),L=St(j=>{l(j),R.setFloating(j)});return O.createElement(Hx.Provider,{value:r},O.createElement(Hc.Provider,{value:{setFloating:L,setReference:R.setReference,styles:w,getReferenceProps:T,getFloatingProps:N,slot:B}},t))}function yie(t){_n(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function vie(t,e){var n,r,i;let s=F_((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=F_((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=F_((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function F_(t,e,n=void 0){let r=jy(),i=St((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=fP(l,u);return[d,p=>{let y=Aj(l);{let _=y.map(E=>window.getComputedStyle(u).getPropertyValue(E));r.requestAnimationFrame(function E(){r.nextFrame(E);let S=!1;for(let[R,w]of y.entries()){let v=window.getComputedStyle(u).getPropertyValue(w);if(_[R]!==v){_[R]=v,S=!0;break}}if(!S)return;let C=fP(l,u);d!==C&&(p(C),d=C)})}return r.dispose}]}return[n,null]}),s=O.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=O.useState();return _n(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function Aj(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Aj(i)]:[r]}return[]}function fP(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let zy=O.createContext(null);zy.displayName="OpenClosedContext";var po=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(po||{});function Pj(){return O.useContext(zy)}function kj({value:t,children:e}){return Pe.createElement(zy.Provider,{value:t},e)}function _ie({children:t}){return Pe.createElement(zy.Provider,{value:null},t)}function wie(t){throw new Error("Unexpected object: "+t)}var lr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(lr||{});function j_(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:wie(t)}}function Eie(t){let e=St(t),n=O.useRef(!1);O.useEffect(()=>(n.current=!1,()=>{n.current=!0,XF(()=>{n.current&&e()})}),[e])}function bie(){let t=typeof document>"u";return"useSyncExternalStore"in vm?(e=>e.useSyncExternalStore)(vm)(()=>()=>{},()=>!1,()=>!t):!1}function Tie(){let t=bie(),[e,n]=O.useState(gl.isHandoffComplete);return e&&gl.isHandoffComplete===!1&&n(!1),O.useEffect(()=>{e!==!0&&n(!0)},[e]),O.useEffect(()=>gl.handoff(),[]),t?!1:e}let Sie=O.createContext(!1);function xie(){return O.useContext(Sie)}function Rie(t){let e=xie(),n=O.useContext(Nj),r=Ux(t),[i,s]=O.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(gl.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return O.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),O.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let Oj=O.Fragment,Iie=xr(function(t,e){let n=t,r=O.useRef(null),i=wi(rj(d=>{r.current=d}),e),s=Ux(r),o=Rie(r),[a]=O.useState(()=>{var d;return gl.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=O.useContext(kie),u=Tie();return _n(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),_n(()=>{if(a&&l)return l.register(a)},[l,a]),Eie(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:Mr.createPortal(Sr({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Oj,name:"Portal"}),a):null});function Cie(t,e){let n=wi(e),{enabled:r=!0,...i}=t;return r?Pe.createElement(Iie,{...i,ref:n}):Sr({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Oj,name:"Portal"})}let Aie=O.Fragment,Nj=O.createContext(null);function Pie(t,e){let{target:n,...r}=t,i={ref:wi(e)};return Pe.createElement(Nj.Provider,{value:n},Sr({ourProps:i,theirProps:r,defaultTag:Aie,name:"Popover.Group"}))}let kie=O.createContext(null),Oie=xr(Cie),Nie=xr(Pie),Die=Object.assign(Oie,{Group:Nie});var dP;let Lie=(dP=Pe.startTransition)!=null?dP:function(t){t()};var Mie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Mie||{}),Fie=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(Fie||{});let jie={0:t=>({...t,disclosureState:ka(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}},4(t,e){return t.buttonElement===e.element?t:{...t,buttonElement:e.element}},5(t,e){return t.panelElement===e.element?t:{...t,panelElement:e.element}}},qx=O.createContext(null);qx.displayName="DisclosureContext";function Wx(t){let e=O.useContext(qx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wx),n}return e}let Kx=O.createContext(null);Kx.displayName="DisclosureAPIContext";function Dj(t){let e=O.useContext(Kx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dj),n}return e}let Gx=O.createContext(null);Gx.displayName="DisclosurePanelContext";function Vie(){return O.useContext(Gx)}function Uie(t,e){return ka(e.type,jie,t,e)}let Bie=O.Fragment;function $ie(t,e){let{defaultOpen:n=!1,...r}=t,i=O.useRef(null),s=wi(e,rj(E=>{i.current=E},t.as===void 0||t.as===O.Fragment)),o=O.useReducer(Uie,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:l},u]=o,d=St(E=>{u({type:1});let S=zl(i);if(!S||!l)return;let C=E?E instanceof HTMLElement?E:E.current instanceof HTMLElement?E.current:S.getElementById(l):S.getElementById(l);C==null||C.focus()}),p=O.useMemo(()=>({close:d}),[d]),y=O.useMemo(()=>({open:a===0,close:d}),[a,d]),_={ref:s};return Pe.createElement(qx.Provider,{value:o},Pe.createElement(Kx.Provider,{value:p},Pe.createElement(xne,{value:d},Pe.createElement(kj,{value:ka(a,{0:po.Open,1:po.Closed})},Sr({ourProps:_,theirProps:r,slot:y,defaultTag:Bie,name:"Disclosure"})))))}let zie="button";function Hie(t,e){let n=O.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:i=!1,autoFocus:s=!1,...o}=t,[a,l]=Wx("Disclosure.Button"),u=Vie(),d=u===null?!1:u===a.panelId,p=O.useRef(null),y=wi(p,e,St(L=>{if(!d)return l({type:4,element:L})})),_=Dx();O.useEffect(()=>{if(!d)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}},[r,l,d]);let E=St(L=>{var j;if(d){if(a.disclosureState===1)return;switch(L.key){case sn.Space:case sn.Enter:L.preventDefault(),L.stopPropagation(),l({type:0}),(j=a.buttonElement)==null||j.focus();break}}else switch(L.key){case sn.Space:case sn.Enter:L.preventDefault(),L.stopPropagation(),l({type:0});break}}),S=St(L=>{switch(L.key){case sn.Space:L.preventDefault();break}}),C=St(L=>{var j;tj(L.currentTarget)||i||(d?(l({type:0}),(j=a.buttonElement)==null||j.focus()):l({type:0}))}),{isFocusVisible:R,focusProps:w}=YF({autoFocus:s}),{isHovered:v,hoverProps:I}=QF({isDisabled:i}),{pressed:k,pressProps:B}=JF({disabled:i}),D=O.useMemo(()=>({open:a.disclosureState===0,hover:v,active:k,disabled:i,focus:R,autofocus:s}),[a,v,k,R,i,s]),T=dj(t,a.buttonElement),N=Ag(d?{ref:y,type:T,disabled:i||void 0,autoFocus:s,onKeyDown:E,onClick:C}:{ref:y,id:r,type:T,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:i||void 0,autoFocus:s,onKeyDown:E,onKeyUp:S,onClick:C},w,I,B);return Sr({mergeRefs:_,ourProps:N,theirProps:o,slot:D,defaultTag:zie,name:"Disclosure.Button"})}let qie="div",Wie=qd.RenderStrategy|qd.Static;function Kie(t,e){let n=O.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:i=!1,...s}=t,[o,a]=Wx("Disclosure.Panel"),{close:l}=Dj("Disclosure.Panel"),u=Dx(),[d,p]=O.useState(null),y=wi(e,St(w=>{Lie(()=>a({type:5,element:w}))}),p);O.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let _=Pj(),[E,S]=pj(i,d,_!==null?(_&po.Open)===po.Open:o.disclosureState===0),C=O.useMemo(()=>({open:o.disclosureState===0,close:l}),[o.disclosureState,l]),R={ref:y,id:r,...hj(S)};return Pe.createElement(_ie,null,Pe.createElement(Gx.Provider,{value:o.panelId},Sr({mergeRefs:u,ourProps:R,theirProps:s,slot:C,defaultTag:qie,features:Wie,visible:E,name:"Disclosure.Panel"})))}let Gie=xr($ie),qb=xr(Hie),Lj=xr(Kie),Qie=Object.assign(Gie,{Button:qb,Panel:Lj});function Yie(t,e){let n=O.useRef({left:0,top:0});if(_n(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let hP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function pP(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return hP.test(o)&&(o=o.replace(hP,"")),o}function Xie(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():pP(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return pP(t).trim()}function Jie(t){let e=O.useRef(""),n=O.useRef("");return St(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Xie(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var Zie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Zie||{}),ese=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ese||{}),tse=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(tse||{});function V_(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=cj(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let nse={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===lr.Nothing)return{...a,activeItemIndex:null};if(e.focus===lr.Specific)return{...a,activeItemIndex:t.items.findIndex(d=>d.id===e.id)};if(e.focus===lr.Previous){let d=t.activeItemIndex;if(d!==null){let p=t.items[d].dataRef.current.domRef,y=j_(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=t.items[y].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===_.current||((i=_.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:y}}}}else if(e.focus===lr.Next){let d=t.activeItemIndex;if(d!==null){let p=t.items[d].dataRef.current.domRef,y=j_(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=t.items[y].dataRef.current.domRef;if(((s=p.current)==null?void 0:s.nextElementSibling)===_.current||((o=_.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:y}}}}let l=V_(t),u=j_(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=V_(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=V_(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},Qx=O.createContext(null);Qx.displayName="MenuContext";function Hy(t){let e=O.useContext(Qx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hy),n}return e}function rse(t,e){return ka(e.type,nse,t,e)}let ise=O.Fragment;function sse(t,e){let{__demoMode:n=!1,...r}=t,i=O.useReducer(rse,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:o,buttonElement:a},l]=i,u=wi(e);qne(s===0,[a,o],(_,E)=>{l({type:1}),Vx(E,jx.Loose)||(_.preventDefault(),a==null||a.focus())});let d=St(()=>{l({type:1})}),p=O.useMemo(()=>({open:s===0,close:d}),[s,d]),y={ref:u};return Pe.createElement(gie,null,Pe.createElement(Qx.Provider,{value:i},Pe.createElement(kj,{value:ka(s,{0:po.Open,1:po.Closed})},Sr({ourProps:y,theirProps:r,slot:p,defaultTag:ise,name:"Menu"}))))}let ose="button";function ase(t,e){var n;let r=O.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,[l,u]=Hy("Menu.Button"),d=hie(),p=Dx(),y=wi(e,die(),St(T=>u({type:7,element:T}))),_=St(T=>{switch(T.key){case sn.Space:case sn.Enter:case sn.ArrowDown:T.preventDefault(),T.stopPropagation(),Mr.flushSync(()=>u({type:0})),u({type:2,focus:lr.First});break;case sn.ArrowUp:T.preventDefault(),T.stopPropagation(),Mr.flushSync(()=>u({type:0})),u({type:2,focus:lr.Last});break}}),E=St(T=>{switch(T.key){case sn.Space:T.preventDefault();break}}),S=St(T=>{var N;if(tj(T.currentTarget))return T.preventDefault();s||(l.menuState===0?(Mr.flushSync(()=>u({type:1})),(N=l.buttonElement)==null||N.focus({preventScroll:!0})):(T.preventDefault(),u({type:0})))}),{isFocusVisible:C,focusProps:R}=YF({autoFocus:o}),{isHovered:w,hoverProps:v}=QF({isDisabled:s}),{pressed:I,pressProps:k}=JF({disabled:s}),B=O.useMemo(()=>({open:l.menuState===0,active:I||l.menuState===0,disabled:s,hover:w,focus:C,autofocus:o}),[l,w,C,I,s,o]),D=Ag(d(),{ref:y,id:i,type:dj(t,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:_,onKeyUp:E,onClick:S},R,v,k);return Sr({mergeRefs:p,ourProps:D,theirProps:a,slot:B,defaultTag:ose,name:"Menu.Button"})}let lse="div",use=qd.RenderStrategy|qd.Static;function cse(t,e){var n,r;let i=O.useId(),{id:s=`headlessui-menu-items-${i}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...d}=t,p=fie(o),[y,_]=Hy("Menu.Items"),[E,S]=mie(p),C=pie(),[R,w]=O.useState(null),v=wi(e,p?E:null,St(Y=>_({type:8,element:Y})),w),I=Ux(y.itemsElement);p&&(a=!0);let k=Pj(),[B,D]=pj(u,R,k!==null?(k&po.Open)===po.Open:y.menuState===0);kne(B,y.buttonElement,()=>{_({type:1})});let T=y.__demoMode?!1:l&&y.menuState===0;Xne(T,I);let N=y.__demoMode?!1:l&&y.menuState===0;Pne(N,{allowed:O.useCallback(()=>[y.buttonElement,y.itemsElement],[y.buttonElement,y.itemsElement])});let L=y.menuState!==0,j=Yie(L,y.buttonElement)?!1:B;O.useEffect(()=>{let Y=y.itemsElement;Y&&y.menuState===0&&Y!==(I==null?void 0:I.activeElement)&&Y.focus({preventScroll:!0})},[y.menuState,y.itemsElement,I]),sre(y.menuState===0,{container:y.itemsElement,accept(Y){return Y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Y){Y.setAttribute("role","none")}});let V=jy(),M=St(Y=>{var Q,X,fe;switch(V.dispose(),Y.key){case sn.Space:if(y.searchQuery!=="")return Y.preventDefault(),Y.stopPropagation(),_({type:3,value:Y.key});case sn.Enter:if(Y.preventDefault(),Y.stopPropagation(),_({type:1}),y.activeItemIndex!==null){let{dataRef:te}=y.items[y.activeItemIndex];(X=(Q=te.current)==null?void 0:Q.domRef.current)==null||X.click()}uj(y.buttonElement);break;case sn.ArrowDown:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:lr.Next});case sn.ArrowUp:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:lr.Previous});case sn.Home:case sn.PageUp:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:lr.First});case sn.End:case sn.PageDown:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:lr.Last});case sn.Escape:Y.preventDefault(),Y.stopPropagation(),Mr.flushSync(()=>_({type:1})),(fe=y.buttonElement)==null||fe.focus({preventScroll:!0});break;case sn.Tab:Y.preventDefault(),Y.stopPropagation(),Mr.flushSync(()=>_({type:1})),Une(y.buttonElement,Y.shiftKey?Bb.Previous:Bb.Next);break;default:Y.key.length===1&&(_({type:3,value:Y.key}),V.setTimeout(()=>_({type:4}),350));break}}),le=St(Y=>{switch(Y.key){case sn.Space:Y.preventDefault();break}}),me=O.useMemo(()=>({open:y.menuState===0}),[y.menuState]),he=Ag(p?C():{},{"aria-activedescendant":y.activeItemIndex===null||(n=y.items[y.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=y.buttonElement)==null?void 0:r.id,id:s,onKeyDown:M,onKeyUp:le,role:"menu",tabIndex:y.menuState===0?0:void 0,ref:v,style:{...d.style,...S,"--button-width":Ine(y.buttonElement,!0).width},...hj(D)});return Pe.createElement(Die,{enabled:a?t.static||B:!1},Sr({ourProps:he,theirProps:d,slot:me,defaultTag:lse,features:use,visible:j,name:"Menu.Items"}))}let fse=O.Fragment;function dse(t,e){let n=O.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Hy("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=O.useRef(null),d=wi(e,u);_n(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return Is().requestAnimationFrame(()=>{var N,L;(L=(N=u.current)==null?void 0:N.scrollIntoView)==null||L.call(N,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let p=Jie(u),y=O.useRef({disabled:i,domRef:u,get textValue(){return p()}});_n(()=>{y.current.disabled=i},[y,i]),_n(()=>(a({type:5,id:r,dataRef:y}),()=>a({type:6,id:r})),[y,r]);let _=St(()=>{a({type:1})}),E=St(N=>{if(i)return N.preventDefault();a({type:1}),uj(o.buttonElement)}),S=St(()=>{if(i)return a({type:2,focus:lr.Nothing});a({type:2,focus:lr.Specific,id:r})}),C=Jne(),R=St(N=>{C.update(N),!i&&(l||a({type:2,focus:lr.Specific,id:r,trigger:0}))}),w=St(N=>{C.wasMoved(N)&&(i||l||a({type:2,focus:lr.Specific,id:r,trigger:0}))}),v=St(N=>{C.wasMoved(N)&&(i||l&&a({type:2,focus:lr.Nothing}))}),[I,k]=sj(),[B,D]=gne(),T=O.useMemo(()=>({active:l,focus:l,disabled:i,close:_}),[l,i,_]);return Pe.createElement(k,null,Pe.createElement(D,null,Sr({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":I,"aria-describedby":B,disabled:void 0,onClick:E,onFocus:S,onPointerEnter:R,onMouseEnter:R,onPointerMove:w,onMouseMove:w,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:T,defaultTag:fse,name:"Menu.Item"})))}let hse="div";function pse(t,e){let[n,r]=sj();return Pe.createElement(r,null,Sr({ourProps:{ref:e,"aria-labelledby":n,role:"group"},theirProps:t,slot:{},defaultTag:hse,name:"Menu.Section"}))}let mse="header";function gse(t,e){let n=O.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=Mx();_n(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Sr({ourProps:o,theirProps:i,slot:{},defaultTag:mse,name:"Menu.Heading"})}let yse="div";function vse(t,e){return Sr({ourProps:{ref:e,role:"separator"},theirProps:t,slot:{},defaultTag:yse,name:"Menu.Separator"})}let _se=xr(sse),Mj=xr(ase),Fj=xr(cse),Wb=xr(dse),wse=xr(pse),Ese=xr(gse),bse=xr(vse),Tse=Object.assign(_se,{Button:Mj,Items:Fj,Item:Wb,Section:wse,Heading:Ese,Separator:bse});function Sse({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xse=O.forwardRef(Sse);function Rse({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ise=O.forwardRef(Rse);var jj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mP=Pe.createContext&&Pe.createContext(jj),Cse=["attr","size","title"];function Ase(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return e=Ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vj(t){return t&&t.map((e,n)=>Pe.createElement(e.tag,Lg({key:n},e.attr),Vj(e.child)))}function qc(t){return e=>Pe.createElement(Dse,Dg({attr:Lg({},t.attr)},e),Vj(t.child))}function Dse(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ase(t,Cse),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Pe.createElement("svg",Dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Lg(Lg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Pe.createElement("title",null,s),t.children)};return mP!==void 0?Pe.createElement(mP.Consumer,null,n=>e(n)):e(jj)}function Lse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(t)}function yP(...t){return t.filter(Boolean).join(" ")}function ai(){var l,u;const t=Ra(),{logoutUzer:e,currentUser:n,setCurrentUser:r}=dr(),{transformCloudinaryURL:i}=Ur(),s=[{name:"Home",href:"/r-social/",show:!!n},{name:"Register",href:"/r-social/register",show:!n},{name:"Sign in",href:"/r-social/login",show:!n},{name:"Profile",href:"/r-social/profile/me",show:!!n},{name:"Post",href:"/r-social/post",show:!!n},{name:"Posts",href:"/r-social/profile/posts",show:!!n}];function o(){e(),r(null),t("/r-social/login")}const a=()=>n&&n!=null&&n.profilePictureURL?i(n.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg";return O.useEffect(()=>{},[n]),x.jsxs(Qie,{as:"nav",className:"bg-gray-800 top-0 right-0 left-0  ",children:[x.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8 ",children:x.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:x.jsxs(qb,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[x.jsx("span",{className:"absolute -inset-0.5"}),x.jsx("span",{className:"sr-only",children:"Open main menu"}),x.jsx(xse,{"aria-hidden":"true",className:"block h-6 w-6 group-data-[open]:hidden"}),x.jsx(Ise,{"aria-hidden":"true",className:"hidden h-6 w-6 group-data-[open]:block"})]})}),x.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[x.jsx("div",{className:"flex flex-shrink-0 items-center font-mono text-white text-4xl",children:x.jsx(vr,{to:"/r-social/",children:"R-Social"})}),x.jsx("div",{className:"hidden sm:ml-6 sm:block",children:x.jsx("div",{className:"flex space-x-4",children:s.map(d=>x.jsx(vr,{to:d.href,"aria-current":d.current?"page":void 0,className:({isActive:p})=>yP("rounded-md px-3 py-2 text-sm font-medium",d.show?"":"hidden ",p?"bg-gray-900 text-cyan-500":"text-white hover:bg-gray-700 hover:text-white"),children:d.name},d.name))})})]}),x.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[x.jsx(vr,{to:"/r-social/search",children:x.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 mx-1 focus:ring-white focus:ring-offset-1 focus:ring-offset-gray-800",children:[x.jsx("span",{className:"absolute -inset-1.5"}),x.jsx("span",{className:"sr-only",children:"Search"}),x.jsx(Lse,{size:25})]})}),x.jsxs(Tse,{as:"div",className:"relative ml-3",children:[n&&x.jsx("div",{children:x.jsxs(Mj,{className:"relative flex rounded-full bg-gray-800 text-sm focus:outline-none ring-2 ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[x.jsx("span",{className:"absolute -inset-1.5"}),x.jsx("span",{className:"sr-only",children:"Open user menu"}),x.jsx("img",{src:a(),alt:"User Profile",className:"h-8 w-8 rounded-full"})]})}),x.jsxs(Fj,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-100 data-[enter]:ease-in-out data-[leave]:ease-in",children:[x.jsx("h1",{className:"text-blue-700 font-mono p-2 ml-2",children:n&&(((l=n==null?void 0:n.username)==null?void 0:l.toUpperCase())||((u=n==null?void 0:n.displayName)==null?void 0:u.toUpperCase()))}),x.jsx(Wb,{children:x.jsx(vr,{to:"/r-social/profile/me",className:"block px-4 py-2 text-sm text-gray-700 data-[focus]:bg-gray-100",children:"Your Profile"})}),x.jsx(Wb,{children:x.jsx(vr,{onClick:()=>{confirm("Do you wanna LOGOUT? ")&&o()},className:"block px-4 py-2 text-sm text-gray-700 data-[focus]:bg-gray-100",children:"Sign out"})})]})]})]})]})}),x.jsx(Lj,{className:"sm:hidden",children:x.jsx("div",{className:"space-y-1 px-2 pb-3 pt-2",children:s.map(d=>x.jsx(vr,{as:"NavLink",to:d.href,"aria-current":d.current?"page":void 0,className:({isActive:p})=>yP("block rounded-md px-3 py-2 text-base font-medium hover:cursor-pointer",d.show?"":"hidden ",p?"bg-gray-900 text-cyan-300":"text-white hover:bg-gray-700 hover:text-white"),children:x.jsx(qb,{children:d.name})},d.name))})})]})}function Mse(t){return qc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"},child:[]}]})(t)}function vP(t){return qc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"},child:[]}]})(t)}function Fse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288z"},child:[]}]})(t)}function jse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M383.822 344.427c-16.045 0-31.024 5.326-41.721 15.979l-152.957-88.42c1.071-5.328 2.142-9.593 2.142-14.919 0-5.328-1.071-9.593-2.142-14.919l150.826-87.35c11.762 10.653 26.741 17.041 43.852 17.041 35.295 0 64.178-28.766 64.178-63.92C448 72.767 419.117 44 383.822 44c-35.297 0-64.179 28.767-64.179 63.92 0 5.327 1.065 9.593 2.142 14.919l-150.821 87.35c-11.767-10.654-26.741-17.041-43.856-17.041-35.296 0-63.108 28.766-63.108 63.92 0 35.153 28.877 63.92 64.178 63.92 17.115 0 32.089-6.389 43.856-17.042l151.891 88.421c-1.076 4.255-2.141 8.521-2.141 13.847 0 34.094 27.806 61.787 62.037 61.787 34.229 0 62.036-27.693 62.036-61.787.001-34.094-27.805-61.787-62.035-61.787z"},child:[]}]})(t)}const Vse=({comment:t,pid:e})=>{const{db:n,currentUser:r}=dr(),i=async p=>{const y=await Bn(rr(gn(n,"users"),Ar("username","==",p)));let _="";return y.forEach(E=>{_=E.data().profilePictureURL}),_};async function s(p,y){(await Bn(gn(n,"users"))).forEach(async E=>{const S=E.data(),C=S.posts.findIndex(R=>R.pid===p);if(C!==-1){const R=[...S.posts];R[C].comments.push({name:r==null?void 0:r.username,comment:y});const w=Di(n,"users",E.id);await zs(w,{posts:R})}})}const{register:o,handleSubmit:a,formState:{errors:l},reset:u}=eh(),d=p=>{s(e,p.comment),u()};return x.jsx("section",{className:" dark:bg-gray-900 bg-slate-400 py-8 lg:py-16 antialiased",children:x.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[x.jsx("div",{className:"flex justify-between items-center mb-6",children:x.jsxs("h2",{className:"text-lg lg:text-2xl font-bold text-gray-900 dark:text-white",children:["Comments (",t.length,")"]})}),x.jsxs("form",{className:"mb-6",onSubmit:a(d),children:[x.jsxs("div",{className:"py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[x.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Your comment"}),x.jsx("textarea",{id:"comment",rows:"6",className:`px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800 ${l.comment?"border-red-500":""}`,placeholder:"Write a comment...",...o("comment",{required:"Comment is required",minLength:{value:1,message:"Comment must be at least 1 character long"}})}),l.comment&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.comment.message})]}),x.jsx("button",{type:"submit",className:"inline-flex items-center py-2.5 px-4 text-xs font-medium text-center bg-blue-500 text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800",children:"Post comment"})]}),t==null?void 0:t.map((p,y)=>x.jsx(Use,{value:p,getImageUrlByName:i},y))]})})},Use=({value:t,getImageUrlByName:e})=>{const[n,r]=O.useState("");return O.useEffect(()=>{(async()=>{const s=await e(t.name);r(s)})()},[t.name,e]),x.jsxs("article",{className:"p-6 text-base bg-white rounded-lg dark:bg-gray-900",children:[x.jsx(vr,{to:`/r-social/profile/${t.name}`,children:x.jsx("footer",{className:"flex justify-between items-center mb-2",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("img",{className:"mr-2 w-6 h-6 rounded-full",src:n||"default_profile_picture_url",alt:t.name}),x.jsx("p",{className:"inline-flex items-center mr-3 text-sm text-gray-900 dark:text-white font-semibold",children:t.name})]})})}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.comment})]})},U_=t=>{let{handleLike:e}=Ur(),{currentUser:n,db:r}=dr();const{username:i}=iS(),[s,o]=O.useState(!1),[a,l]=O.useState(!1),u=O.useRef(null);async function d(_){try{const E=await Bn(rr(gn(r,"users"),Ar("uid","==",n==null?void 0:n.uid)));E.empty||E.forEach(async S=>{S.data().postsLiked.includes(_)?l(!0):l(!1)})}catch(E){console.error(E)}}const p=(_,E)=>_.length<=E?_:_.slice(0,E)+"...",y=_=>{navigator.clipboard.writeText(_).then(()=>{ps("Link copied to clipboard!","info","top-right",1e3)}).catch(E=>{console.error("Failed to copy: ",E)})};return O.useEffect(()=>{l(d(t.post.pid))},[n]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"max-w-md mx-auto  bg-white rounded-xl shadow-md overflow-hidden my-4 border-e-4 border border-blue-100",children:[x.jsx("div",{className:"",children:t.post.type==="image"?x.jsx("img",{src:t.post.mediaURL,alt:"post media",className:"w-full h-60 object-cover"}):x.jsxs("video",{controls:!0,id:"post-video",className:"w-full h-60 object-cover",preload:"metadata",ref:u,children:[x.jsx("source",{src:t.post.mediaURL,type:"video/mp4"}),"Your browser does not support the video tag."]})}),x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.post.title}),x.jsx("p",{className:"text-gray-600 mt-2",children:p(t.post.desc,60)})]}),x.jsxs("div",{className:"border-t px-4 py-2 flex justify-between items-center",children:[x.jsxs("button",{className:"flex items-center space-x-1 text-slate-600 hover:text-blue-400",onClick:()=>{l(!a),e(t.post.uid,t.post.pid)},children:[x.jsx("i",{className:"fas fa-heart",children:x.jsx(Mse,{color:a?"blue":"",size:23})}),x.jsxs("span",{children:[t.post.likes.length," Likes"]})]}),x.jsxs("button",{className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500 }",onClick:()=>{o(!s)},children:[x.jsx("i",{className:"fas fa-comment",children:x.jsx(Fse,{size:23})}),x.jsxs("span",{children:["Comments ",t.post.comments.length]})]}),x.jsxs("button",{onClick:()=>y(`https://r-social.github.io/r-social/profile/${i}/posts`),className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500",children:[x.jsx("i",{className:"fas fa-share",children:x.jsx(jse,{size:23})}),x.jsx("span",{children:"Share"})]})]}),s&&x.jsx(Vse,{comment:t.post.comments,pid:t.post.pid})]})})};function ym(){return x.jsx(x.Fragment,{children:x.jsx("div",{className:"h-auto pt-6 mt-2",children:x.jsxs("div",{className:"max-w-sm mx-auto bg-gray-200 rounded-lg shadow-lg overflow-hidden animate-pulse",children:[x.jsxs("div",{className:"border-b px-4 pb-6",children:[x.jsx("div",{className:"text-center my-4",children:x.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-300 mx-auto my-4 animate-pulse"})}),x.jsxs("div",{className:"py-2",children:[x.jsx("div",{className:"h-6 bg-gray-300 rounded-lg animate-pulse"}),x.jsx("div",{className:"h-4 bg-gray-300 rounded-lg mt-2 animate-pulse"})]})]}),x.jsxs("div",{className:"px-4 py-4",children:[x.jsxs("div",{className:"flex gap-2 items-center text-gray-300 mb-4 animate-pulse",children:[x.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded-lg animate-pulse"}),x.jsx("span",{className:"h-4 bg-gray-300 rounded-lg animate-pulse"})]}),x.jsxs("div",{className:"flex items-center animate-pulse",children:[x.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),x.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),x.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),x.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-lg animate-pulse"})]})]})]})})})}const cd=t=>{let{currentUser:e}=dr(),{handleLike:n,userArray:r}=Ur(),{username:i}=iS();return x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-1 ",children:" Posts"}),x.jsx("div",{className:"flex flex-col flex-wrap  justify-start gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800",children:t.user==="all"?r&&r.map((s,o,a)=>{var l,u;return((l=s==null?void 0:s.posts)==null?void 0:l.length)===0?"":(u=s==null?void 0:s.posts)==null?void 0:u.map((d,p)=>x.jsx(O.Suspense,{fallback:x.jsx(ym,{}),children:x.jsx(U_,{post:d},p)},p))}):t.user==="me"?r&&r.map((s,o,a)=>{var l,u;if(s.uid===(e==null?void 0:e.uid))return((l=s==null?void 0:s.posts)==null?void 0:l.length)===0?"":(u=s==null?void 0:s.posts)==null?void 0:u.map((d,p)=>x.jsx(O.Suspense,{fallback:x.jsx(ym,{}),children:x.jsx(U_,{post:d},p)}))}):x.jsx(x.Fragment,{children:r&&r.map((s,o,a)=>{var l;if(s.username===i)return(l=s==null?void 0:s.posts)==null?void 0:l.map((u,d)=>x.jsx(O.Suspense,{fallback:x.jsx(ym,{}),children:x.jsx(U_,{post:u},d)},d))})})})]})},Bse=O.lazy(()=>F7(()=>Promise.resolve().then(()=>qae),void 0));function $se(){const{userArray:t,setUserArray:e,getUsers:n,isFollowing:r,setIsFollowing:i,uzerFollowObj:s,setPostsLoaded:o,postsLoaded:a,transformCloudinaryURL:l}=Ur(),{currentUser:u}=dr();return O.useEffect(()=>{u&&t&&t.map((d,p,y)=>{if(d.uid===(u==null?void 0:u.uid)){i(d.following);return}})},[u]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:t&&t.map((d,p,y)=>x.jsx(x.Fragment,{children:(u==null?void 0:u.uid)!==d.uid&&x.jsx(O.Suspense,{fallback:x.jsx(ym,{}),children:d.username!==""&&x.jsx(Bse,{username:d.username,followers:d.followers.length,following:d.following.length,userBio:d.bio,userPic:l(d.profilePictureURL),userUID:d.uid,isFollowing:r},p)})}))}),a&&x.jsxs(x.Fragment,{children:[x.jsx("hr",{className:"  my-8  h-0.5 bg-slate-400 w-3/4 mx-auto"}),x.jsx(cd,{user:"all"})]})]})}var Uj={exports:{}},B_,_P;function Bj(){if(_P)return B_;_P=1;var t=typeof ji=="object"&&ji&&ji.Object===Object&&ji;return B_=t,B_}var $_,wP;function Cs(){if(wP)return $_;wP=1;var t=Bj(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return $_=n,$_}var z_,EP;function Ph(){if(EP)return z_;EP=1;var t=Cs(),e=t.Symbol;return z_=e,z_}var H_,bP;function zse(){if(bP)return H_;bP=1;var t=Ph(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(a?o[i]=l:delete o[i]),d}return H_=s,H_}var q_,TP;function Hse(){if(TP)return q_;TP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return q_=n,q_}var W_,SP;function Hl(){if(SP)return W_;SP=1;var t=Ph(),e=zse(),n=Hse(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return W_=o,W_}var K_,xP;function wo(){if(xP)return K_;xP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return K_=t,K_}var G_,RP;function kh(){if(RP)return G_;RP=1;var t=Hl(),e=wo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return G_=o,G_}var Q_,IP;function qse(){if(IP)return Q_;IP=1;var t=Cs(),e=t["__core-js_shared__"];return Q_=e,Q_}var Y_,CP;function Wse(){if(CP)return Y_;CP=1;var t=qse(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Y_=n,Y_}var X_,AP;function $j(){if(AP)return X_;AP=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return X_=n,X_}var J_,PP;function Kse(){if(PP)return J_;PP=1;var t=kh(),e=Wse(),n=wo(),r=$j(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?d:s;return _.test(r(y))}return J_=p,J_}var Z_,kP;function Gse(){if(kP)return Z_;kP=1;function t(e,n){return e==null?void 0:e[n]}return Z_=t,Z_}var e0,OP;function ql(){if(OP)return e0;OP=1;var t=Kse(),e=Gse();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return e0=n,e0}var t0,NP;function zj(){if(NP)return t0;NP=1;var t=ql(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return t0=e,t0}var n0,DP;function Yx(){if(DP)return n0;DP=1;var t=zj();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return n0=e,n0}var r0,LP;function qy(){if(LP)return r0;LP=1;function t(e,n){return e===n||e!==e&&n!==n}return r0=t,r0}var i0,MP;function Xx(){if(MP)return i0;MP=1;var t=Yx(),e=qy(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return i0=i,i0}var s0,FP;function Wc(){if(FP)return s0;FP=1;var t=Xx(),e=Yx();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var d=i[l],p=o?o(s[d],r[d],d,s,r):void 0;p===void 0&&(p=r[d]),a?e(s,d,p):t(s,d,p)}return s}return s0=n,s0}var o0,jP;function Jx(){if(jP)return o0;jP=1;function t(e){return e}return o0=t,o0}var a0,VP;function Qse(){if(VP)return a0;VP=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return a0=t,a0}var l0,UP;function Yse(){if(UP)return l0;UP=1;var t=Qse(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var d=Array(i+1);++a<i;)d[a]=o[a];return d[i]=s(u),t(r,this,d)}}return l0=n,l0}var u0,BP;function Xse(){if(BP)return u0;BP=1;function t(e){return function(){return e}}return u0=t,u0}var c0,$P;function Jse(){if($P)return c0;$P=1;var t=Xse(),e=zj(),n=Jx(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return c0=r,c0}var f0,zP;function Zse(){if(zP)return f0;zP=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return f0=r,f0}var d0,HP;function eoe(){if(HP)return d0;HP=1;var t=Jse(),e=Zse(),n=e(t);return d0=n,d0}var h0,qP;function Hj(){if(qP)return h0;qP=1;var t=Jx(),e=Yse(),n=eoe();function r(i,s){return n(e(i,s,t),i+"")}return h0=r,h0}var p0,WP;function qj(){if(WP)return p0;WP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return p0=e,p0}var m0,KP;function Kc(){if(KP)return m0;KP=1;var t=kh(),e=qj();function n(r){return r!=null&&e(r.length)&&!t(r)}return m0=n,m0}var g0,GP;function Wj(){if(GP)return g0;GP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return g0=n,g0}var y0,QP;function toe(){if(QP)return y0;QP=1;var t=qy(),e=Kc(),n=Wj(),r=wo();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return y0=i,y0}var v0,YP;function Kj(){if(YP)return v0;YP=1;var t=Hj(),e=toe();function n(r){return t(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&e(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var d=s[o];d&&r(i,d,o,l)}return i})}return v0=n,v0}var _0,XP;function Wy(){if(XP)return _0;XP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _0=e,_0}var w0,JP;function noe(){if(JP)return w0;JP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return w0=t,w0}var E0,ZP;function As(){if(ZP)return E0;ZP=1;function t(e){return e!=null&&typeof e=="object"}return E0=t,E0}var b0,ek;function roe(){if(ek)return b0;ek=1;var t=Hl(),e=As(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return b0=r,b0}var T0,tk;function Zx(){if(tk)return T0;tk=1;var t=roe(),e=As(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return T0=s,T0}var S0,nk;function Oa(){if(nk)return S0;nk=1;var t=Array.isArray;return S0=t,S0}var jf={exports:{}},x0,rk;function ioe(){if(rk)return x0;rk=1;function t(){return!1}return x0=t,x0}jf.exports;var ik;function eR(){return ik||(ik=1,function(t,e){var n=Cs(),r=ioe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(jf,jf.exports)),jf.exports}var R0,sk;function soe(){if(sk)return R0;sk=1;var t=Hl(),e=qj(),n=As(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",E="[object String]",S="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",w="[object Float32Array]",v="[object Float64Array]",I="[object Int8Array]",k="[object Int16Array]",B="[object Int32Array]",D="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",L="[object Uint32Array]",j={};j[w]=j[v]=j[I]=j[k]=j[B]=j[D]=j[T]=j[N]=j[L]=!0,j[r]=j[i]=j[C]=j[s]=j[R]=j[o]=j[a]=j[l]=j[u]=j[d]=j[p]=j[y]=j[_]=j[E]=j[S]=!1;function V(M){return n(M)&&e(M.length)&&!!j[t(M)]}return R0=V,R0}var I0,ok;function Ky(){if(ok)return I0;ok=1;function t(e){return function(n){return e(n)}}return I0=t,I0}var Vf={exports:{}};Vf.exports;var ak;function tR(){return ak||(ak=1,function(t,e){var n=Bj(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(Vf,Vf.exports)),Vf.exports}var C0,lk;function Gj(){if(lk)return C0;lk=1;var t=soe(),e=Ky(),n=tR(),r=n&&n.isTypedArray,i=r?e(r):t;return C0=i,C0}var A0,uk;function Qj(){if(uk)return A0;uk=1;var t=noe(),e=Zx(),n=Oa(),r=eR(),i=Wj(),s=Gj(),o=Object.prototype,a=o.hasOwnProperty;function l(u,d){var p=n(u),y=!p&&e(u),_=!p&&!y&&r(u),E=!p&&!y&&!_&&s(u),S=p||y||_||E,C=S?t(u.length,String):[],R=C.length;for(var w in u)(d||a.call(u,w))&&!(S&&(w=="length"||_&&(w=="offset"||w=="parent")||E&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,R)))&&C.push(w);return C}return A0=l,A0}var P0,ck;function Yj(){if(ck)return P0;ck=1;function t(e,n){return function(r){return e(n(r))}}return P0=t,P0}var k0,fk;function ooe(){if(fk)return k0;fk=1;var t=Yj(),e=t(Object.keys,Object);return k0=e,k0}var O0,dk;function aoe(){if(dk)return O0;dk=1;var t=Wy(),e=ooe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return O0=i,O0}var N0,hk;function Gc(){if(hk)return N0;hk=1;var t=Qj(),e=aoe(),n=Kc();function r(i){return n(i)?t(i):e(i)}return N0=r,N0}var D0,pk;function loe(){if(pk)return D0;pk=1;var t=Xx(),e=Wc(),n=Kj(),r=Kc(),i=Wy(),s=Gc(),o=Object.prototype,a=o.hasOwnProperty,l=n(function(u,d){if(i(d)||r(d)){e(d,s(d),u);return}for(var p in d)a.call(d,p)&&t(u,p,d[p])});return D0=l,D0}var L0,mk;function uoe(){if(mk)return L0;mk=1;function t(){this.__data__=[],this.size=0}return L0=t,L0}var M0,gk;function Gy(){if(gk)return M0;gk=1;var t=qy();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return M0=e,M0}var F0,yk;function coe(){if(yk)return F0;yk=1;var t=Gy(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return F0=r,F0}var j0,vk;function foe(){if(vk)return j0;vk=1;var t=Gy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return j0=e,j0}var V0,_k;function doe(){if(_k)return V0;_k=1;var t=Gy();function e(n){return t(this.__data__,n)>-1}return V0=e,V0}var U0,wk;function hoe(){if(wk)return U0;wk=1;var t=Gy();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return U0=e,U0}var B0,Ek;function Qy(){if(Ek)return B0;Ek=1;var t=uoe(),e=coe(),n=foe(),r=doe(),i=hoe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,B0=s,B0}var $0,bk;function poe(){if(bk)return $0;bk=1;var t=Qy();function e(){this.__data__=new t,this.size=0}return $0=e,$0}var z0,Tk;function moe(){if(Tk)return z0;Tk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return z0=t,z0}var H0,Sk;function goe(){if(Sk)return H0;Sk=1;function t(e){return this.__data__.get(e)}return H0=t,H0}var q0,xk;function yoe(){if(xk)return q0;xk=1;function t(e){return this.__data__.has(e)}return q0=t,q0}var W0,Rk;function nR(){if(Rk)return W0;Rk=1;var t=ql(),e=Cs(),n=t(e,"Map");return W0=n,W0}var K0,Ik;function Yy(){if(Ik)return K0;Ik=1;var t=ql(),e=t(Object,"create");return K0=e,K0}var G0,Ck;function voe(){if(Ck)return G0;Ck=1;var t=Yy();function e(){this.__data__=t?t(null):{},this.size=0}return G0=e,G0}var Q0,Ak;function _oe(){if(Ak)return Q0;Ak=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Q0=t,Q0}var Y0,Pk;function woe(){if(Pk)return Y0;Pk=1;var t=Yy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return Y0=i,Y0}var X0,kk;function Eoe(){if(kk)return X0;kk=1;var t=Yy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return X0=r,X0}var J0,Ok;function boe(){if(Ok)return J0;Ok=1;var t=Yy(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return J0=n,J0}var Z0,Nk;function Toe(){if(Nk)return Z0;Nk=1;var t=voe(),e=_oe(),n=woe(),r=Eoe(),i=boe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Z0=s,Z0}var ew,Dk;function Soe(){if(Dk)return ew;Dk=1;var t=Toe(),e=Qy(),n=nR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ew=r,ew}var tw,Lk;function xoe(){if(Lk)return tw;Lk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return tw=t,tw}var nw,Mk;function Xy(){if(Mk)return nw;Mk=1;var t=xoe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return nw=e,nw}var rw,Fk;function Roe(){if(Fk)return rw;Fk=1;var t=Xy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return rw=e,rw}var iw,jk;function Ioe(){if(jk)return iw;jk=1;var t=Xy();function e(n){return t(this,n).get(n)}return iw=e,iw}var sw,Vk;function Coe(){if(Vk)return sw;Vk=1;var t=Xy();function e(n){return t(this,n).has(n)}return sw=e,sw}var ow,Uk;function Aoe(){if(Uk)return ow;Uk=1;var t=Xy();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return ow=e,ow}var aw,Bk;function Xj(){if(Bk)return aw;Bk=1;var t=Soe(),e=Roe(),n=Ioe(),r=Coe(),i=Aoe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,aw=s,aw}var lw,$k;function Poe(){if($k)return lw;$k=1;var t=Qy(),e=nR(),n=Xj(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return lw=i,lw}var uw,zk;function Jj(){if(zk)return uw;zk=1;var t=Qy(),e=poe(),n=moe(),r=goe(),i=yoe(),s=Poe();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,uw=o,uw}var cw,Hk;function koe(){if(Hk)return cw;Hk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return cw=t,cw}var fw,qk;function Ooe(){if(qk)return fw;qk=1;var t=Wc(),e=Gc();function n(r,i){return r&&t(i,e(i),r)}return fw=n,fw}var dw,Wk;function Noe(){if(Wk)return dw;Wk=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return dw=t,dw}var hw,Kk;function Doe(){if(Kk)return hw;Kk=1;var t=wo(),e=Wy(),n=Noe(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!t(o))return n(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return hw=s,hw}var pw,Gk;function Oh(){if(Gk)return pw;Gk=1;var t=Qj(),e=Doe(),n=Kc();function r(i){return n(i)?t(i,!0):e(i)}return pw=r,pw}var mw,Qk;function Loe(){if(Qk)return mw;Qk=1;var t=Wc(),e=Oh();function n(r,i){return r&&t(i,e(i),r)}return mw=n,mw}var Uf={exports:{}};Uf.exports;var Yk;function Zj(){return Yk||(Yk=1,function(t,e){var n=Cs(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var p=u.length,y=a?a(p):new u.constructor(p);return u.copy(y),y}t.exports=l}(Uf,Uf.exports)),Uf.exports}var gw,Xk;function e5(){if(Xk)return gw;Xk=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return gw=t,gw}var yw,Jk;function t5(){if(Jk)return yw;Jk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return yw=t,yw}var vw,Zk;function n5(){if(Zk)return vw;Zk=1;function t(){return[]}return vw=t,vw}var _w,eO;function rR(){if(eO)return _w;eO=1;var t=t5(),e=n5(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return _w=s,_w}var ww,tO;function Moe(){if(tO)return ww;tO=1;var t=Wc(),e=rR();function n(r,i){return t(r,e(r),i)}return ww=n,ww}var Ew,nO;function iR(){if(nO)return Ew;nO=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Ew=t,Ew}var bw,rO;function sR(){if(rO)return bw;rO=1;var t=Yj(),e=t(Object.getPrototypeOf,Object);return bw=e,bw}var Tw,iO;function r5(){if(iO)return Tw;iO=1;var t=iR(),e=sR(),n=rR(),r=n5(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)t(a,n(o)),o=e(o);return a}:r;return Tw=s,Tw}var Sw,sO;function Foe(){if(sO)return Sw;sO=1;var t=Wc(),e=r5();function n(r,i){return t(r,e(r),i)}return Sw=n,Sw}var xw,oO;function i5(){if(oO)return xw;oO=1;var t=iR(),e=Oa();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return xw=n,xw}var Rw,aO;function joe(){if(aO)return Rw;aO=1;var t=i5(),e=rR(),n=Gc();function r(i){return t(i,n,e)}return Rw=r,Rw}var Iw,lO;function Voe(){if(lO)return Iw;lO=1;var t=i5(),e=r5(),n=Oh();function r(i){return t(i,n,e)}return Iw=r,Iw}var Cw,uO;function Uoe(){if(uO)return Cw;uO=1;var t=ql(),e=Cs(),n=t(e,"DataView");return Cw=n,Cw}var Aw,cO;function Boe(){if(cO)return Aw;cO=1;var t=ql(),e=Cs(),n=t(e,"Promise");return Aw=n,Aw}var Pw,fO;function $oe(){if(fO)return Pw;fO=1;var t=ql(),e=Cs(),n=t(e,"Set");return Pw=n,Pw}var kw,dO;function zoe(){if(dO)return kw;dO=1;var t=ql(),e=Cs(),n=t(e,"WeakMap");return kw=n,kw}var Ow,hO;function oR(){if(hO)return Ow;hO=1;var t=Uoe(),e=nR(),n=Boe(),r=$oe(),i=zoe(),s=Hl(),o=$j(),a="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",_=o(t),E=o(e),S=o(n),C=o(r),R=o(i),w=s;return(t&&w(new t(new ArrayBuffer(1)))!=y||e&&w(new e)!=a||n&&w(n.resolve())!=u||r&&w(new r)!=d||i&&w(new i)!=p)&&(w=function(v){var I=s(v),k=I==l?v.constructor:void 0,B=k?o(k):"";if(B)switch(B){case _:return y;case E:return a;case S:return u;case C:return d;case R:return p}return I}),Ow=w,Ow}var Nw,pO;function Hoe(){if(pO)return Nw;pO=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Nw=n,Nw}var Dw,mO;function qoe(){if(mO)return Dw;mO=1;var t=Cs(),e=t.Uint8Array;return Dw=e,Dw}var Lw,gO;function aR(){if(gO)return Lw;gO=1;var t=qoe();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Lw=e,Lw}var Mw,yO;function Woe(){if(yO)return Mw;yO=1;var t=aR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Mw=e,Mw}var Fw,vO;function Koe(){if(vO)return Fw;vO=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Fw=e,Fw}var jw,_O;function Goe(){if(_O)return jw;_O=1;var t=Ph(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return jw=r,jw}var Vw,wO;function s5(){if(wO)return Vw;wO=1;var t=aR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Vw=e,Vw}var Uw,EO;function Qoe(){if(EO)return Uw;EO=1;var t=aR(),e=Woe(),n=Koe(),r=Goe(),i=s5(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",d="[object Set]",p="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",R="[object Int8Array]",w="[object Int16Array]",v="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",B="[object Uint16Array]",D="[object Uint32Array]";function T(N,L,j){var V=N.constructor;switch(L){case _:return t(N);case s:case o:return new V(+N);case E:return e(N,j);case S:case C:case R:case w:case v:case I:case k:case B:case D:return i(N,j);case a:return new V;case l:case p:return new V(N);case u:return n(N);case d:return new V;case y:return r(N)}}return Uw=T,Uw}var Bw,bO;function Yoe(){if(bO)return Bw;bO=1;var t=wo(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return Bw=n,Bw}var $w,TO;function o5(){if(TO)return $w;TO=1;var t=Yoe(),e=sR(),n=Wy();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return $w=r,$w}var zw,SO;function Xoe(){if(SO)return zw;SO=1;var t=oR(),e=As(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return zw=r,zw}var Hw,xO;function Joe(){if(xO)return Hw;xO=1;var t=Xoe(),e=Ky(),n=tR(),r=n&&n.isMap,i=r?e(r):t;return Hw=i,Hw}var qw,RO;function Zoe(){if(RO)return qw;RO=1;var t=oR(),e=As(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return qw=r,qw}var Ww,IO;function eae(){if(IO)return Ww;IO=1;var t=Zoe(),e=Ky(),n=tR(),r=n&&n.isSet,i=r?e(r):t;return Ww=i,Ww}var Kw,CO;function tae(){if(CO)return Kw;CO=1;var t=Jj(),e=koe(),n=Xx(),r=Ooe(),i=Loe(),s=Zj(),o=e5(),a=Moe(),l=Foe(),u=joe(),d=Voe(),p=oR(),y=Hoe(),_=Qoe(),E=o5(),S=Oa(),C=eR(),R=Joe(),w=wo(),v=eae(),I=Gc(),k=Oh(),B=1,D=2,T=4,N="[object Arguments]",L="[object Array]",j="[object Boolean]",V="[object Date]",M="[object Error]",le="[object Function]",me="[object GeneratorFunction]",he="[object Map]",Y="[object Number]",Q="[object Object]",X="[object RegExp]",fe="[object Set]",te="[object String]",$="[object Symbol]",K="[object WeakMap]",ee="[object ArrayBuffer]",Ae="[object DataView]",Re="[object Float32Array]",W="[object Float64Array]",ue="[object Int8Array]",xe="[object Int16Array]",Ee="[object Int32Array]",Se="[object Uint8Array]",Ge="[object Uint8ClampedArray]",Et="[object Uint16Array]",He="[object Uint32Array]",We={};We[N]=We[L]=We[ee]=We[Ae]=We[j]=We[V]=We[Re]=We[W]=We[ue]=We[xe]=We[Ee]=We[he]=We[Y]=We[Q]=We[X]=We[fe]=We[te]=We[$]=We[Se]=We[Ge]=We[Et]=We[He]=!0,We[M]=We[le]=We[K]=!1;function Gt(st,z,Z,ae,ge,_e){var ce,ke=z&B,Be=z&D,Qe=z&T;if(Z&&(ce=ge?Z(st,ae,ge,_e):Z(st)),ce!==void 0)return ce;if(!w(st))return st;var qe=S(st);if(qe){if(ce=y(st),!ke)return o(st,ce)}else{var Wt=p(st),Gn=Wt==le||Wt==me;if(C(st))return s(st,ke);if(Wt==Q||Wt==N||Gn&&!ge){if(ce=Be||Gn?{}:E(st),!ke)return Be?l(st,i(ce,st)):a(st,r(ce,st))}else{if(!We[Wt])return ge?st:{};ce=_(st,Wt,ke)}}_e||(_e=new t);var dn=_e.get(st);if(dn)return dn;_e.set(st,ce),v(st)?st.forEach(function(nn){ce.add(Gt(nn,z,Z,nn,st,_e))}):R(st)&&st.forEach(function(nn,bn){ce.set(bn,Gt(nn,z,Z,bn,st,_e))});var nt=Qe?Be?d:u:Be?k:I,hr=qe?void 0:nt(st);return e(hr||st,function(nn,bn){hr&&(bn=nn,nn=st[bn]),n(ce,bn,Gt(nn,z,Z,bn,st,_e))}),ce}return Kw=Gt,Kw}var Gw,AO;function nae(){if(AO)return Gw;AO=1;var t=tae(),e=1,n=4;function r(i){return t(i,e|n)}return Gw=r,Gw}var Qw,PO;function rae(){if(PO)return Qw;PO=1;function t(e){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];o&&(s[i++]=o)}return s}return Qw=t,Qw}var Yw,kO;function iae(){if(kO)return Yw;kO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Yw=e,Yw}var Xw,OO;function sae(){if(OO)return Xw;OO=1;function t(e){return this.__data__.has(e)}return Xw=t,Xw}var Jw,NO;function oae(){if(NO)return Jw;NO=1;var t=Xj(),e=iae(),n=sae();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Jw=r,Jw}var Zw,DO;function aae(){if(DO)return Zw;DO=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return Zw=t,Zw}var e1,LO;function lae(){if(LO)return e1;LO=1;function t(e){return e!==e}return e1=t,e1}var t1,MO;function uae(){if(MO)return t1;MO=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return t1=t,t1}var n1,FO;function Jy(){if(FO)return n1;FO=1;var t=aae(),e=lae(),n=uae();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return n1=r,n1}var r1,jO;function cae(){if(jO)return r1;jO=1;var t=Jy();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return r1=e,r1}var i1,VO;function fae(){if(VO)return i1;VO=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return i1=t,i1}var s1,UO;function lR(){if(UO)return s1;UO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return s1=t,s1}var o1,BO;function dae(){if(BO)return o1;BO=1;function t(e,n){return e.has(n)}return o1=t,o1}var a1,$O;function hae(){if($O)return a1;$O=1;var t=oae(),e=cae(),n=fae(),r=lR(),i=Ky(),s=dae(),o=200;function a(l,u,d,p){var y=-1,_=e,E=!0,S=l.length,C=[],R=u.length;if(!S)return C;d&&(u=r(u,i(d))),p?(_=n,E=!1):u.length>=o&&(_=s,E=!1,u=new t(u));e:for(;++y<S;){var w=l[y],v=d==null?w:d(w);if(w=p||w!==0?w:0,E&&v===v){for(var I=R;I--;)if(u[I]===v)continue e;C.push(w)}else _(u,v,p)||C.push(w)}return C}return a1=a,a1}var l1,zO;function pae(){if(zO)return l1;zO=1;var t=Ph(),e=Zx(),n=Oa(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return l1=i,l1}var u1,HO;function mae(){if(HO)return u1;HO=1;var t=iR(),e=pae();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,o,a):t(a,d):o||(a[a.length]=d)}return a}return u1=n,u1}var c1,qO;function a5(){if(qO)return c1;qO=1;var t=Kc(),e=As();function n(r){return e(r)&&t(r)}return c1=n,c1}var f1,WO;function gae(){if(WO)return f1;WO=1;var t=hae(),e=mae(),n=Hj(),r=a5(),i=n(function(s,o){return r(s)?t(s,e(o,1,r,!0)):[]});return f1=i,f1}var d1,KO;function yae(){if(KO)return d1;KO=1;var t=t5(),e=kh();function n(r,i){return t(i,function(s){return e(r[s])})}return d1=n,d1}var h1,GO;function vae(){if(GO)return h1;GO=1;var t=yae(),e=Gc();function n(r){return r==null?[]:t(r,e(r))}return h1=n,h1}var p1,QO;function l5(){if(QO)return p1;QO=1;var t=Hl(),e=Oa(),n=As(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return p1=i,p1}var m1,YO;function _ae(){if(YO)return m1;YO=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return m1=e,m1}var g1,XO;function u5(){if(XO)return g1;XO=1;var t=_ae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return g1=n,g1}var y1,JO;function c5(){if(JO)return y1;JO=1;var t=Hl(),e=As(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return y1=r,y1}var v1,ZO;function wae(){if(ZO)return v1;ZO=1;var t=u5(),e=wo(),n=c5(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=s.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):i.test(u)?r:+u}return v1=l,v1}var _1,eN;function Eae(){if(eN)return _1;eN=1;var t=wae(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return _1=r,_1}var w1,tN;function bae(){if(tN)return w1;tN=1;var t=Eae();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return w1=e,w1}var E1,nN;function Tae(){if(nN)return E1;nN=1;var t=lR();function e(n,r){return t(r,function(i){return n[i]})}return E1=e,E1}var b1,rN;function Sae(){if(rN)return b1;rN=1;var t=Tae(),e=Gc();function n(r){return r==null?[]:t(r,e(r))}return b1=n,b1}var T1,iN;function xae(){if(iN)return T1;iN=1;var t=Jy(),e=Kc(),n=l5(),r=bae(),i=Sae(),s=Math.max;function o(a,l,u,d){a=e(a)?a:i(a),u=u&&!d?r(u):0;var p=a.length;return u<0&&(u=s(p+u,0)),n(a)?u<=p&&a.indexOf(l,u)>-1:!!p&&t(a,l,u)>-1}return T1=o,T1}var S1,sN;function uR(){if(sN)return S1;sN=1;var t=Hl(),e=sR(),n=As(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var p=e(d);if(p===null)return!0;var y=a.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==l}return S1=u,S1}var x1,oN;function Rae(){if(oN)return x1;oN=1;var t=As(),e=uR();function n(r){return t(r)&&r.nodeType===1&&!e(r)}return x1=n,x1}var R1,aN;function f5(){if(aN)return R1;aN=1;var t=Yx(),e=qy();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return R1=n,R1}var I1,lN;function Iae(){if(lN)return I1;lN=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return n}}return I1=t,I1}var C1,uN;function Cae(){if(uN)return C1;uN=1;var t=Iae(),e=t();return C1=e,C1}var A1,cN;function d5(){if(cN)return A1;cN=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return A1=t,A1}var P1,fN;function Aae(){if(fN)return P1;fN=1;var t=Wc(),e=Oh();function n(r){return t(r,e(r))}return P1=n,P1}var k1,dN;function Pae(){if(dN)return k1;dN=1;var t=f5(),e=Zj(),n=s5(),r=e5(),i=o5(),s=Zx(),o=Oa(),a=a5(),l=eR(),u=kh(),d=wo(),p=uR(),y=Gj(),_=d5(),E=Aae();function S(C,R,w,v,I,k,B){var D=_(C,w),T=_(R,w),N=B.get(T);if(N){t(C,w,N);return}var L=k?k(D,T,w+"",C,R,B):void 0,j=L===void 0;if(j){var V=o(T),M=!V&&l(T),le=!V&&!M&&y(T);L=T,V||M||le?o(D)?L=D:a(D)?L=r(D):M?(j=!1,L=e(T,!0)):le?(j=!1,L=n(T,!0)):L=[]:p(T)||s(T)?(L=D,s(D)?L=E(D):(!d(D)||u(D))&&(L=i(T))):j=!1}j&&(B.set(T,L),I(L,T,v,k,B),B.delete(T)),t(C,w,L)}return k1=S,k1}var O1,hN;function kae(){if(hN)return O1;hN=1;var t=Jj(),e=f5(),n=Cae(),r=Pae(),i=wo(),s=Oh(),o=d5();function a(l,u,d,p,y){l!==u&&n(u,function(_,E){if(y||(y=new t),i(_))r(l,u,E,d,a,p,y);else{var S=p?p(o(l,E),_,E+"",l,u,y):void 0;S===void 0&&(S=_),e(l,E,S)}},s)}return O1=a,O1}var N1,pN;function Oae(){if(pN)return N1;pN=1;var t=kae(),e=Kj(),n=e(function(r,i,s){t(r,i,s)});return N1=n,N1}var D1,mN;function h5(){if(mN)return D1;mN=1;var t=Ph(),e=lR(),n=Oa(),r=c5(),i=1/0,s=t?t.prototype:void 0,o=s?s.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(r(l))return o?o.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return D1=a,D1}var L1,gN;function Nae(){if(gN)return L1;gN=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return L1=t,L1}var M1,yN;function Dae(){if(yN)return M1;yN=1;var t=Nae();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return M1=e,M1}var F1,vN;function Lae(){if(vN)return F1;vN=1;var t=Jy();function e(n,r){for(var i=n.length;i--&&t(r,n[i],0)>-1;);return i}return F1=e,F1}var j1,_N;function Mae(){if(_N)return j1;_N=1;var t=Jy();function e(n,r){for(var i=-1,s=n.length;++i<s&&t(r,n[i],0)>-1;);return i}return j1=e,j1}var V1,wN;function Fae(){if(wN)return V1;wN=1;function t(e){return e.split("")}return V1=t,V1}var U1,EN;function jae(){if(EN)return U1;EN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(u){return a.test(u)}return U1=l,U1}var B1,bN;function Vae(){if(bN)return B1;bN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=u+"?",S="["+s+"]?",C="(?:"+_+"(?:"+[d,p,y].join("|")+")"+S+E+")*",R=S+E+C,w="(?:"+[d+a+"?",a,p,y,o].join("|")+")",v=RegExp(l+"(?="+l+")|"+w+R,"g");function I(k){return k.match(v)||[]}return B1=I,B1}var $1,TN;function Uae(){if(TN)return $1;TN=1;var t=Fae(),e=jae(),n=Vae();function r(i){return e(i)?n(i):t(i)}return $1=r,$1}var z1,SN;function Bae(){if(SN)return z1;SN=1;var t=h5();function e(n){return n==null?"":t(n)}return z1=e,z1}var H1,xN;function $ae(){if(xN)return H1;xN=1;var t=h5(),e=u5(),n=Dae(),r=Lae(),i=Mae(),s=Uae(),o=Bae();function a(l,u,d){if(l=o(l),l&&(d||u===void 0))return e(l);if(!l||!(u=t(u)))return l;var p=s(l),y=s(u),_=i(p,y),E=r(p,y)+1;return n(p,_,E).join("")}return H1=a,H1}(function(t,e){var n={};(function(i,s){t.exports=s(loe(),nae(),rae(),gae(),vae(),Jx(),xae(),Oa(),Rae(),kh(),uR(),l5(),Oae(),$ae())})(ji,function(r,i,s,o,a,l,u,d,p,y,_,E,S,C){return function(R){var w={};function v(I){if(w[I])return w[I].exports;var k=w[I]={i:I,l:!1,exports:{}};return R[I].call(k.exports,k,k.exports,v),k.l=!0,k.exports}return v.m=R,v.c=w,v.d=function(I,k,B){v.o(I,k)||Object.defineProperty(I,k,{enumerable:!0,get:B})},v.r=function(I){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},v.t=function(I,k){if(k&1&&(I=v(I)),k&8||k&4&&typeof I=="object"&&I&&I.__esModule)return I;var B=Object.create(null);if(v.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:I}),k&2&&typeof I!="string")for(var D in I)v.d(B,D,(function(T){return I[T]}).bind(null,D));return B},v.n=function(I){var k=I&&I.__esModule?function(){return I.default}:function(){return I};return v.d(k,"a",k),k},v.o=function(I,k){return Object.prototype.hasOwnProperty.call(I,k)},v.p="",v(v.s="./src/namespace/cloudinary-core.js")}({"./src/namespace/cloudinary-core.js":function(R,w,v){v.r(w),v.d(w,"ClientHintsMetaTag",function(){return PR}),v.d(w,"Cloudinary",function(){return jR}),v.d(w,"Condition",function(){return Ot}),v.d(w,"Configuration",function(){return Ha}),v.d(w,"crc32",function(){return T}),v.d(w,"Expression",function(){return an}),v.d(w,"FetchLayer",function(){return Zh}),v.d(w,"HtmlTag",function(){return Co}),v.d(w,"ImageTag",function(){return ip}),v.d(w,"Layer",function(){return os}),v.d(w,"PictureTag",function(){return _v}),v.d(w,"SubtitlesLayer",function(){return as}),v.d(w,"TextLayer",function(){return f}),v.d(w,"Transformation",function(){return Ii}),v.d(w,"utf8_encode",function(){return B}),v.d(w,"Util",function(){return k}),v.d(w,"VideoTag",function(){return Ev});var I={};v.r(I),v.d(I,"VERSION",function(){return Eo}),v.d(I,"CF_SHARED_CDN",function(){return Kl}),v.d(I,"OLD_AKAMAI_SHARED_CDN",function(){return bo}),v.d(I,"AKAMAI_SHARED_CDN",function(){return Br}),v.d(I,"SHARED_CDN",function(){return Ps}),v.d(I,"DEFAULT_TIMEOUT_MS",function(){return Yi}),v.d(I,"DEFAULT_POSTER_OPTIONS",function(){return Qn}),v.d(I,"DEFAULT_VIDEO_SOURCE_TYPES",function(){return ks}),v.d(I,"SEO_TYPES",function(){return Xi}),v.d(I,"DEFAULT_IMAGE_PARAMS",function(){return Os}),v.d(I,"DEFAULT_VIDEO_PARAMS",function(){return Ji}),v.d(I,"DEFAULT_VIDEO_SOURCES",function(){return Da}),v.d(I,"DEFAULT_EXTERNAL_LIBRARIES",function(){return Qt}),v.d(I,"PLACEHOLDER_IMAGE_MODES",function(){return Ei}),v.d(I,"ACCESSIBILITY_MODES",function(){return ri}),v.d(I,"URL_KEYS",function(){return bi});var k={};v.r(k),v.d(k,"getSDKAnalyticsSignature",function(){return K}),v.d(k,"getAnalyticsOptions",function(){return Ae}),v.d(k,"assign",function(){return W.a}),v.d(k,"cloneDeep",function(){return xe.a}),v.d(k,"compact",function(){return Se.a}),v.d(k,"difference",function(){return Et.a}),v.d(k,"functions",function(){return We.a}),v.d(k,"identity",function(){return st.a}),v.d(k,"includes",function(){return Z.a}),v.d(k,"isArray",function(){return ge.a}),v.d(k,"isPlainObject",function(){return ce.a}),v.d(k,"isString",function(){return Be.a}),v.d(k,"merge",function(){return qe.a}),v.d(k,"contains",function(){return Z.a}),v.d(k,"isIntersectionObserverSupported",function(){return An}),v.d(k,"isNativeLazyLoadSupported",function(){return Na}),v.d(k,"detectIntersection",function(){return Wl}),v.d(k,"omit",function(){return H}),v.d(k,"allStrings",function(){return G}),v.d(k,"without",function(){return re}),v.d(k,"isNumberLike",function(){return de}),v.d(k,"smartEscape",function(){return Ie}),v.d(k,"defaults",function(){return Oe}),v.d(k,"objectProto",function(){return ze}),v.d(k,"objToString",function(){return be}),v.d(k,"isObject",function(){return je}),v.d(k,"funcTag",function(){return Le}),v.d(k,"reWords",function(){return ot}),v.d(k,"camelCase",function(){return at}),v.d(k,"snakeCase",function(){return ct}),v.d(k,"convertKeys",function(){return it}),v.d(k,"withCamelCaseKeys",function(){return Yt}),v.d(k,"withSnakeCaseKeys",function(){return kt}),v.d(k,"base64Encode",function(){return Ti}),v.d(k,"base64EncodeURL",function(){return Yn}),v.d(k,"extractUrlParams",function(){return Xn}),v.d(k,"patchFetchFormat",function(){return Tn}),v.d(k,"optionConsume",function(){return Si}),v.d(k,"isEmpty",function(){return Je}),v.d(k,"isAndroid",function(){return Zi}),v.d(k,"isEdge",function(){return xi}),v.d(k,"isChrome",function(){return Ye}),v.d(k,"isSafari",function(){return Rt}),v.d(k,"isElement",function(){return Gn.a}),v.d(k,"isFunction",function(){return nt.a}),v.d(k,"trim",function(){return nn.a}),v.d(k,"getData",function(){return mt}),v.d(k,"setData",function(){return Jn}),v.d(k,"getAttribute",function(){return Gl}),v.d(k,"setAttribute",function(){return es}),v.d(k,"removeAttribute",function(){return La}),v.d(k,"setAttributes",function(){return Zy}),v.d(k,"hasClass",function(){return ts}),v.d(k,"addClass",function(){return si}),v.d(k,"getStyles",function(){return So}),v.d(k,"cssExpand",function(){return Ql}),v.d(k,"domStyle",function(){return Qc}),v.d(k,"curCSS",function(){return It}),v.d(k,"cssValue",function(){return oi}),v.d(k,"augmentWidthOrHeight",function(){return xo}),v.d(k,"getWidthOrHeight",function(){return Yc}),v.d(k,"width",function(){return Dh});var B=function(c){var m,g,P,F,q,se,ne,we;if(c===null||typeof c>"u")return"";for(se=c+"",we="",q=void 0,P=void 0,ne=0,q=P=0,ne=se.length,F=0;F<ne;)m=se.charCodeAt(F),g=null,m<128?P++:m>127&&m<2048?g=String.fromCharCode(m>>6|192,m&63|128):g=String.fromCharCode(m>>12|224,m>>6&63|128,m&63|128),g!==null&&(P>q&&(we+=se.slice(q,P)),we+=g,q=P=F+1),F++;return P>q&&(we+=se.slice(q,ne)),we};function D(h){var c,m,g,P,F,q;for(h=B(h),P="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",c=0,F=0,q=0,c=c^-1,m=0,g=h.length;m<g;)q=(c^h.charCodeAt(m))&255,F="0x"+P.substr(q*9,8),c=c>>>8^F,m++;return c=c^-1,c<0&&(c+=4294967296),c}var T=D;function N(h,c,m){return c=c>>0,m=String(typeof m<"u"?m:" "),h.length>c?String(h):(c=c-h.length,c>m.length&&(m+=L(m,c/m.length)),m.slice(0,c)+String(h))}function L(h,c){for(var m="";c>0;)m+=h,c--;return m}function j(h){return me(h)||le(h)||M(h)||V()}function V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(h,c){return he(h,c)}function le(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function me(h){if(Array.isArray(h))return he(h)}function he(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=0,X={};j(Y).forEach(function(h){var c=Q.toString(2);c=N(c,6,"0"),X[c]=h,Q++});var fe=X;function te(h){if(h.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return h.split(".").reverse().map(function(c){return N(c,2,"0")}).join(".")}function $(h){var c="",m=h.split(".").length,g=m*6,P=te(h),F=parseInt(P.split(".").join("")),q=F.toString(2);if(q=N(q,g,"0"),q.length%6!==0)throw"Version must be smaller than 43.21.26)";return q.match(/.{1,6}/g).forEach(function(se){c+=fe[se]}),c}function K(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var c=ee(h.techVersion),m=$(h.sdkSemver),g=$(c),P=h.feature,F=h.sdkCode,q="A";return"".concat(q).concat(F).concat(m).concat(g).concat(P)}catch{return"E"}}function ee(h){var c=h.split(".");return"".concat(c[0],".").concat(c[1])}function Ae(h){var c={sdkSemver:h.sdkSemver,techVersion:h.techVersion,sdkCode:h.sdkCode,feature:"0"};return h.urlAnalytics?(h.accessibility&&(c.feature="D"),h.loading==="lazy"&&(c.feature="C"),h.responsive&&(c.feature="A"),h.placeholder&&(c.feature="B"),c):{}}var Re=v("lodash/assign"),W=v.n(Re),ue=v("lodash/cloneDeep"),xe=v.n(ue),Ee=v("lodash/compact"),Se=v.n(Ee),Ge=v("lodash/difference"),Et=v.n(Ge),He=v("lodash/functions"),We=v.n(He),Gt=v("lodash/identity"),st=v.n(Gt),z=v("lodash/includes"),Z=v.n(z),ae=v("lodash/isArray"),ge=v.n(ae),_e=v("lodash/isPlainObject"),ce=v.n(_e),ke=v("lodash/isString"),Be=v.n(ke),Qe=v("lodash/merge"),qe=v.n(Qe),Wt=v("lodash/isElement"),Gn=v.n(Wt),dn=v("lodash/isFunction"),nt=v.n(dn),hr=v("lodash/trim"),nn=v.n(hr);function bn(h){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},bn(h)}function An(){return(typeof window>"u"?"undefined":bn(window))==="object"&&window.IntersectionObserver}function Na(){return(typeof HTMLImageElement>"u"?"undefined":bn(HTMLImageElement))==="object"&&HTMLImageElement.prototype.loading}function Wl(h,c){try{if(Na()||!An()){c();return}var m=new IntersectionObserver(function(g){g.forEach(function(P){P.isIntersecting&&(c(),m.unobserve(P.target))})},{threshold:[0,.01]});m.observe(h)}catch{c()}}var Eo="2.5.0",Kl="d3jpl91pxevbkh.cloudfront.net",bo="cloudinary-a.akamaihd.net",Br="res.cloudinary.com",Ps=Br,Yi=1e4,Qn={format:"jpg",resource_type:"video"},ks=["webm","mp4","ogv"],Xi={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},Os={resource_type:"image",transformation:[],type:"upload"},Ji={fallback_content:"",resource_type:"video",source_transformation:{},source_types:ks,transformation:[],type:"upload"},Da=[{type:"mp4",codecs:"hev1",transformations:{video_codec:"h265"}},{type:"webm",codecs:"vp9",transformations:{video_codec:"vp9"}},{type:"mp4",transformations:{video_codec:"auto"}},{type:"webm",transformations:{video_codec:"auto"}}],Qt={seeThru:"https://unpkg.com/seethru@4/dist/seeThru.min.js"},Ei={blur:[{effect:"blur:2000",quality:1,fetch_format:"auto"}],pixelate:[{effect:"pixelate",quality:1,fetch_format:"auto"}],"predominant-color-pixel":[{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:1,height:1,gravity:"north_east"},{fetch_format:"auto",quality:"auto"}],"predominant-color":[{variables:[["$currWidth","w"],["$currHeight","h"]]},{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:10,height:10,gravity:"north_east"},{width:"$currWidth",height:"$currHeight",crop:"fill"},{fetch_format:"auto",quality:"auto"}],vectorize:[{effect:"vectorize:3:0.1",fetch_format:"svg"}]},ri={darkmode:"tint:75:black",brightmode:"tint:50:white",monochrome:"grayscale",colorblind:"assist_colorblind"},bi=["accessibility","api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","placeholder","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","signature","ssl_detected","type","url_suffix","use_root_path","version"];function To(h){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},To(h)}function H(h,c){h=h||{};var m=Object.keys(h).filter(function(P){return!Z()(c,P)}),g={};return m.forEach(function(P){return g[P]=h[P]}),g}var G=function(c){return c.length&&c.every(Be.a)},re=function(c,m){return c.filter(function(g){return g!==m})},de=function(c){return c!=null&&!isNaN(parseFloat(c))},Ie=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/([^a-zA-Z0-9_.\-\/:]+)/g;return c.replace(m,function(g){return g.split("").map(function(P){return"%"+P.charCodeAt(0).toString(16).toUpperCase()}).join("")})},Oe=function(c){for(var m=arguments.length,g=new Array(m>1?m-1:0),P=1;P<m;P++)g[P-1]=arguments[P];return g.reduce(function(F,q){var se,ne;for(se in q)ne=q[se],F[se]===void 0&&(F[se]=ne);return F},c)},ze=Object.prototype,be=ze.toString,je=function(c){var m;return m=To(c),!!c&&(m==="object"||m==="function")},Le="[object Function]",Me=function(c){return je(c)&&be.call(c)===Le},ot=function(){var h,c;return c="[A-Z]",h="[a-z]+",RegExp(c+"+(?="+c+h+")|"+c+"?"+h+"|"+c+"+|[0-9]+","g")}(),at=function(c){var m=c.match(ot);return m=m.map(function(g){return g.charAt(0).toLocaleUpperCase()+g.slice(1).toLocaleLowerCase()}),m[0]=m[0].toLocaleLowerCase(),m.join("")},ct=function(c){var m=c.match(ot);return m=m.map(function(g){return g.toLocaleLowerCase()}),m.join("_")},it=function(c,m){var g,P;g={};for(var F in c)P=c[F],m&&(F=m(F)),Je(F)||(g[F]=P);return g},Yt=function(c){return it(c,at)},kt=function(c){return it(c,ct)},Ti=typeof btoa<"u"&&Me(btoa)?btoa:typeof Buffer<"u"&&Me(Buffer)?function(h){return h instanceof Buffer||(h=new Buffer.from(String(h),"binary")),h.toString("base64")}:function(h){throw new Error("No base64 encoding function found")},Yn=function(c){try{c=decodeURI(c)}finally{c=encodeURI(c)}return Ti(c)};function Xn(h){return bi.reduce(function(c,m){return h[m]!=null&&(c[m]=h[m]),c},{})}function Tn(h){h==null&&(h={}),h.type==="fetch"&&h.fetch_format==null&&(h.fetch_format=Si(h,"format"))}function Si(h,c,m){var g=h[c];return delete h[c],g??m}function Je(h){if(h==null)return!0;if(typeof h.length=="number")return h.length===0;if(typeof h.size=="number")return h.size===0;if(To(h)=="object"){for(var c in h)if(h.hasOwnProperty(c))return!1;return!0}return!0}function ii(){return navigator&&navigator.userAgent||""}function Zi(){var h=ii();return/Android/i.test(h)}function xi(){var h=ii();return/Edg/i.test(h)}function Ye(){var h=ii();return!xi()&&(/Chrome/i.test(h)||/CriOS/i.test(h))}function Rt(){var h=ii();return/Safari/i.test(h)&&!Ye()&&!Zi()&&!xi()}var Sn,mt=function(c,m){switch(!1){case c!=null:return;case!nt()(c.getAttribute):return c.getAttribute("data-".concat(m));case!nt()(c.getAttr):return c.getAttr("data-".concat(m));case!nt()(c.data):return c.data(m);case!(nt()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&Gn()(c)):return jQuery(c).data(m)}},Jn=function(c,m,g){switch(!1){case c!=null:return;case!nt()(c.setAttribute):return c.setAttribute("data-".concat(m),g);case!nt()(c.setAttr):return c.setAttr("data-".concat(m),g);case!nt()(c.data):return c.data(m,g);case!(nt()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&Gn()(c)):return jQuery(c).data(m,g)}},Gl=function(c,m){switch(!1){case c!=null:return;case!nt()(c.getAttribute):return c.getAttribute(m);case!nt()(c.attr):return c.attr(m);case!nt()(c.getAttr):return c.getAttr(m)}},es=function(c,m,g){switch(!1){case c!=null:return;case!nt()(c.setAttribute):return c.setAttribute(m,g);case!nt()(c.attr):return c.attr(m,g);case!nt()(c.setAttr):return c.setAttr(m,g)}},La=function(c,m){switch(!1){case c!=null:return;case!nt()(c.removeAttribute):return c.removeAttribute(m);default:return es(c,void 0)}},Zy=function(c,m){var g,P,F;P=[];for(g in m)F=m[g],F!=null?P.push(es(c,g,F)):P.push(La(c,g));return P},ts=function(c,m){if(Gn()(c))return c.className.match(new RegExp("\\b".concat(m,"\\b")))},si=function(c,m){if(!c.className.match(new RegExp("\\b".concat(m,"\\b"))))return c.className=nn()("".concat(c.className," ").concat(m))},So=function(c){return c.ownerDocument.defaultView.opener?c.ownerDocument.defaultView.getComputedStyle(c,null):window.getComputedStyle(c,null)},Ql=["Top","Right","Bottom","Left"];Sn=function(c,m){var g,P;return g=c.nodeType===9?c.documentElement:c,P=m&&m.parentNode,c===P||!!(P&&P.nodeType===1&&g.contains(P))};var Qc=function(c,m){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style))return c.style[m]},It=function(c,m,g){var P,F,q,se,ne,we;return se=/^margin/,we=void 0,F=void 0,P=void 0,q=void 0,ne=c.style,g=g||So(c),g&&(q=g.getPropertyValue(m)||g[m]),g&&(q===""&&!Sn(c.ownerDocument,c)&&(q=Qc(c,m)),Nh.test(q)&&se.test(m)&&(we=ne.width,F=ne.minWidth,P=ne.maxWidth,ne.minWidth=ne.maxWidth=ne.width=q,q=g.width,ne.width=we,ne.minWidth=F,ne.maxWidth=P)),q!==void 0?q+"":q},oi=function(c,m,g,P){var F;return F=It(c,m,P),g?parseFloat(F):F},xo=function(c,m,g,P,F){var q,se,ne,we,Ue;if(g===(P?"border":"content"))return 0;for(we=m==="width"?["Right","Left"]:["Top","Bottom"],Ue=0,q=0,se=we.length;q<se;q++)ne=we[q],g==="margin"&&(Ue+=oi(c,g+ne,!0,F)),P?(g==="content"&&(Ue-=oi(c,"padding".concat(ne),!0,F)),g!=="margin"&&(Ue-=oi(c,"border".concat(ne,"Width"),!0,F))):(Ue+=oi(c,"padding".concat(ne),!0,F),g!=="padding"&&(Ue+=oi(c,"border".concat(ne,"Width"),!0,F)));return Ue},Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nh=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),Yc=function(c,m,g){var P,F,q,se;if(se=!0,q=m==="width"?c.offsetWidth:c.offsetHeight,F=So(c),P=oi(c,"boxSizing",!1,F)==="border-box",q<=0||q==null){if(q=It(c,m,F),(q<0||q==null)&&(q=c.style[m]),Nh.test(q))return q;se=P&&q===c.style[m],q=parseFloat(q)||0}return q+xo(c,m,g||(P?"border":"content"),se,F)},Dh=function(c){return Yc(c,"width","content")};function Fa(h){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Fa(h)}function ev(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Lh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,ns(g.key),g)}}function ja(h,c,m){return c&&Lh(h.prototype,c),m&&Lh(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function ns(h){var c=Mh(h,"string");return Fa(c)=="symbol"?c:c+""}function Mh(h,c){if(Fa(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(Fa(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Va=function(){function h(c){ev(this,h),this.expressions=[],c!=null&&this.expressions.push(h.normalize(c))}return ja(h,[{key:"serialize",value:function(){return h.normalize(this.expressions.join("_"))}},{key:"toString",value:function(){return this.serialize()}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(m){return this.parent=m,this}},{key:"predicate",value:function(m,g,P){return h.OPERATORS[g]!=null&&(g=h.OPERATORS[g]),this.expressions.push("".concat(m,"_").concat(g,"_").concat(P)),this}},{key:"and",value:function(){return this.expressions.push("and"),this}},{key:"or",value:function(){return this.expressions.push("or"),this}},{key:"then",value:function(){return this.getParent().if(this.toString())}},{key:"height",value:function(m,g){return this.predicate("h",m,g)}},{key:"width",value:function(m,g){return this.predicate("w",m,g)}},{key:"aspectRatio",value:function(m,g){return this.predicate("ar",m,g)}},{key:"pageCount",value:function(m,g){return this.predicate("pc",m,g)}},{key:"faceCount",value:function(m,g){return this.predicate("fc",m,g)}},{key:"value",value:function(m){return this.expressions.push(m),this}}],[{key:"new",value:function(m){return new this(m)}},{key:"normalize",value:function(m){if(m==null)return m;m=String(m);var g="\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^",P="(("+g+")(?=[ _]))",F=new RegExp(P,"g");m=m.replace(F,function(we){return h.OPERATORS[we]});var q="("+Object.keys(h.PREDEFINED_VARS).map(function(we){return":".concat(we,"|").concat(we)}).join("|")+")",se="(\\$_*[^_ ]+)",ne=new RegExp("".concat(se,"|").concat(q),"g");return m=m.replace(ne,function(we){return h.PREDEFINED_VARS[we]||we}),m.replace(/[ _]+/g,"_")}},{key:"variable",value:function(m,g){return new this(m).value(g)}},{key:"width",value:function(){return new this("width")}},{key:"height",value:function(){return new this("height")}},{key:"initialWidth",value:function(){return new this("initialWidth")}},{key:"initialHeight",value:function(){return new this("initialHeight")}},{key:"aspectRatio",value:function(){return new this("aspectRatio")}},{key:"initialAspectRatio",value:function(){return new this("initialAspectRatio")}},{key:"pageCount",value:function(){return new this("pageCount")}},{key:"faceCount",value:function(){return new this("faceCount")}},{key:"currentPage",value:function(){return new this("currentPage")}},{key:"tags",value:function(){return new this("tags")}},{key:"pageX",value:function(){return new this("pageX")}},{key:"pageY",value:function(){return new this("pageY")}}])}();Va.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},Va.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_duration:"idu",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},Va.BOUNDRY="[ _]+";var an=Va;function $r(h){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$r(h)}function tv(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function nv(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,rs(g.key),g)}}function rv(h,c,m){return c&&nv(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function rs(h){var c=iv(h,"string");return $r(c)=="symbol"?c:c+""}function iv(h,c){if($r(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if($r(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function sv(h,c,m){return c=is(c),Ua(h,Xc()?Reflect.construct(c,m||[],is(h).constructor):c.apply(h,m))}function Ua(h,c){if(c&&($r(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yl(h)}function Yl(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Xc(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xc=function(){return!!h})()}function is(h){return is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},is(h)}function Ba(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Xl(h,c)}function Xl(h,c){return Xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},Xl(h,c)}var Jc=function(h){function c(m){return tv(this,c),sv(this,c,[m])}return Ba(c,h),rv(c,[{key:"height",value:function(g,P){return this.predicate("h",g,P)}},{key:"width",value:function(g,P){return this.predicate("w",g,P)}},{key:"aspectRatio",value:function(g,P){return this.predicate("ar",g,P)}},{key:"pageCount",value:function(g,P){return this.predicate("pc",g,P)}},{key:"faceCount",value:function(g,P){return this.predicate("fc",g,P)}},{key:"duration",value:function(g,P){return this.predicate("du",g,P)}},{key:"initialDuration",value:function(g,P){return this.predicate("idu",g,P)}}])}(an),Ot=Jc;function $a(h){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$a(h)}function ov(h,c){return Vh(h)||Jl(h,c)||jh(h,c)||Fh()}function Fh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jh(h,c){if(h){if(typeof h=="string")return Zc(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Zc(h,c)}}function Zc(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function Jl(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,F,q,se=[],ne=!0,we=!1;try{if(F=(m=m.call(h)).next,c!==0)for(;!(ne=(g=F.call(m)).done)&&(se.push(g.value),se.length!==c);ne=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!ne&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return se}}function Vh(h){if(Array.isArray(h))return h}function Ri(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Uh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,za(g.key),g)}}function av(h,c,m){return c&&Uh(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function za(h){var c=Bh(h,"string");return $a(c)=="symbol"?c:c+""}function Bh(h,c){if($a(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if($a(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Zl=function(){function h(c){Ri(this,h),this.configuration=c==null?{}:xe()(c),Oe(this.configuration,eu)}return av(h,[{key:"init",value:function(){return this.fromEnvironment(),this.fromDocument(),this}},{key:"set",value:function(m,g){return this.configuration[m]=g,this}},{key:"get",value:function(m){return this.configuration[m]}},{key:"merge",value:function(m){return W()(this.configuration,xe()(m)),this}},{key:"fromDocument",value:function(){var m,g,P,F;if(F=typeof document<"u"&&document!==null?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0,F)for(g=0,P=F.length;g<P;g++)m=F[g],this.configuration[m.getAttribute("name").replace("cloudinary_","")]=m.getAttribute("content");return this}},{key:"fromEnvironment",value:function(){var m=this,g,P,F,q;return typeof process<"u"&&process!==null&&n&&n.CLOUDINARY_URL&&(g=n.CLOUDINARY_URL,q=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/,F=q.exec(g),F&&(F[3]!=null&&(this.configuration.cloud_name=F[3]),F[1]!=null&&(this.configuration.api_key=F[1]),F[2]!=null&&(this.configuration.api_secret=F[2]),F[4]!=null&&(this.configuration.private_cdn=F[4]!=null),F[4]!=null&&(this.configuration.secure_distribution=F[4]),P=F[5],P!=null&&P.split("&").forEach(function(se){var ne=se.split("="),we=ov(ne,2),Ue=we[0],Ze=we[1];Ze==null&&(Ze=!0),m.configuration[Ue]=Ze}))),this}},{key:"config",value:function(m,g){switch(!1){case g===void 0:return this.set(m,g),this.configuration;case!Be()(m):return this.get(m);case!ce()(m):return this.merge(m),this.configuration;default:return this.configuration}}},{key:"toOptions",value:function(){return xe()(this.configuration)}}])}(),eu={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:(typeof window<"u"&&window!==null&&window.location?window.location.protocol:void 0)==="https:"};Zl.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version","externalLibraries","max_timeout_ms"];var Ha=Zl;function ss(h){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ss(h)}function lv(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function $h(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,zh(g.key),g)}}function qa(h,c,m){return c&&$h(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function zh(h){var c=Hh(h,"string");return ss(c)=="symbol"?c:c+""}function Hh(h,c){if(ss(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(ss(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var ef=function(){function h(c){var m=this;lv(this,h),this.options={},c!=null&&["resourceType","type","publicId","format"].forEach(function(g){var P;return m.options[g]=(P=c[g])!=null?P:c[ct(g)]})}return qa(h,[{key:"resourceType",value:function(m){return this.options.resourceType=m,this}},{key:"type",value:function(m){return this.options.type=m,this}},{key:"publicId",value:function(m){return this.options.publicId=m,this}},{key:"getPublicId",value:function(){var m;return(m=this.options.publicId)!=null?m.replace(/\//g,":"):void 0}},{key:"getFullPublicId",value:function(){return this.options.format!=null?this.getPublicId()+"."+this.options.format:this.getPublicId()}},{key:"format",value:function(m){return this.options.format=m,this}},{key:"toString",value:function(){var m;if(m=[],this.options.publicId==null)throw"Must supply publicId";return this.options.resourceType!=="image"&&m.push(this.options.resourceType),this.options.type!=="upload"&&m.push(this.options.type),m.push(this.getFullPublicId()),Se()(m).join(":")}},{key:"clone",value:function(){return new this.constructor(this.options)}}])}(),os=ef;function Ns(h){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ns(h)}function tu(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function qh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,Ds(g.key),g)}}function Wh(h,c,m){return c&&qh(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Ds(h){var c=Kh(h,"string");return Ns(c)=="symbol"?c:c+""}function Kh(h,c){if(Ns(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(Ns(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function Gh(h,c,m){return c=Pn(c),Qh(h,Wa()?Reflect.construct(c,m||[],Pn(h).constructor):c.apply(h,m))}function Qh(h,c){if(c&&(Ns(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yh(h)}function Yh(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Wa(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wa=function(){return!!h})()}function Pn(h){return Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Pn(h)}function Xh(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&nu(h,c)}function nu(h,c){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},nu(h,c)}var Ro=function(h){function c(m){var g;tu(this,c);var P;return g=Gh(this,c,[m]),P=["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","fontHinting","fontAntialiasing","text","textStyle"],m!=null&&P.forEach(function(F){var q;return g.options[F]=(q=m[F])!=null?q:m[ct(F)]}),g.options.resourceType="text",g}return Xh(c,h),Wh(c,[{key:"resourceType",value:function(g){throw"Cannot modify resourceType for text layers"}},{key:"type",value:function(g){throw"Cannot modify type for text layers"}},{key:"format",value:function(g){throw"Cannot modify format for text layers"}},{key:"fontFamily",value:function(g){return this.options.fontFamily=g,this}},{key:"fontSize",value:function(g){return this.options.fontSize=g,this}},{key:"fontWeight",value:function(g){return this.options.fontWeight=g,this}},{key:"fontStyle",value:function(g){return this.options.fontStyle=g,this}},{key:"textDecoration",value:function(g){return this.options.textDecoration=g,this}},{key:"textAlign",value:function(g){return this.options.textAlign=g,this}},{key:"stroke",value:function(g){return this.options.stroke=g,this}},{key:"letterSpacing",value:function(g){return this.options.letterSpacing=g,this}},{key:"lineSpacing",value:function(g){return this.options.lineSpacing=g,this}},{key:"fontHinting",value:function(g){return this.options.fontHinting=g,this}},{key:"fontAntialiasing",value:function(g){return this.options.fontAntialiasing=g,this}},{key:"text",value:function(g){return this.options.text=g,this}},{key:"textStyle",value:function(g){return this.options.textStyle=g,this}},{key:"toString",value:function(){var g,P,F,q,se,ne,we,Ue,Ze,ft;if(Ue=this.textStyleIdentifier(),this.options.publicId!=null&&(q=this.getFullPublicId()),this.options.text!=null){if(P=!Je(q),F=!Je(Ue),P&&F||!P&&!F)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(se=/\$\([a-zA-Z]\w*\)/g,we=0,ft=Ie(this.options.text,/[,\/]/g),Ze="";ne=se.exec(ft);)Ze+=Ie(ft.slice(we,ne.index)),Ze+=ne[0],we=ne.index+ne[0].length;Ze+=Ie(ft.slice(we))}return g=[this.options.resourceType,Ue,q,Ze],Se()(g).join(":")}},{key:"textStyleIdentifier",value:function(){if(!Je(this.options.textStyle))return this.options.textStyle;var g;if(g=[],this.options.fontWeight!=="normal"&&g.push(this.options.fontWeight),this.options.fontStyle!=="normal"&&g.push(this.options.fontStyle),this.options.textDecoration!=="none"&&g.push(this.options.textDecoration),g.push(this.options.textAlign),this.options.stroke!=="none"&&g.push(this.options.stroke),Je(this.options.letterSpacing)&&!de(this.options.letterSpacing)||g.push("letter_spacing_"+this.options.letterSpacing),Je(this.options.lineSpacing)&&!de(this.options.lineSpacing)||g.push("line_spacing_"+this.options.lineSpacing),Je(this.options.fontAntialiasing)||g.push("antialias_"+this.options.fontAntialiasing),Je(this.options.fontHinting)||g.push("hinting_"+this.options.fontHinting),!Je(Se()(g))){if(Je(this.options.fontFamily))throw"Must supply fontFamily. ".concat(g);if(Je(this.options.fontSize)&&!de(this.options.fontSize))throw"Must supply fontSize."}return g.unshift(this.options.fontFamily,this.options.fontSize),g=Se()(g).join("_"),g}}])}(os),f=Ro;function b(h){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},b(h)}function A(h,c,m){return Object.defineProperty(h,"prototype",{writable:!1}),h}function U(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function J(h,c,m){return c=rn(c),ie(h,Tt()?Reflect.construct(c,m||[],rn(h).constructor):c.apply(h,m))}function ie(h,c){if(c&&(b(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(h)}function Te(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Tt(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tt=function(){return!!h})()}function rn(h){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},rn(h)}function gt(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&hn(h,c)}function hn(h,c){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},hn(h,c)}var kn=function(h){function c(m){var g;return U(this,c),g=J(this,c,[m]),g.options.resourceType="subtitles",g}return gt(c,h),A(c)}(f),as=kn;function On(h){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},On(h)}function ru(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function tf(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,v5(g.key),g)}}function y5(h,c,m){return c&&tf(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function v5(h){var c=_5(h,"string");return On(c)=="symbol"?c:c+""}function _5(h,c){if(On(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(On(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function w5(h,c,m){return c=Jh(c),E5(h,cR()?Reflect.construct(c,m||[],Jh(h).constructor):c.apply(h,m))}function E5(h,c){if(c&&(On(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b5(h)}function b5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function cR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cR=function(){return!!h})()}function Jh(h){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Jh(h)}function T5(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&uv(h,c)}function uv(h,c){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},uv(h,c)}var S5=function(h){function c(m){var g;return ru(this,c),g=w5(this,c,[m]),Be()(m)?g.options.url=m:m!=null&&m.url&&(g.options.url=m.url),g}return T5(c,h),y5(c,[{key:"url",value:function(g){return this.options.url=g,this}},{key:"toString",value:function(){return"fetch:".concat(Yn(this.options.url))}}])}(os),Zh=S5;function nf(h,c,m){return c=Ls(c),x5(h,fR()?Reflect.construct(c,m||[],Ls(h).constructor):c.apply(h,m))}function x5(h,c){if(c&&(iu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R5(h)}function R5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function fR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!h})()}function Ka(){return typeof Reflect<"u"&&Reflect.get?Ka=Reflect.get.bind():Ka=function(c,m,g){var P=I5(c,m);if(P){var F=Object.getOwnPropertyDescriptor(P,m);return F.get?F.get.call(arguments.length<3?c:g):F.value}},Ka.apply(this,arguments)}function I5(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=Ls(h),h!==null););return h}function Ls(h){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Ls(h)}function rf(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&cv(h,c)}function cv(h,c){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},cv(h,c)}function iu(h){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},iu(h)}function su(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function dR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,C5(g.key),g)}}function ou(h,c,m){return c&&dR(h.prototype,c),m&&dR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function C5(h){var c=A5(h,"string");return iu(c)=="symbol"?c:c+""}function A5(h,c){if(iu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(iu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var ls=function(){function h(c,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.a;su(this,h),this.name=c,this.shortName=m,this.process=g}return ou(h,[{key:"set",value:function(m){return this.origValue=m,this}},{key:"serialize",value:function(){var m,g;return m=this.value(),g=ge()(m)||ce()(m)||Be()(m)?!Je(m):m!=null,this.shortName!=null&&g?"".concat(this.shortName,"_").concat(m):""}},{key:"value",value:function(){return this.process(this.origValue)}}],[{key:"norm_color",value:function(m){return m!=null?m.replace(/^#/,"rgb:"):void 0}},{key:"build_array",value:function(m){return m==null?[]:ge()(m)?m:[m]}},{key:"process_video_params",value:function(m){var g;switch(m.constructor){case Object:return g="","codec"in m&&(g=m.codec,"profile"in m&&(g+=":"+m.profile,"level"in m&&(g+=":"+m.level,"b_frames"in m&&m.b_frames===!1&&(g+=":bframes_no")))),g;case String:return m;default:return null}}}])}(),P5=function(h){function c(m,g){var P,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return su(this,c),P=nf(this,c,[m,g,q]),P.sep=F,P}return rf(c,h),ou(c,[{key:"serialize",value:function(){if(this.shortName!=null){var g=this.value();if(Je(g))return"";if(Be()(g))return"".concat(this.shortName,"_").concat(g);var P=g.map(function(F){return nt()(F.serialize)?F.serialize():F}).join(this.sep);return"".concat(this.shortName,"_").concat(P)}else return""}},{key:"value",value:function(){var g=this;return ge()(this.origValue)?this.origValue.map(function(P){return g.process(P)}):this.process(this.origValue)}},{key:"set",value:function(g){return g==null||ge()(g)?Ka(Ls(c.prototype),"set",this).call(this,g):Ka(Ls(c.prototype),"set",this).call(this,[g])}}])}(ls),k5=function(h){function c(m){var g,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"t",F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return su(this,c),g=nf(this,c,[m,P,q]),g.sep=F,g}return rf(c,h),ou(c,[{key:"serialize",value:function(){var g=this,P="",F=this.value();if(Je(F))return P;if(G(F)){var q=F.join(this.sep);Je(q)||(P="".concat(this.shortName,"_").concat(q))}else P=F.map(function(se){if(Be()(se)&&!Je(se))return"".concat(g.shortName,"_").concat(se);if(nt()(se.serialize))return se.serialize();if(ce()(se)&&!Je(se))return new Ii(se).serialize()}).filter(function(se){return se});return P}},{key:"set",value:function(g){return this.origValue=g,ge()(this.origValue)?Ka(Ls(c.prototype),"set",this).call(this,this.origValue):Ka(Ls(c.prototype),"set",this).call(this,[this.origValue])}}])}(ls),O5="([0-9]*)\\.([0-9]+)|([0-9]+)",N5="("+O5+")([%pP])?",D5=function(h){function c(m,g){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.norm_range_value;return su(this,c),nf(this,c,[m,g,P])}return rf(c,h),ou(c,null,[{key:"norm_range_value",value:function(g){var P=String(g).match(new RegExp("^"+N5+"$"));if(P){var F=P[5]!=null?"p":"";g=(P[1]||P[4])+F}return an.normalize(g)}}])}(ls),L5=function(h){function c(m,g){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.a;return su(this,c),nf(this,c,[m,g,P])}return rf(c,h),ou(c,[{key:"serialize",value:function(){return this.value()}}])}(ls),M5=function(h){function c(){return su(this,c),nf(this,c,arguments)}return rf(c,h),ou(c,[{key:"value",value:function(){if(this.origValue==null)return"";var g;if(this.origValue instanceof os)g=this.origValue;else if(ce()(this.origValue)){var P=Yt(this.origValue);P.resourceType==="text"||P.text!=null?g=new f(P):P.resourceType==="subtitles"?g=new as(P):P.resourceType==="fetch"||P.url!=null?g=new Zh(P):g=new os(P)}else Be()(this.origValue)?/^fetch:.+/.test(this.origValue)?g=new Zh(this.origValue.substr(6)):g=this.origValue:g="";return g.toString()}}],[{key:"textStyle",value:function(g){return new f(g).textStyleIdentifier()}}])}(ls);function F5(h,c,m){return c=ep(c),j5(h,hR()?Reflect.construct(c,m||[],ep(h).constructor):c.apply(h,m))}function j5(h,c){if(c&&(au(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5(h)}function V5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function hR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!h})()}function ep(h){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ep(h)}function U5(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&fv(h,c)}function fv(h,c){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},fv(h,c)}function dv(h,c){return H5(h)||z5(h,c)||$5(h,c)||B5()}function B5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5(h,c){if(h){if(typeof h=="string")return pR(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return pR(h,c)}}function pR(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function z5(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,F,q,se=[],ne=!0,we=!1;try{if(F=(m=m.call(h)).next,c!==0)for(;!(ne=(g=F.call(m)).done)&&(se.push(g.value),se.length!==c);ne=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!ne&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return se}}function H5(h){if(Array.isArray(h))return h}function au(h){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},au(h)}function mR(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function gR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,q5(g.key),g)}}function yR(h,c,m){return c&&gR(h.prototype,c),m&&gR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function q5(h){var c=W5(h,"string");return au(c)=="symbol"?c:c+""}function W5(h,c){if(au(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(au(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function vR(h){for(var c=arguments.length,m=new Array(c>1?c-1:0),g=1;g<c;g++)m[g-1]=arguments[g];return m.forEach(function(P){Object.keys(P).forEach(function(F){P[F]!=null&&(h[F]=P[F])})}),h}var hv=function(){function h(c){mR(this,h);var m,g;m=void 0,g={},this.toOptions=function(P){var F={};if(P==null&&(P=!0),Object.keys(g).forEach(function(se){return F[se]=g[se].origValue}),vR(F,this.otherOptions),P&&!Je(this.chained)){var q=this.chained.map(function(se){return se.toOptions()});q.push(F),F={},vR(F,this.otherOptions),F.transformation=q}return F},this.setParent=function(P){return m=P,P!=null&&this.fromOptions(typeof P.toOptions=="function"?P.toOptions():void 0),this},this.getParent=function(){return m},this.param=function(P,F,q,se,ne){return ne==null&&(nt()(se)?ne=se:ne=st.a),g[F]=new ls(F,q,ne).set(P),this},this.rawParam=function(P,F,q,se,ne){return ne=tp(arguments),g[F]=new L5(F,q,ne).set(P),this},this.rangeParam=function(P,F,q,se,ne){return ne=tp(arguments),g[F]=new D5(F,q,ne).set(P),this},this.arrayParam=function(P,F,q){var se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:":",ne=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return ne=tp(arguments),g[F]=new P5(F,q,se,ne).set(P),this},this.transformationParam=function(P,F,q){var se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",ne=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return ne=tp(arguments),g[F]=new k5(F,q,se,ne).set(P),this},this.layerParam=function(P,F,q){return g[F]=new M5(F,q).set(P),this},this.getValue=function(P){var F=g[P]&&g[P].value();return F??this.otherOptions[P]},this.get=function(P){return g[P]},this.remove=function(P){var F;switch(!1){case g[P]==null:return F=g[P],delete g[P],F.origValue;case this.otherOptions[P]==null:return F=this.otherOptions[P],delete this.otherOptions[P],F;default:return null}},this.keys=function(){var P;return function(){var F;F=[];for(P in g)P!=null&&F.push(P.match(pv)?P:ct(P));return F}().sort()},this.toPlainObject=function(){var P,F,q;P={};for(F in g)P[F]=g[F].value(),ce()(P[F])&&(P[F]=xe()(P[F]));return Je(this.chained)||(q=this.chained.map(function(se){return se.toPlainObject()}),q.push(P),P={transformation:q}),P},this.chain=function(){var P,F;return P=Object.getOwnPropertyNames(g),P.length!==0&&(F=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(F)),this},this.resetTransformations=function(){return g={},this},this.otherOptions={},this.chained=[],this.fromOptions(c)}return yR(h,[{key:"fromOptions",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m instanceof h)this.fromTransformation(m);else{(Be()(m)||ge()(m))&&(m={transformation:m}),m=xe()(m,function(F){if(F instanceof h||F instanceof Layer)return new F.clone}),m.if&&(this.set("if",m.if),delete m.if);for(var g in m){var P=m[g];P!=null&&(g.match(pv)?g!=="$attr"&&this.set("variable",g,P):this.set(g,P))}}return this}},{key:"fromTransformation",value:function(m){var g=this;return m instanceof h&&m.keys().forEach(function(P){return g.set(P,m.get(P).origValue)}),this}},{key:"set",value:function(m){var g;g=at(m);for(var P=arguments.length,F=new Array(P>1?P-1:0),q=1;q<P;q++)F[q-1]=arguments[q];return Z()(Io.methods,g)?this[g].apply(this,F):this.otherOptions[m]=F[0],this}},{key:"hasLayer",value:function(){return this.getValue("overlay")||this.getValue("underlay")}},{key:"serialize",value:function(){var m,g,P,F,q,se,ne,we,Ue,Ze,ft,Ft,Fs,Ao,us,yu,vu;for(Ze=this.chained.map(function(js){return js.serialize()}),F=this.keys(),Ao=(q=this.get("transformation"))!=null?q.serialize():void 0,m=(se=this.get("if"))!=null?se.serialize():void 0,yu=K5((ne=this.get("variables"))!=null?ne.value():void 0),F=Et()(F,["transformation","if","variables"]),vu=[],Ft=[],g=0,P=F.length;g<P;g++)ft=F[g],ft.match(pv)?vu.push(ft+"_"+an.normalize((we=this.get(ft))!=null?we.value():void 0)):Ft.push((Ue=this.get(ft))!=null?Ue.serialize():void 0);switch(!1){case!Be()(Ao):Ft.push(Ao);break;case!ge()(Ao):Ze=Ze.concat(Ao)}return Ft=function(){var js,_u,xv;for(xv=[],js=0,_u=Ft.length;js<_u;js++)us=Ft[js],(ge()(us)&&!Je(us)||!ge()(us)&&us)&&xv.push(us);return xv}(),Ft=vu.sort().concat(yu).concat(Ft.sort()),m==="if_end"?Ft.push(m):Je(m)||Ft.unshift(m),Fs=Se()(Ft).join(this.param_separator),Je(Fs)||Ze.push(Fs),Se()(Ze).join(this.trans_separator)}},{key:"toHtmlAttributes",value:function(){var m=this,g,P,F,q,se,ne,we;F={};var Ue;return Object.keys(this.otherOptions).forEach(function(Ze){ne=m.otherOptions[Ze],Ue=ct(Ze),!Z()(Io.PARAM_NAMES,Ue)&&!Z()(bi,Ue)&&(g=/^html_/.test(Ze)?Ze.slice(5):Ze,F[g]=ne)}),this.keys().forEach(function(Ze){/^html_/.test(Ze)&&(F[at(Ze.slice(5))]=m.getValue(Ze))}),this.hasLayer()||this.getValue("angle")||Z()(["fit","limit","lfill"],this.getValue("crop"))||(we=(q=this.get("width"))!=null?q.origValue:void 0,P=(se=this.get("height"))!=null?se.origValue:void 0,parseFloat(we)>=1&&F.width==null&&(F.width=we),parseFloat(P)>=1&&F.height==null&&(F.height=P)),F}},{key:"toHtml",value:function(){var m;return(m=this.getParent())!=null&&typeof m.toHtml=="function"?m.toHtml():void 0}},{key:"toString",value:function(){return this.serialize()}},{key:"clone",value:function(){return new this.constructor(this.toOptions(!0))}}],[{key:"listNames",value:function(){return Io.methods}},{key:"isValidParamName",value:function(m){return Io.methods.indexOf(at(m))>=0}}])}(),pv=/^\$[a-zA-Z0-9]+$/;hv.prototype.trans_separator="/",hv.prototype.param_separator=",";function tp(h){var c;if(c=h!=null?h[h.length-1]:void 0,nt()(c))return c}function K5(h){var c,m,g,P,F;if(ge()(h)){for(P=[],c=0,m=h.length;c<m;c++){var q=dv(h[c],2);g=q[0],F=q[1],P.push("".concat(g,"_").concat(an.normalize(F)))}return P}else return h}function _R(h){var c=h.function_type,m=h.source;if(c==="remote")return[c,btoa(m)].join(":");if(c==="wasm")return[c,m].join(":")}var Io=function(h){function c(m){return mR(this,c),F5(this,c,[m])}return U5(c,h),yR(c,[{key:"angle",value:function(g){return this.arrayParam(g,"angle","a",".",an.normalize)}},{key:"audioCodec",value:function(g){return this.param(g,"audio_codec","ac")}},{key:"audioFrequency",value:function(g){return this.param(g,"audio_frequency","af")}},{key:"aspectRatio",value:function(g){return this.param(g,"aspect_ratio","ar",an.normalize)}},{key:"background",value:function(g){return this.param(g,"background","b",ls.norm_color)}},{key:"bitRate",value:function(g){return this.param(g,"bit_rate","br")}},{key:"border",value:function(g){return this.param(g,"border","bo",function(P){return ce()(P)?(P=W()({},{color:"black",width:2},P),"".concat(P.width,"px_solid_").concat(ls.norm_color(P.color))):P})}},{key:"color",value:function(g){return this.param(g,"color","co",ls.norm_color)}},{key:"colorSpace",value:function(g){return this.param(g,"color_space","cs")}},{key:"crop",value:function(g){return this.param(g,"crop","c")}},{key:"customFunction",value:function(g){return this.param(g,"custom_function","fn",function(){return _R(g)})}},{key:"customPreFunction",value:function(g){if(!this.get("custom_function"))return this.rawParam(g,"custom_function","",function(){return g=_R(g),g&&"fn_pre:".concat(g)})}},{key:"defaultImage",value:function(g){return this.param(g,"default_image","d")}},{key:"delay",value:function(g){return this.param(g,"delay","dl")}},{key:"density",value:function(g){return this.param(g,"density","dn")}},{key:"duration",value:function(g){return this.rangeParam(g,"duration","du")}},{key:"dpr",value:function(g){return this.param(g,"dpr","dpr",function(P){return P=P.toString(),P!=null&&P.match(/^\d+$/)?P+".0":an.normalize(P)})}},{key:"effect",value:function(g){return this.arrayParam(g,"effect","e",":",an.normalize)}},{key:"else",value:function(){return this.if("else")}},{key:"endIf",value:function(){return this.if("end")}},{key:"endOffset",value:function(g){return this.rangeParam(g,"end_offset","eo")}},{key:"fallbackContent",value:function(g){return this.param(g,"fallback_content")}},{key:"fetchFormat",value:function(g){return this.param(g,"fetch_format","f")}},{key:"format",value:function(g){return this.param(g,"format")}},{key:"flags",value:function(g){return this.arrayParam(g,"flags","fl",".")}},{key:"gravity",value:function(g){return this.param(g,"gravity","g")}},{key:"fps",value:function(g){return this.param(g,"fps","fps",function(P){return Be()(P)?P:ge()(P)?P.join("-"):P})}},{key:"height",value:function(g){var P=this;return this.param(g,"height","h",function(){return P.getValue("crop")||P.getValue("overlay")||P.getValue("underlay")?an.normalize(g):null})}},{key:"htmlHeight",value:function(g){return this.param(g,"html_height")}},{key:"htmlWidth",value:function(g){return this.param(g,"html_width")}},{key:"if",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P,F,q,se,ne;switch(g){case"else":return this.chain(),this.param(g,"if","if");case"end":for(this.chain(),P=q=this.chained.length-1;q>=0&&(F=this.chained[P].getValue("if"),F!=="end");P=q+=-1)if(F!=null&&(se=c.new().if(F),this.chained[P].remove("if"),ne=this.chained[P],this.chained[P]=c.new().transformation([se,ne]),F!=="else"))break;return this.param(g,"if","if");case"":return Ot.new().setParent(this);default:return this.param(g,"if","if",function(we){return Ot.new(we).toString()})}}},{key:"keyframeInterval",value:function(g){return this.param(g,"keyframe_interval","ki")}},{key:"ocr",value:function(g){return this.param(g,"ocr","ocr")}},{key:"offset",value:function(g){var P,F,q=nt()(g!=null?g.split:void 0)?g.split(".."):ge()(g)?g:[null,null],se=dv(q,2);if(F=se[0],P=se[1],F!=null&&this.startOffset(F),P!=null)return this.endOffset(P)}},{key:"opacity",value:function(g){return this.param(g,"opacity","o",an.normalize)}},{key:"overlay",value:function(g){return this.layerParam(g,"overlay","l")}},{key:"page",value:function(g){return this.param(g,"page","pg")}},{key:"poster",value:function(g){return this.param(g,"poster")}},{key:"prefix",value:function(g){return this.param(g,"prefix","p")}},{key:"quality",value:function(g){return this.param(g,"quality","q",an.normalize)}},{key:"radius",value:function(g){return this.arrayParam(g,"radius","r",":",an.normalize)}},{key:"rawTransformation",value:function(g){return this.rawParam(g,"raw_transformation")}},{key:"size",value:function(g){var P,F;if(nt()(g!=null?g.split:void 0)){var q=g.split("x"),se=dv(q,2);return F=se[0],P=se[1],this.width(F),this.height(P)}}},{key:"sourceTypes",value:function(g){return this.param(g,"source_types")}},{key:"sourceTransformation",value:function(g){return this.param(g,"source_transformation")}},{key:"startOffset",value:function(g){return this.rangeParam(g,"start_offset","so")}},{key:"streamingProfile",value:function(g){return this.param(g,"streaming_profile","sp")}},{key:"transformation",value:function(g){return this.transformationParam(g,"transformation","t")}},{key:"underlay",value:function(g){return this.layerParam(g,"underlay","u")}},{key:"variable",value:function(g,P){return this.param(P,g,g)}},{key:"variables",value:function(g){return this.arrayParam(g,"variables")}},{key:"videoCodec",value:function(g){return this.param(g,"video_codec","vc",ls.process_video_params)}},{key:"videoSampling",value:function(g){return this.param(g,"video_sampling","vs")}},{key:"width",value:function(g){var P=this;return this.param(g,"width","w",function(){return P.getValue("crop")||P.getValue("overlay")||P.getValue("underlay")?an.normalize(g):null})}},{key:"x",value:function(g){return this.param(g,"x","x",an.normalize)}},{key:"y",value:function(g){return this.param(g,"y","y",an.normalize)}},{key:"zoom",value:function(g){return this.param(g,"zoom","z",an.normalize)}}],[{key:"new",value:function(g){return new c(g)}}])}(hv);Io.methods=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","customFunction","customPreFunction","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","ocr","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],Io.PARAM_NAMES=Io.methods.map(ct).concat(Ha.CONFIG_PARAMS);var Ii=Io;function sf(h){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},sf(h)}function G5(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function wR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,Y5(g.key),g)}}function Q5(h,c,m){return c&&wR(h.prototype,c),m&&wR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function Y5(h){var c=X5(h,"string");return sf(c)=="symbol"?c:c+""}function X5(h,c){if(sf(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(sf(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var J5=function(){function h(c,m,g){G5(this,h);var P;this.name=c,this.publicId=m,g==null&&(ce()(m)?(g=m,this.publicId=void 0):g={}),P=new Ii(g),P.setParent(this),this.transformation=function(){return P}}return Q5(h,[{key:"htmlAttrs",value:function(m){var g,P;return function(){var F;F=[];for(g in m)P=eV(m[g]),P&&F.push(Z5(g,P));return F}().sort().join(" ")}},{key:"getOptions",value:function(){return this.transformation().toOptions()}},{key:"getOption",value:function(m){return this.transformation().getValue(m)}},{key:"attributes",value:function(){var m=this.transformation().toHtmlAttributes();return Object.keys(m).forEach(function(g){ce()(m[g])&&delete m[g]}),m.attributes&&(qe()(m,m.attributes),delete m.attributes),m}},{key:"setAttr",value:function(m,g){return this.transformation().set("html_".concat(m),g),this}},{key:"getAttr",value:function(m){return this.attributes()["html_".concat(m)]||this.attributes()[m]}},{key:"removeAttr",value:function(m){var g;return(g=this.transformation().remove("html_".concat(m)))!=null?g:this.transformation().remove(m)}},{key:"content",value:function(){return""}},{key:"openTag",value:function(){var m="<"+this.name,g=this.htmlAttrs(this.attributes());return g&&g.length>0&&(m+=" "+g),m+">"}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"toHtml",value:function(){return this.openTag()+this.content()+this.closeTag()}},{key:"toDOM",value:function(){var m,g,P,F;if(!nt()(typeof document<"u"&&document!==null?document.createElement:void 0))throw"Can't create DOM if document is not present!";m=document.createElement(this.name),P=this.attributes();for(g in P)F=P[g],m.setAttribute(g,F);return m}}],[{key:"new",value:function(m,g,P){return new this(m,g,P)}},{key:"isResponsive",value:function(m,g){var P;return P=mt(m,"src-cache")||mt(m,"src"),ts(m,g)&&/\bw_auto\b/.exec(P)}}])}();function Z5(h,c){if(c)return c===!0?h:"".concat(h,'="').concat(c,'"')}function eV(h){return Be()(h)?h.replace('"',"&#34;").replace("'","&#39;"):h}var Co=J5,tV=["placeholder","accessibility"];function nV(h,c){if(h==null)return{};var m=rV(h,c),g,P;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(h);for(P=0;P<F.length;P++)g=F[P],!(c.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(h,g)&&(m[g]=h[g])}return m}function rV(h,c){if(h==null)return{};var m={},g=Object.keys(h),P,F;for(F=0;F<g.length;F++)P=g[F],!(c.indexOf(P)>=0)&&(m[P]=h[P]);return m}function iV(h){var c=document.location.protocol+"//"+document.location.host;return h[0]==="?"?c+=document.location.pathname:h[0]!=="/"&&(c+=document.location.pathname.replace(/\/[^\/]*$/,"/")),c+h}function np(h){return h?!!h.match(/^https?:\//):!1}function sV(h){return T(h)%5+1}function oV(h){var c=h.signature,m=!c||c.indexOf("s--")===0&&c.substr(-2)==="--";return delete h.signature,m?c:"s--".concat(c,"--")}function aV(h,c){if(c.cloud_name&&c.cloud_name[0]==="/")return"/res"+c.cloud_name;var m="http://",g="",P="res",F=".cloudinary.com",q="/"+c.cloud_name;return c.protocol&&(m=c.protocol+"//"),c.private_cdn&&(g=c.cloud_name+"-",q=""),c.cdn_subdomain&&(P="res-"+sV(h)),c.secure?(m="https://",c.secure_cdn_subdomain===!1&&(P="res"),c.secure_distribution!=null&&c.secure_distribution!==bo&&c.secure_distribution!==Ps&&(g="",P="",F=c.secure_distribution)):c.cname&&(m="http://",g="",P=c.cdn_subdomain?"a"+(T(h)%5+1)+".":"",F=c.cname),[m,g,P,F,q].join("")}function lV(h){var c=h.resource_type,m=c===void 0?"image":c,g=h.type,P=g===void 0?"upload":g,F=h.url_suffix,q=h.use_root_path,se=h.shorten,ne,we=m;if(ce()(we)&&(ne=we,we=ne.resource_type,P=ne.type,se=ne.shorten),P==null&&(P="upload"),F!=null&&(we=Xi["".concat(we,"/").concat(P)],P=null,we==null))throw new Error("URL Suffix only supported for ".concat(Object.keys(Xi).join(", ")));if(q)if(we==="image"&&P==="upload"||we==="images")we=null,P=null;else throw new Error("Root path only supported for image/upload");return se&&we==="image"&&P==="upload"&&(we="iu",P=null),[we,P].join("/")}function ER(h){return encodeURIComponent(h).replace(/%3A/g,":").replace(/%2F/g,"/")}function uV(h,c){if(np(h))h=ER(h);else{try{h=decodeURIComponent(h)}catch{}h=ER(h),c.url_suffix&&(h=h+"/"+c.url_suffix),c.format&&(c.trust_public_id||(h=h.replace(/\.(jpg|png|gif|webp)$/,"")),h=h+"."+c.format)}return h}function cV(h){var c=h.cloud_name,m=h.url_suffix;if(!c)return"Unknown cloud_name";if(m&&m.match(/[\.\/]/))return"url_suffix should not include . or /"}function fV(h,c){var m=c.force_version||typeof c.force_version>"u",g=h.indexOf("/")<0||h.match(/^v[0-9]+/)||np(h)||c.version;return m&&!g&&(c.version=1),c.version?"v".concat(c.version):""}function dV(h){var c=h||{},m=c.placeholder,g=c.accessibility,P=nV(c,tV),F=new Ii(P);if(g&&ri[g]&&F.chain().effect(ri[g]),m){m==="predominant-color"&&F.getValue("width")&&F.getValue("height")&&(m+="-pixel");var q=Ei[m]||Ei.blur;q.forEach(function(se){return F.chain().transformation(se)})}return F.serialize()}function hV(h,c){var m=c.type;return!np(h)&&m==="fetch"?iV(h):h}function pV(h,c){if(np(h)&&(c.type==="upload"||c.type==="asset"))return h;var m=fV(h,c),g=dV(c),P=aV(h,c),F=oV(c),q=lV(c);return h=uV(h,c),Se()([P,q,F,g,m,h]).join("/").replace(/([^:])\/+/g,"$1/").replace(" ","%20")}function mV(h,c){return h instanceof Ii&&(h=h.toOptions()),h=Oe({},h,c,Os),h.type==="fetch"&&(h.fetch_format=h.fetch_format||h.format),h}function Ms(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!h)return h;c=mV(c,m),h=hV(h,c);var g=cV(c);if(g)throw g;var P=pV(h,c);if(c.urlAnalytics){var F=Ae(c),q=K(F),se="?";P.indexOf("?")>=0&&(se="&"),P="".concat(P).concat(se,"_a=").concat(q)}if(c.auth_token){var ne=P.indexOf("?")>=0?"&":"?";P="".concat(P).concat(ne,"__cld_token__=").concat(c.auth_token)}return P}function gV(h,c){return wV(h)||_V(h,c)||vV(h,c)||yV()}function yV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(h,c){if(h){if(typeof h=="string")return bR(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return bR(h,c)}}function bR(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function _V(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,F,q,se=[],ne=!0,we=!1;try{if(F=(m=m.call(h)).next,c!==0)for(;!(ne=(g=F.call(m)).done)&&(se.push(g.value),se.length!==c);ne=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!ne&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return se}}function wV(h){if(Array.isArray(h))return h}function EV(h){var c=h.breakpoints||[];if(c.length)return c;var m=[h.min_width,h.max_width,h.max_images].map(Number),g=gV(m,3),P=g[0],F=g[1],q=g[2];if([P,F,q].some(isNaN))throw"Either (min_width, max_width, max_images) or breakpoints must be provided to the image srcset attribute";if(P>F)throw"min_width must be less than max_width";if(q<=0)throw"max_images must be a positive integer";q===1&&(P=F);for(var se=Math.ceil((F-P)/Math.max(q-1,1)),ne=P;ne<F;ne+=se)c.push(ne);return c.push(F),c}var mv=Je;function bV(h,c,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},P=Xn(g);return m=m||g,P.raw_transformation=new Ii([qe.a({},m),{crop:"scale",width:c}]).toString(),Ms(h,P)}function TV(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return EV(c)}function SV(h,c,m,g){return g=xe.a(g),Tn(g),c.map(function(P){return"".concat(bV(h,P,m,g)," ").concat(P,"w")}).join(", ")}function xV(h){return h==null?"":h.map(function(c){return"(max-width: ".concat(c,"px) ").concat(c,"px")}).join(", ")}function TR(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},P={};if(mv(m))return P;var F=!c.sizes&&m.sizes===!0,q=!c.srcset;if(q||F){var se=TV(h,m,g);if(q){var ne=m.transformation,we=SV(h,se,ne,g);mv(we)||(P.srcset=we)}if(F){var Ue=xV(se);mv(Ue)||(P.sizes=Ue)}}return P}function RV(h){var c=[];return h!=null&&(h.min_width!=null&&c.push("(min-width: ".concat(h.min_width,"px)")),h.max_width!=null&&c.push("(max-width: ".concat(h.max_width,"px)"))),c.join(" and ")}function lu(h){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},lu(h)}function IV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function CV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,PV(g.key),g)}}function AV(h,c,m){return c&&CV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function PV(h){var c=kV(h,"string");return lu(c)=="symbol"?c:c+""}function kV(h,c){if(lu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(lu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function OV(h,c,m){return c=uu(c),NV(h,SR()?Reflect.construct(c,m||[],uu(h).constructor):c.apply(h,m))}function NV(h,c){if(c&&(lu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(h)}function DV(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function SR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!h})()}function rp(){return typeof Reflect<"u"&&Reflect.get?rp=Reflect.get.bind():rp=function(c,m,g){var P=LV(c,m);if(P){var F=Object.getOwnPropertyDescriptor(P,m);return F.get?F.get.call(arguments.length<3?c:g):F.value}},rp.apply(this,arguments)}function LV(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=uu(h),h!==null););return h}function uu(h){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},uu(h)}function MV(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&gv(h,c)}function gv(h,c){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},gv(h,c)}var FV=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return IV(this,c),OV(this,c,["img",m,g])}return MV(c,h),AV(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var g,P,F;g=rp(uu(c.prototype),"attributes",this).call(this)||{},P=this.getOptions();var q=this.getOption("attributes")||{},se=this.getOption("srcset")||q.srcset,ne={};return Be()(se)?ne.srcset=se:ne=TR(this.publicId,q,se,P),Je(ne)||(delete g.width,delete g.height),qe()(g,ne),F=P.responsive&&!P.client_hints?"data-src":"src",g[F]==null&&(g[F]=Ms(this.publicId,this.getOptions())),g}}])}(Co),ip=FV;function cu(h){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},cu(h)}function jV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function VV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,BV(g.key),g)}}function UV(h,c,m){return c&&VV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function BV(h){var c=$V(h,"string");return cu(c)=="symbol"?c:c+""}function $V(h,c){if(cu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(cu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function zV(h,c,m){return c=fu(c),HV(h,xR()?Reflect.construct(c,m||[],fu(h).constructor):c.apply(h,m))}function HV(h,c){if(c&&(cu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qV(h)}function qV(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function xR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!h})()}function sp(){return typeof Reflect<"u"&&Reflect.get?sp=Reflect.get.bind():sp=function(c,m,g){var P=WV(c,m);if(P){var F=Object.getOwnPropertyDescriptor(P,m);return F.get?F.get.call(arguments.length<3?c:g):F.value}},sp.apply(this,arguments)}function WV(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=fu(h),h!==null););return h}function fu(h){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},fu(h)}function KV(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&yv(h,c)}function yv(h,c){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},yv(h,c)}var GV=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jV(this,c),zV(this,c,["source",m,g])}return KV(c,h),UV(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var g=this.getOption("srcset"),P=sp(fu(c.prototype),"attributes",this).call(this)||{},F=this.getOptions();return qe()(P,TR(this.publicId,P,g,F)),P.srcset||(P.srcset=Ms(this.publicId,F)),!P.media&&F.media&&(P.media=RV(F.media)),P}}])}(Co),RR=GV;function du(h){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},du(h)}function QV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function YV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,JV(g.key),g)}}function XV(h,c,m){return c&&YV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function JV(h){var c=ZV(h,"string");return du(c)=="symbol"?c:c+""}function ZV(h,c){if(du(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(du(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function e8(h,c,m){return c=hu(c),t8(h,IR()?Reflect.construct(c,m||[],hu(h).constructor):c.apply(h,m))}function t8(h,c){if(c&&(du(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n8(h)}function n8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function IR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!h})()}function op(){return typeof Reflect<"u"&&Reflect.get?op=Reflect.get.bind():op=function(c,m,g){var P=r8(c,m);if(P){var F=Object.getOwnPropertyDescriptor(P,m);return F.get?F.get.call(arguments.length<3?c:g):F.value}},op.apply(this,arguments)}function r8(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=hu(h),h!==null););return h}function hu(h){return hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},hu(h)}function i8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&vv(h,c)}function vv(h,c){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},vv(h,c)}var s8=function(h){function c(m){var g,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return QV(this,c),g=e8(this,c,["picture",m,P]),g.widthList=F,g}return i8(c,h),XV(c,[{key:"content",value:function(){var g=this;return this.widthList.map(function(P){var F=P.min_width,q=P.max_width,se=P.transformation,ne=g.getOptions(),we=new Ii(ne);return we.chain().fromOptions(typeof se=="string"?{raw_transformation:se}:se),ne=Xn(ne),ne.media={min_width:F,max_width:q},ne.transformation=we,new RR(g.publicId,ne).toHtml()}).join("")+new ip(this.publicId,this.getOptions()).toHtml()}},{key:"attributes",value:function(){var g=op(hu(c.prototype),"attributes",this).call(this);return delete g.width,delete g.height,g}},{key:"closeTag",value:function(){return"</"+this.name+">"}}])}(Co),_v=s8;function pu(h){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},pu(h)}function o8(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function a8(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,u8(g.key),g)}}function l8(h,c,m){return c&&a8(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function u8(h){var c=c8(h,"string");return pu(c)=="symbol"?c:c+""}function c8(h,c){if(pu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(pu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function f8(h,c,m){return c=mu(c),d8(h,CR()?Reflect.construct(c,m||[],mu(h).constructor):c.apply(h,m))}function d8(h,c){if(c&&(pu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h8(h)}function h8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function CR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!h})()}function ap(){return typeof Reflect<"u"&&Reflect.get?ap=Reflect.get.bind():ap=function(c,m,g){var P=p8(c,m);if(P){var F=Object.getOwnPropertyDescriptor(P,m);return F.get?F.get.call(arguments.length<3?c:g):F.value}},ap.apply(this,arguments)}function p8(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=mu(h),h!==null););return h}function mu(h){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},mu(h)}function m8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&wv(h,c)}function wv(h,c){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},wv(h,c)}var g8=["source_types","source_transformation","fallback_content","poster","sources"],y8=["webm","mp4","ogv"],v8={format:"jpg",resource_type:"video"},_8=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o8(this,c),g=Oe({},g,Ji),f8(this,c,["video",m.replace(/\.(mp4|ogv|webm)$/,""),g])}return m8(c,h),l8(c,[{key:"setSourceTransformation",value:function(g){return this.transformation().sourceTransformation(g),this}},{key:"setSourceTypes",value:function(g){return this.transformation().sourceTypes(g),this}},{key:"setPoster",value:function(g){return this.transformation().poster(g),this}},{key:"setFallbackContent",value:function(g){return this.transformation().fallbackContent(g),this}},{key:"content",value:function(){var g=this,P=this.transformation().getValue("source_types"),F=this.transformation().getValue("source_transformation"),q=this.transformation().getValue("fallback_content"),se=this.getOption("sources"),ne=[];return ge()(se)&&!Je(se)?ne=se.map(function(we){var Ue=Ms(g.publicId,Oe({},we.transformations||{},{resource_type:"video",format:we.type}),g.getOptions());return g.createSourceTag(Ue,we.type,we.codecs)}):(Je(P)&&(P=y8),ge()(P)&&(ne=P.map(function(we){var Ue=Ms(g.publicId,Oe({},F[we]||{},{resource_type:"video",format:we}),g.getOptions());return g.createSourceTag(Ue,we)}))),ne.join("")+q}},{key:"attributes",value:function(){var g=this.getOption("source_types"),P=this.getOption("poster");if(P===void 0&&(P={}),ce()(P)){var F=P.public_id!=null?Os:v8;P=Ms(P.public_id||this.publicId,Oe({},P,F,this.getOptions()))}var q=ap(mu(c.prototype),"attributes",this).call(this)||{};q=H(q,g8);var se=this.getOption("sources"),ne=!Je(se)||Je(g)||ge()(g);return ne||(q.src=Ms(this.publicId,this.getOptions(),{resource_type:"video",format:g})),P!=null&&(q.poster=P),q}},{key:"createSourceTag",value:function(g,P){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,q=null;if(!Je(P)){var se=P==="ogv"?"ogg":P;if(q="video/"+se,!Je(F)){var ne=ge()(F)?F.join(", "):F;q+="; codecs="+ne}}return"<source "+this.htmlAttrs({src:g,type:q})+">"}}])}(Co),Ev=_8;function gu(h){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},gu(h)}function w8(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function E8(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,T8(g.key),g)}}function b8(h,c,m){return c&&E8(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function T8(h){var c=S8(h,"string");return gu(c)=="symbol"?c:c+""}function S8(h,c){if(gu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(gu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function x8(h,c,m){return c=lp(c),R8(h,AR()?Reflect.construct(c,m||[],lp(h).constructor):c.apply(h,m))}function R8(h,c){if(c&&(gu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8(h)}function I8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function AR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!h})()}function lp(h){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},lp(h)}function C8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&bv(h,c)}function bv(h,c){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},bv(h,c)}var A8=function(h){function c(m){return w8(this,c),x8(this,c,["meta",void 0,W()({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},m)])}return C8(c,h),b8(c,[{key:"closeTag",value:function(){return""}}])}(Co),PR=A8;function P8(h){return D8(h)||N8(h)||O8(h)||k8()}function k8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8(h,c){if(h){if(typeof h=="string")return Tv(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Tv(h,c)}}function N8(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function D8(h){if(Array.isArray(h))return Tv(h)}function Tv(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function L8(h){return ge()(h)?h:h.constructor.name==="NodeList"?P8(h):Be()(h)?Array.prototype.slice.call(document.querySelectorAll(h),0):[h]}function M8(h,c,m,g){return new Promise(function(P,F){h.innerHTML=c.videoTag(m,g).toHtml();var q=h.querySelector(".cld-transparent-video");q.style.width="100%",P(h)})}var F8=M8;function j8(h,c){h.transformation?h.transformation.push({flags:[c]}):(h.flags||(h.flags=[]),typeof h.flags=="string"&&(h.flags=[h.flags]),h.flags.push(c))}var V8=j8;function U8(h){h.autoplay=!0,h.muted=!0,h.controls=!1,h.max_timeout_ms=h.max_timeout_ms||Yi,h.class=h.class||"",h.class+=" cld-transparent-video",h.externalLibraries=h.externalLibraries||{},h.externalLibraries.seeThru||(h.externalLibraries.seeThru=Qt.seeThru),V8(h,"alpha")}var B8=U8;function $8(h,c,m){return new Promise(function(g,P){if(m)g();else{var F=document.createElement("script");F.src=h;var q=setTimeout(function(){P({status:"error",message:"Timeout loading script ".concat(h)})},c);F.onerror=function(){clearTimeout(q),P({status:"error",message:"Error loading ".concat(h)})},F.onload=function(){clearTimeout(q),g()},document.head.appendChild(F)}})}var z8=$8;function H8(h,c){return setTimeout(function(){c({status:"error",message:"Timeout loading Blob URL"})},h)}function q8(h,c){return new Promise(function(m,g){var P=H8(c,g),F=typeof fetch<"u"&&fetch?W8:K8;F(h).then(function(q){m({status:"success",payload:{blobURL:URL.createObjectURL(q)}})}).catch(function(){g({status:"error",message:"Error loading Blob URL"})}).finally(function(){clearTimeout(P)})})}function W8(h){return new Promise(function(c,m){fetch(h).then(function(g){g.blob().then(function(P){c(P)})}).catch(function(){m("error")})})}function K8(h){return new Promise(function(c,m){var g=new XMLHttpRequest;g.responseType="blob",g.onload=function(P){c(g.response)},g.onerror=function(){m("error")},g.open("GET",h,!0),g.send()})}var G8=q8;function Q8(h){var c=h.autoplay,m=h.playsinline,g=h.loop,P=h.muted,F=h.poster,q=h.blobURL,se=h.videoURL,ne=document.createElement("video");return ne.style.visibility="hidden",ne.position="absolute",ne.x=0,ne.y=0,ne.src=q,ne.setAttribute("data-video-url",se),c&&ne.setAttribute("autoplay",c),m&&ne.setAttribute("playsinline",m),g&&ne.setAttribute("loop",g),P&&ne.setAttribute("muted",P),P&&(ne.muted=P),F&&ne.setAttribute("poster",F),ne.onload=function(){URL.revokeObjectURL(q)},ne}var Y8=Q8;function X8(h,c,m,g){var P=window,F=P.seeThru,q=P.setTimeout,se=P.clearTimeout;return new Promise(function(ne,we){var Ue=q(function(){we({status:"error",message:"Timeout instantiating seeThru instance"})},c);if(F)var Ze=F.create(h).ready(function(){se(Ue);var ft=Ze.getCanvas();ft.style.width="100%",ft.className+=" "+m,g&&Ze.play(),ne(Ze)});else we({status:"error",message:"Error instantiating seeThru instance"})})}var J8=X8;function Z8(h,c,m){var g=m.poster,P=m.autoplay,F=m.playsinline,q=m.loop,se=m.muted;return c=c+".mp4",new Promise(function(ne,we){z8(m.externalLibraries.seeThru,m.max_timeout_ms,window.seeThru).then(function(){G8(c,m.max_timeout_ms).then(function(Ue){var Ze=Ue.payload,ft=Y8({blobURL:Ze.blobURL,videoURL:c,poster:g,autoplay:P,playsinline:F,loop:q,muted:se});h.appendChild(ft),J8(ft,m.max_timeout_ms,m.class,m.autoplay).then(function(){ne(h)}).catch(function(Ft){we(Ft)})}).catch(function(Ue){var Ze=Ue.status,ft=Ue.message;we({status:Ze,message:ft})})}).catch(function(Ue){var Ze=Ue.status,ft=Ue.message;we({status:Ze,message:ft})})})}var eU=Z8;function tU(){return new Promise(function(h,c){Rt()&&h(!1);var m=document.createElement("video"),g=m.canPlayType&&m.canPlayType('video/webm; codecs="vp9"');h(g==="maybe"||g==="probably")})}var nU=tU;function of(h){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},of(h)}function rU(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function kR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,sU(g.key),g)}}function iU(h,c,m){return c&&kR(h.prototype,c),m&&kR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function sU(h){var c=oU(h,"string");return of(c)=="symbol"?c:c+""}function oU(h,c){if(of(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(of(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var OR,NR,DR,LR,Sv,MR;DR=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return m*Math.ceil(c/m)},NR=function(c,m){var g;for(g=c.length-2;g>=0&&c[g]>=m;)g--;return c[g+1]},OR=function(c,m,g,P){var F,q,se,ne;return ne=(F=(q=(se=P.responsive_use_breakpoints)!=null?se:P.responsive_use_stoppoints)!=null?q:this.config("responsive_use_breakpoints"))!=null?F:this.config("responsive_use_stoppoints"),!ne||ne==="resize"&&!P.resizing?m:this.calc_breakpoint(c,m,g)},LR=function(c){var m,g;for(m=0;(c=c!=null?c.parentNode:void 0)instanceof Element&&!m;)g=window.getComputedStyle(c),/^inline/.test(g.display)||(m=Dh(c));return m},MR=function(c,m){return c.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(m))},Sv=function(c,m){var g;return g=mt(m,"width")||0,c>g&&(g=c,Jn(m,"width",c)),g};var FR=function(){function h(c){rU(this,h);var m;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,m=new Ha(c),this.config=function(g,P){return m.config(g,P)},this.fromDocument=function(){return m.fromDocument(),this},this.fromEnvironment=function(){return m.fromEnvironment(),this},this.init=function(){return m.init(),this}}return iU(h,[{key:"url",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ms(m,g,this.config())}},{key:"video_url",value:function(m,g){return g=W()({resource_type:"video"},g),this.url(m,g)}},{key:"video_thumbnail_url",value:function(m,g){return g=W()({},Qn,g),this.url(m,g)}},{key:"transformation_string",value:function(m){return new Ii(m).serialize()}},{key:"image",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P,F,q;return F=this.imageTag(m,g),P=(q=g.client_hints!=null?g.client_hints:this.config("client_hints"))!=null?q:!1,g.src==null&&!P&&F.setAttr("src",""),F=F.toDOM(),P||(Jn(F,"src-cache",this.url(m,g)),this.cloudinary_update(F,g)),F}},{key:"imageTag",value:function(m,g){var P;return P=new ip(m,this.config()),P.transformation().fromOptions(g),P}},{key:"pictureTag",value:function(m,g,P){var F;return F=new _v(m,this.config(),P),F.transformation().fromOptions(g),F}},{key:"sourceTag",value:function(m,g){var P;return P=new RR(m,this.config()),P.transformation().fromOptions(g),P}},{key:"video_thumbnail",value:function(m,g){return this.image(m,qe()({},Qn,g))}},{key:"facebook_profile_image",value:function(m,g){return this.image(m,W()({type:"facebook"},g))}},{key:"twitter_profile_image",value:function(m,g){return this.image(m,W()({type:"twitter"},g))}},{key:"twitter_name_profile_image",value:function(m,g){return this.image(m,W()({type:"twitter_name"},g))}},{key:"gravatar_image",value:function(m,g){return this.image(m,W()({type:"gravatar"},g))}},{key:"fetch_image",value:function(m,g){return this.image(m,W()({type:"fetch"},g))}},{key:"video",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.videoTag(m,g).toHtml()}},{key:"videoTag",value:function(m,g){return g=Oe({},g,this.config()),new Ev(m,g)}},{key:"sprite_css",value:function(m,g){return g=W()({type:"sprite"},g),m.match(/.css$/)||(g.format="css"),this.url(m,g)}},{key:"responsive",value:function(m){var g=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F,q,se,ne,we,Ue;if(this.responsiveConfig=qe()(this.responsiveConfig||{},m),ne=(F=this.responsiveConfig.responsive_class)!=null?F:this.config("responsive_class"),P&&this.cloudinary_update("img.".concat(ne,", img.cld-hidpi"),this.responsiveConfig),we=(q=(se=this.responsiveConfig.responsive_resize)!=null?se:this.config("responsive_resize"))!=null?q:!0,we&&!this.responsiveResizeInitialized){this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,Ue=null;var Ze=function(){var Ft,Fs,Ao,us,yu,vu,js;return Ft=(Fs=(Ao=g.responsiveConfig.responsive_debounce)!=null?Ao:g.config("responsive_debounce"))!=null?Fs:100,us=function(){Ue&&(clearTimeout(Ue),Ue=null)},yu=function(){return g.cloudinary_update("img.".concat(ne),g.responsiveConfig)},js=function(){return us(),yu()},vu=function(){us(),Ue=setTimeout(js,Ft)},Ft?vu():yu()};return window.addEventListener("resize",Ze),function(){return window.removeEventListener("resize",Ze)}}}},{key:"calc_breakpoint",value:function(m,g,P){var F=mt(m,"breakpoints")||mt(m,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||DR;return nt()(F)?F(g,P):(Be()(F)&&(F=F.split(",").map(function(q){return parseInt(q)}).sort(function(q,se){return q-se})),NR(F,g))}},{key:"calc_stoppoint",value:function(m,g,P){return this.calc_breakpoint(m,g,P)}},{key:"device_pixel_ratio",value:function(m){m=m??!0;var g=(typeof window<"u"&&window!==null?window.devicePixelRatio:void 0)||1;m&&(g=Math.ceil(g)),(g<=0||g===NaN)&&(g=1);var P=g.toString();return P.match(/^\d+$/)&&(P+=".0"),P}},{key:"processImageTags",value:function(m,g){if(Je(m))return this;g=Oe({},g||{},this.config());var P=m.filter(function(F){return/^img$/i.test(F.tagName)}).map(function(F){var q=W()({width:F.getAttribute("width"),height:F.getAttribute("height"),src:F.getAttribute("src")},g),se=q.source||q.src;delete q.source,delete q.src;var ne=new Ii(q).toHtmlAttributes();return Jn(F,"src-cache",Ms(se,q)),F.setAttribute("width",ne.width),F.setAttribute("height",ne.height),F});return this.cloudinary_update(P,g),this}},{key:"cloudinary_update",value:function(m,g){var P=this,F,q,se,ne;if(m===null)return this;g==null&&(g={});var we=g.responsive!=null?g.responsive:this.config("responsive");m=L8(m);var Ue;this.responsiveConfig&&this.responsiveConfig.responsive_class!=null?Ue=this.responsiveConfig.responsive_class:g.responsive_class!=null?Ue=g.responsive_class:Ue=this.config("responsive_class");var Ze=g.round_dpr!=null?g.round_dpr:this.config("round_dpr");return m.forEach(function(ft){if(/img/i.test(ft.tagName)){var Ft=!0;if(we&&si(ft,Ue),q=mt(ft,"src-cache")||mt(ft,"src"),!Je(q)){q=MR.call(P,q,Ze),Co.isResponsive(ft,Ue)&&(F=LR(ft),F!==0?(/w_auto:breakpoints/.test(q)?(ne=Sv(F,ft),ne?q=q.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:".concat(ne)):Ft=!1):(se=/w_auto(:(\d+))?/.exec(q),se&&(ne=OR.call(P,ft,F,se[2],g),ne=Sv(ne,ft),ne?q=q.replace(/w_auto[^,\/]*/g,"w_".concat(ne)):Ft=!1)),La(ft,"width"),g.responsive_preserve_height||La(ft,"height")):Ft=!1);var Fs=g.loading==="lazy"&&!P.isNativeLazyLoadSupported()&&P.isLazyLoadSupported()&&!m[0].getAttribute("src");(Ft||Fs)&&P.setAttributeIfExists(m[0],"width","data-width"),Ft&&!Fs&&es(ft,"src",q)}}}),this}},{key:"setAttributeIfExists",value:function(m,g,P){var F=m.getAttribute(P);F!=null&&es(m,g,F)}},{key:"isLazyLoadSupported",value:function(){return window&&"IntersectionObserver"in window}},{key:"isNativeLazyLoadSupported",value:function(){return"loading"in HTMLImageElement.prototype}},{key:"transformation",value:function(m){return Ii.new(this.config()).fromOptions(m).setParent(this)}},{key:"injectTransparentVideoElement",value:function(m,g){var P=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(q,se){m||se({status:"error",message:"Expecting htmlElContainer to be HTMLElement"}),B8(F);var ne=P.video_url(g,F);nU().then(function(we){var Ue;we?(Ue=F8(m,P,g,F),q(m)):Ue=eU(m,ne,F),Ue.then(function(){q(m)}).catch(function(Ze){var ft=Ze.status,Ft=Ze.message;se({status:ft,message:Ft})})}).catch(function(we){var Ue=we.status,Ze=we.message;se({status:Ue,message:Ze})})})}}],[{key:"new",value:function(m){return new this(m)}}])}();W()(FR,I);var jR=FR;w.default={ClientHintsMetaTag:PR,Cloudinary:jR,Condition:Ot,Configuration:Ha,crc32:T,Expression:an,FetchLayer:Zh,HtmlTag:Co,ImageTag:ip,Layer:os,PictureTag:_v,SubtitlesLayer:as,TextLayer:f,Transformation:Ii,utf8_encode:B,Util:k,VideoTag:Ev}},"lodash/assign":function(R,w){R.exports=r},"lodash/cloneDeep":function(R,w){R.exports=i},"lodash/compact":function(R,w){R.exports=s},"lodash/difference":function(R,w){R.exports=o},"lodash/functions":function(R,w){R.exports=a},"lodash/identity":function(R,w){R.exports=l},"lodash/includes":function(R,w){R.exports=u},"lodash/isArray":function(R,w){R.exports=d},"lodash/isElement":function(R,w){R.exports=p},"lodash/isFunction":function(R,w){R.exports=y},"lodash/isPlainObject":function(R,w){R.exports=_},"lodash/isString":function(R,w){R.exports=E},"lodash/merge":function(R,w){R.exports=S},"lodash/trim":function(R,w){R.exports=C}})})})(Uj);var p5=Uj.exports;const m5=(t,e=500)=>{const[n,r]=O.useState(t),[i,s]=O.useState(!1);return O.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),[n,i,s]};function g5(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),[o,a]=O.useState(null),[l,u]=O.useState(""),[d,p]=O.useState(""),[y,_]=O.useState(!1);new p5.Cloudinary({cloud_name:"dnpesnh4i"});const[E,S]=O.useState(""),[C]=m5(E),[R,w]=O.useState(!1),[v,I]=O.useState(!1),{currentUser:k,registerUzer:B,loginWithProvider:D,setCurrentUser:T,db:N,isFirstLogin:L}=dr(),{setIsFirstLogin:j,transformCloudinaryURL:V}=Ur(),M=async Y=>{const Q="https://api.cloudinary.com/v1_1/dnpesnh4i/image/upload",X=new FormData;X.append("file",Y),X.append("upload_preset","userProfile");try{return(await fn.post(Q,X,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}catch(fe){throw console.error("Cloudinary Upload Error:",fe),fe}},le=async(Y,Q,X,fe)=>{try{const te=gn(N,"users"),$=rr(te,Ar("uid","==",Y)),K=await Bn($);K.empty||K.forEach(async ee=>{const Ae=Di(N,"users",ee.id);await zs(Ae,Q).then(()=>{const Re={...k,username:X.username,bio:X.bio,profilePictureURL:fe};localStorage.setItem("user",JSON.stringify(Re))}).catch(Re=>{console.error(Re)}),t("/r-social/profile/me")})}catch(te){console.error("Error updating user: ",te)}},me=async Y=>{if(u("Updating..."),o)try{u("Updating...");const Q=await M(d);u("Updated successfully!");const X=k.uid,fe={username:Y.username,bio:Y.bio,profilePictureURL:Q};le(X,fe,Y,Q);const te={...k,username:Y.username,bio:Y.bio,profilePictureURL:Q};j(!1)}catch(Q){u("Update failed"),console.error("Error uploading the image:",Q)}else alert("Please select an image to upload")},he=Y=>{const Q=Y.target.files[0];if(Q){const X=Q.size/1024/1024,fe=Q.type,te=["image/jpeg","image/png","image/jpg"];if(X>3){alert("File size exceeds 3MB"),Y.target.value=null;return}if(!te.includes(fe)){alert("File format not allowed. Please upload a JPG, JPEG, or PNG file."),Y.target.value=null;return}const $=URL.createObjectURL(Q);p(Q),a($)}};return O.useEffect(()=>{(async()=>{if(!E)return;_(!0);const Q=gn(N,"users"),X=rr(Q,Ar("username","==",E));try{const fe=await Bn(X);I(!fe.empty)}catch(fe){console.error("Error checking username: ",fe),I(!1)}finally{_(!1)}})()},[C,N]),x.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg p-6 mt-10 border-2",children:[x.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Profile"}),x.jsxs("form",{onSubmit:n(me),className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),x.jsx("input",{required:!0,value:E,onInput:Y=>{S(Y.target.value.trim()),Y.target.value===""&&w(!1)},type:"text",...e("username",{required:!0,minLength:{value:3,message:"Username must have atleast 3 characters"},maxLength:{value:18,message:"Username must be atmost 18 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Your username"}),r.username&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.username.message}),y&&x.jsx("p",{children:"Checking Username..."}),v?C!==""?x.jsxs("p",{className:"text-red-500 text-sm mt-1",children:['Username "',C,'" already exists']}):"":C!==""?x.jsx("p",{className:"text-green-500 text-sm mt-1",children:"Username available"}):""]}),x.jsx("br",{}),x.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center mb-2",children:"Profile Picture"}),x.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden shadow-lg mx-auto",children:[x.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:[o?x.jsx("img",{src:o,alt:"Profile Preview",className:"w-full h-full object-cover rounded-full"}):x.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:x.jsx(vP,{size:40})}),x.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:[x.jsx(vP,{size:40,className:"text-white"}),x.jsx("input",{type:"file",accept:"image/jpeg, image/png, image/jpg",...e("profilePic",{required:!0}),className:"absolute inset-0 opacity-0 cursor-pointer",onChange:he})]})]}),r.profilePic&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Profile picture is required"})]})]}),x.jsx("br",{}),x.jsx("br",{}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),x.jsx("textarea",{...e("bio",{required:!0,maxLength:200}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:k!=null&&k.bio?k.bio:"Tell us about yourself (Max 200 characters)",rows:"3"}),r.bio&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Bio is required (Max 200 characters)"})]}),x.jsx("button",{type:"submit",disabled:i||v,className:"w-full bg-indigo-600 text-white font-medium py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 font-mono disabled:bg-slate-500 ",children:"Update"}),x.jsx("span",{children:i&&x.jsx(Fy,{type:"spin",color:"blue",height:"20%",width:"20%"})})]}),l&&x.jsx("p",{className:"text-center text-3xl text-green-400",children:l})]})}function zae(){var L,j,V,M,le,me;const{currentUser:t,db:e}=dr();let{username:n}=iS();const r=Ra(),[i,s]=O.useState({}),[o,a]=O.useState(!1),[l,u]=O.useState(),d=O.useRef(null),{isFirstLogin:p,setIsFirstLogin:y,getUserDetailsById:_,getUsers:E,userArray:S,isFollowing:C,getValueByKey:R,setDisplayUser:w,displayUser:v,setIsFollowing:I,transformCloudinaryURL:k}=Ur(),B=()=>{var he;n==="me"?(u("me"),a(Y=>!Y)):(u("specific"),a(Y=>!Y)),(he=d.current)==null||he.scrollIntoView({block:"center",behavior:"smooth"})};O.useEffect(()=>{S==null||S.forEach(he=>{const Y=S==null?void 0:S.find(Q=>Q.username===n);Y&&s(Y)})},[S,n]);const D=()=>t&&t.profilePictureURL?k(t.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg";function T(){r("/r-social/firstLogin")}async function N(){if(confirm("Do you want to DELETE your account? 🥺")){const he=Ja.currentUser;if(he)try{(await Bn(rr(gn(e,"users"),Ar("uid","==",he.uid)))).forEach(async Q=>{const X=Q.id;await SX(Di(e,"users",X))}),await he.delete(),alert(`User ${he.email} deleted successfully`),r("/r-social/register",{replace:!0})}catch(Y){alert("Error deleting user account: ",Y),r("/r-social/profile",{replace:!0})}else alert("No user is currently signed in.")}else alert("Welcome back Champ! 🥳🍾")}return O.useEffect(()=>{R(S,t==null?void 0:t.uid)},[]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"h-full overflow-hidden  flex    bg-slate-500",children:p&&n==="me"?x.jsx(g5,{}):x.jsxs("div",{className:"max-w-2xl border-2 border-cyan-100  mx-4 sm:max-w-sm md:max-w-sm lg:max-w-sm xl:max-w-sm sm:mx-auto md:mx-auto lg:mx-auto xl:mx-auto mt-16 bg-white shadow-xl rounded-lg text-gray-900 mb-10",children:[x.jsx("div",{className:"rounded-t-lg h-32 overflow-hidden",children:x.jsx("img",{className:"object-cover object-top w-full",src:"https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ",alt:"Mountain"})}),x.jsx("div",{className:"mx-auto w-32 h-32 relative -mt-16 border-4 border-white rounded-full overflow-hidden",children:x.jsx("img",{className:"object-cover object-center h-32",src:n==="me"?D():S&&i.profilePictureURL,alt:"Baingan Pic"})}),x.jsxs("div",{className:"text-center mt-2",children:[x.jsx("h2",{className:"font-semibold",children:n==="me"?t&&t.username:i.username}),x.jsx("p",{className:"text-gray-500",children:n==="me"?t&&t.bio:i.bio})]}),x.jsxs("ul",{className:"py-4 mt-2 text-gray-700 flex items-center justify-around",children:[x.jsxs("li",{className:"flex flex-col items-center justify-around",children:[x.jsx(vr,{to:`/r-social/profile/${n}/following`,children:x.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})})}),x.jsxs("div",{children:[n==="me"?t&&((L=t.following)==null?void 0:L.length):S&&((j=i==null?void 0:i.following)==null?void 0:j.length),x.jsx("span",{children:" Following"})]})]}),x.jsxs("li",{className:"flex flex-col items-center justify-between",children:[x.jsx(vr,{to:`/r-social/profile/${n}/followers`,children:x.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z"})})}),x.jsxs("div",{children:[n==="me"?t&&((V=t.followers)==null?void 0:V.length):S&&((M=i==null?void 0:i.followers)==null?void 0:M.length),x.jsx("span",{children:" Followers"})]})]}),x.jsxs("li",{className:"flex flex-col items-center justify-around",children:[x.jsx("button",{onClick:B,children:x.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z"})})}),x.jsxs("div",{children:[n==="me"?(le=t==null?void 0:t.posts)==null?void 0:le.length:S&&((me=i==null?void 0:i.posts)==null?void 0:me.length),x.jsx("span",{children:" Posts"})]})]})]}),n==="me"&&x.jsxs("div",{className:"p-4 border-t mx-8 mt-2",children:[x.jsx("div",{className:"p-4  rounded-lg flex items-center justify-center",children:x.jsxs("button",{onClick:T,className:"  mx-auto rounded-full bg-blue-700 hover:shadow-lg font-semibold text-white px-6 py-2 flex items-center",children:["Edit Profile",x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 fill-current ml-2",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50",children:x.jsx("path",{d:"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z"})})]})}),x.jsx("div",{className:"p-1   rounded-lg flex items-center justify-center",children:x.jsxs("button",{onClick:N,className:"  mx-auto rounded-full bg-red-600 hover:shadow-lg font-semibold text-white px-4 py-2 flex items-center",children:["Delete Profile",x.jsx("svg",{fill:"#000000",className:"h-6 w-6 fill-current ml-2",x:"0px",y:"0px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"100",height:"100",viewBox:"0 0 50 50","xml:space":"preserve",children:x.jsx("g",{children:x.jsx("path",{d:`M36.335,5.668h-8.167V1.5c0-0.828-0.672-1.5-1.5-1.5h-12c-0.828,0-1.5,0.672-1.5,1.5v4.168H5.001c-1.104,0-2,0.896-2,2
		s0.896,2,2,2h2.001v29.168c0,1.381,1.119,2.5,2.5,2.5h22.332c1.381,0,2.5-1.119,2.5-2.5V9.668h2.001c1.104,0,2-0.896,2-2
		S37.438,5.668,36.335,5.668z M14.168,35.67c0,0.828-0.672,1.5-1.5,1.5s-1.5-0.672-1.5-1.5v-21c0-0.828,0.672-1.5,1.5-1.5
		s1.5,0.672,1.5,1.5V35.67z M22.168,35.67c0,0.828-0.672,1.5-1.5,1.5s-1.5-0.672-1.5-1.5v-21c0-0.828,0.672-1.5,1.5-1.5
		s1.5,0.672,1.5,1.5V35.67z M25.168,5.668h-9V3h9V5.668z M30.168,35.67c0,0.828-0.672,1.5-1.5,1.5s-1.5-0.672-1.5-1.5v-21
		c0-0.828,0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5V35.67z`})})})]})})]})]})}),x.jsx("div",{ref:d,id:"posts",children:o&&x.jsx(cd,{user:l})})]})}const Hae=()=>x.jsx(x.Fragment,{children:x.jsxs("div",{className:"w-full h-screen flex flex-col lg:flex-row items-center justify-center space-y-16 lg:space-y-0 space-x-8 2xl:space-x-0",children:[x.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center lg:px-2 xl:px-0 text-center",children:[x.jsx("p",{className:"text-7xl md:text-8xl lg:text-9xl font-bold tracking-wider text-gray-300",children:"404"}),x.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-wider text-gray-300 mt-2",children:"Page Not Found"}),x.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-gray-500 my-12",children:"Sorry, the page you are looking for could not be found."}),x.jsxs(ML,{to:"/r-social/",className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-gray-100 px-4 py-2 rounded transition duration-150",title:"Return Home",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{"fill-rule":"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})}),x.jsx("span",{children:"Return Home"})]})]}),x.jsx("div",{className:"w-1/2 lg:h-full flex lg:items-end justify-center p-4",children:x.jsxs("svg",{className:"w-full text-blue-600",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 1120.59226 777.91584","xmlns:xlink":"http://www.w3.org/1999/xlink",children:[x.jsx("title",{children:"not found"}),x.jsx("circle",{cx:"212.59226",cy:"103",r:"64",fill:"#ff6584"}),x.jsx("path",{d:"M563.68016,404.16381c0,151.01141-89.77389,203.73895-200.51559,203.73895S162.649,555.17522,162.649,404.16381,363.16457,61.04208,363.16457,61.04208,563.68016,253.1524,563.68016,404.16381Z",transform:"translate(-39.70387 -61.04208)",fill:"#cbd5e1"}),x.jsx("polygon",{points:"316.156 523.761 318.21 397.378 403.674 241.024 318.532 377.552 319.455 320.725 378.357 207.605 319.699 305.687 319.699 305.687 321.359 203.481 384.433 113.423 321.621 187.409 322.658 0 316.138 248.096 316.674 237.861 252.547 139.704 315.646 257.508 309.671 371.654 309.493 368.625 235.565 265.329 309.269 379.328 308.522 393.603 308.388 393.818 308.449 394.99 293.29 684.589 313.544 684.589 315.974 535.005 389.496 421.285 316.156 523.761",fill:"#3f3d56"}),x.jsx("path",{d:"M1160.29613,466.01367c0,123.61-73.4842,166.77-164.13156,166.77s-164.13156-43.16-164.13156-166.77S996.16457,185.15218,996.16457,185.15218,1160.29613,342.40364,1160.29613,466.01367Z",transform:"translate(-39.70387 -61.04208)",fill:"#cbd5e1"}),x.jsx("polygon",{points:"950.482 552.833 952.162 449.383 1022.119 321.4 952.426 433.154 953.182 386.639 1001.396 294.044 953.382 374.329 953.382 374.329 954.741 290.669 1006.369 216.952 954.954 277.514 955.804 124.11 950.467 327.188 950.906 318.811 898.414 238.464 950.064 334.893 945.173 428.327 945.027 425.847 884.514 341.294 944.844 434.608 944.232 446.293 944.123 446.469 944.173 447.428 931.764 684.478 948.343 684.478 950.332 562.037 1010.514 468.952 950.482 552.833",fill:"#3f3d56"}),x.jsx("ellipse",{cx:"554.59226",cy:"680.47903",rx:"554.59226",ry:"28.03433",fill:"#3f3d56"}),x.jsx("ellipse",{cx:"892.44491",cy:"726.79663",rx:"94.98858",ry:"4.80162",fill:"#3f3d56"}),x.jsx("ellipse",{cx:"548.71959",cy:"773.11422",rx:"94.98858",ry:"4.80162",fill:"#3f3d56"}),x.jsx("ellipse",{cx:"287.94432",cy:"734.27887",rx:"217.01436",ry:"10.96996",fill:"#3f3d56"}),x.jsx("circle",{cx:"97.08375",cy:"566.26982",r:"79",fill:"#2f2e41"}),x.jsx("rect",{x:"99.80546",y:"689.02332",width:"24",height:"43",transform:"translate(-31.32451 -62.31008) rotate(0.67509)",fill:"#2f2e41"}),x.jsx("rect",{x:"147.80213",y:"689.58887",width:"24",height:"43",transform:"translate(-31.31452 -62.87555) rotate(0.67509)",fill:"#2f2e41"}),x.jsx("ellipse",{cx:"119.54569",cy:"732.61606",rx:"7.5",ry:"20",transform:"translate(-654.1319 782.47948) rotate(-89.32491)",fill:"#2f2e41"}),x.jsx("ellipse",{cx:"167.55414",cy:"732.18168",rx:"7.5",ry:"20",transform:"translate(-606.25475 830.05533) rotate(-89.32491)",fill:"#2f2e41"}),x.jsx("circle",{cx:"99.31925",cy:"546.29477",r:"27",fill:"#fff"}),x.jsx("circle",{cx:"99.31925",cy:"546.29477",r:"9",fill:"#3f3d56"}),x.jsx("path",{d:"M61.02588,552.94636c-6.04185-28.64075,14.68758-57.26483,46.30049-63.93367s62.13813,11.14292,68.18,39.78367-14.97834,38.93-46.59124,45.59886S67.06774,581.58712,61.02588,552.94636Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),x.jsx("path",{d:"M257.29613,671.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.40351,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S257.29613,616.30827,257.29613,671.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),x.jsx("path",{d:"M181.50168,737.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415-26.88076-41.5798,26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.60595,37.27566L204.18523,621.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),x.jsx("circle",{cx:"712.48505",cy:"565.41532",r:"79",fill:"#2f2e41"}),x.jsx("rect",{x:"741.77716",y:"691.82355",width:"24",height:"43",transform:"translate(-215.99457 191.86399) rotate(-17.08345)",fill:"#2f2e41"}),x.jsx("rect",{x:"787.6593",y:"677.72286",width:"24",height:"43",transform:"matrix(0.95588, -0.29376, 0.29376, 0.95588, -209.82788, 204.72037)",fill:"#2f2e41"}),x.jsx("ellipse",{cx:"767.887",cy:"732.00275",rx:"20",ry:"7.5",transform:"translate(-220.8593 196.83312) rotate(-17.08345)",fill:"#2f2e41"}),x.jsx("ellipse",{cx:"813.47537",cy:"716.94619",rx:"20",ry:"7.5",transform:"translate(-214.42477 209.56103) rotate(-17.08345)",fill:"#2f2e41"}),x.jsx("circle",{cx:"708.52153",cy:"545.71023",r:"27",fill:"#fff"}),x.jsx("circle",{cx:"708.52153",cy:"545.71023",r:"9",fill:"#3f3d56"}),x.jsx("path",{d:"M657.35526,578.74316c-14.48957-25.43323-3.47841-59.016,24.59412-75.0092s62.57592-8.34055,77.06549,17.09268-2.39072,41.6435-30.46325,57.63671S671.84483,604.17639,657.35526,578.74316Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),x.jsx("path",{d:"M611.29613,661.29875c0,50.55711-30.05368,68.20979-67.13,68.20979q-1.28835,0-2.57261-.02864c-1.71785-.03682-3.41933-.1186-5.10033-.23313-33.46068-2.36813-59.45707-20.92878-59.45707-67.948,0-48.65932,62.18106-110.05916,66.85186-114.60322l.00819-.00817c.18-.17587.27-.26177.27-.26177S611.29613,610.74164,611.29613,661.29875Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),x.jsx("path",{d:"M541.72029,721.77424l24.55253-34.30732-24.6139,38.07426-.0654,3.93872c-1.71785-.03682-3.41933-.1186-5.10033-.23313l2.6463-50.58165-.02047-.39266.045-.07361.24949-4.77718-24.67531-38.16836,24.753,34.58547.05731,1.01433,2-38.21741-21.12507-39.44039L541.80616,625.928l2.08182-79.23247.00819-.26994v.26177l-.34764,62.47962,21.031-24.76934-21.11693,30.15184-.55624,34.21735,19.63634-32.839-19.71812,37.87389-.31085,19.0228,28.50763-45.70631-28.614,52.34448Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),x.jsx("path",{d:"M875.29613,682.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.4035,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S875.29613,627.30827,875.29613,682.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),x.jsx("path",{d:"M799.50168,748.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415L770.108,654.01076l26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.606,37.27566L822.18523,632.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),x.jsx("ellipse",{cx:"721.51694",cy:"656.82212",rx:"12.40027",ry:"39.5",transform:"translate(-220.83517 966.22323) rotate(-64.62574)",fill:"#2f2e41"}),x.jsx("ellipse",{cx:"112.51694",cy:"651.82212",rx:"12.40027",ry:"39.5",transform:"translate(-574.07936 452.71367) rotate(-68.15829)",fill:"#2f2e41"})]})})]})});function Ai({children:t}){const{currentUser:e}=dr(),n=Ra(),r=xa(),{isFirstLogin:i}=Ur();return O.useEffect(()=>{e===null&&n("/r-social/login",{replace:!0})},[e]),O.useEffect(()=>{i&&n("/r-social/firstLogin",{replace:!0})},[r]),t}const Kd=({userBio:t,username:e,followers:n,following:r,userPic:i,userUID:s,isFollowing:o,setFlag:a,flag:l})=>{const{setIsFollowing:u,handleFollow:d,uzerFollowArray:p,uzerFollowObj:y}=Ur();O.useState(n);const{currentUser:_}=dr(),E=(S,C)=>S.length<=C?S:S.slice(0,C)+"...";return x.jsx(x.Fragment,{children:x.jsx("div",{className:"h-auto pt-6 mt-2  items-stretch ",children:x.jsxs("div",{className:"max-w-sm  mx-auto bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg hover:shadow-2 hover:shadow-blue-300",children:[x.jsxs("div",{className:"border-b px-4 pb-6",children:[x.jsxs("div",{className:"text-center my-4",children:[x.jsx(vr,{to:`/r-social/profile/${e}`,children:x.jsx("img",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 mx-auto my-4",src:i||"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg",alt:"Profile Pic"})}),x.jsxs("div",{className:"py-2",children:[x.jsx("h3",{className:"font-bold text-2xl text-gray-800 dark:text-white mb-1",children:E(e,20)}),x.jsxs("div",{className:"inline-flex text-gray-700 dark:text-gray-300 items-center",children:[x.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-600 mr-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:x.jsx("path",{className:"",d:"M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 1 0-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),E(t,28)]})]})]}),x.jsx("div",{className:"flex gap-2 px-2",children:x.jsx("button",{onClick:S=>{d(S.target.value)},value:s,className:`flex-1 rounded-full bg-blue-600 dark:bg-blue-800 text-white dark:text-white antialiased font-bold hover:bg-blue-800 dark:hover:bg-blue-900 px-4 py-2 ${_.username===e?" invisible ":""}`,children:o!=null&&o.includes(s)?"Following":"Follow"})})]}),x.jsx("div",{className:"px-4 py-4",children:x.jsxs("div",{className:"flex gap-2 items-center text-gray-800 dark:text-gray-300 mb-4",children:[x.jsx(vr,{to:`/r-social/profile/${e}/followers`,children:x.jsx("svg",{className:"h-6 w-6 text-gray-600 dark:text-gray-400",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:x.jsx("path",{className:"",d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"})})}),x.jsxs("span",{children:[x.jsx("strong",{className:"text-black dark:text-white",children:n})," Followers "]}),x.jsx(vr,{to:`/r-social/profile/${e}/following`,children:x.jsx("svg",{className:"h-6 w-6 text-gray-600 dark:text-gray-400",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:x.jsx("path",{className:"",d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"})})}),x.jsxs("span",{children:[x.jsx("strong",{className:"text-black dark:text-white",children:r})," Following "]})]})})]})})})},qae=Object.freeze(Object.defineProperty({__proto__:null,default:Kd},Symbol.toStringTag,{value:"Module"})),RN=()=>{let{isFollowing:t,userArray:e,setUsersIsFollowing:n,isUsersFollowing:r,userFollow:i,transformCloudinaryURL:s}=Ur(),{currentUser:o}=dr();const u=xa().pathname.match(/\/profile\/(.*)\/following$/),d=u?u[1]:null;return x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-2 ",children:"Following"}),x.jsx("br",{}),x.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:d==="me"?x.jsx(x.Fragment,{children:e&&e.map((p,y)=>p.followers.includes(o==null?void 0:o.uid)?x.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:s(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null)}):x.jsx(x.Fragment,{children:e&&e.map((p,y)=>{const _=e.find(E=>E.username===d.replace("%20"," "));return _&&p.followers.includes(_.uid)?x.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:s(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null})})})]})},Wae=()=>{let{isFollowing:t,userArray:e,setUsersIsFollowing:n,isUsersFollowing:r,userFollow:i,transformCloudinaryURL:s}=Ur(),{currentUser:o}=dr();const u=xa().pathname.match(/\/profile\/(.*)\/followers$/),d=u?u[1]:null;return x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-2 ",children:"Followers"}),x.jsx("br",{}),x.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:d==="me"?x.jsx(x.Fragment,{children:e&&e.map((p,y)=>p.following.includes(o==null?void 0:o.uid)?x.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:s(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null)}):x.jsx(x.Fragment,{children:e&&e.map((p,y)=>{const _=e.find(E=>E.username===d.replace("%20"," "));return _&&p.following.includes(_.uid)?x.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:s(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null})})})]})};function IN(t){return qc({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}var Vn=[];for(var q1=0;q1<256;++q1)Vn.push((q1+256).toString(16).slice(1));function Kae(t,e=0){return(Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]).toLowerCase()}var Bp,Gae=new Uint8Array(16);function Qae(){if(!Bp&&(Bp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bp(Gae)}var Yae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const CN={randomUUID:Yae};function Xae(t,e,n){if(CN.randomUUID&&!e&&!t)return CN.randomUUID();t=t||{};var r=t.random||(t.rng||Qae)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Kae(r)}function Jae(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),[o,a]=O.useState("0"),[l,u]=O.useState(null),[d,p]=O.useState(""),[y,_]=O.useState(""),[E,S]=O.useState(null),[C,R]=O.useState(null),w=O.useRef(null);new p5.Cloudinary({cloud_name:"dnpesnh4i"});const{currentUser:v,registerUzer:I,loginWithProvider:k,setCurrentUser:B,db:D,isFirstLogin:T}=dr(),{setIsFirstLogin:N,transformCloudinaryURL:L}=Ur(),j=async he=>{const Y="https://api.cloudinary.com/v1_1/dnpesnh4i/image/upload",Q=new FormData;Q.append("file",he),Q.append("upload_preset","userProfile");try{return(await fn.post(Y,Q,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}catch(X){throw console.error("Cloudinary Upload Error:",X),X}},V=async(he,Y,Q)=>{const X=Ste(Pte,`posts/${v.uid}/${Y}`),fe=bte(X,he);fe.on("state_changed",te=>{const $=te.bytesTransferred/te.totalBytes*100;a(Math.ceil($))},te=>{console.error("Error  uploading video:",te)},()=>{Tte(fe.snapshot.ref).then(te=>{const $={posts:[...v.posts,{pid:Y,title:Q.title,desc:Q.desc,mediaURL:te,type:E,comments:[],postURL:`https://rohitskoujalagi.github.io/r-social/${v.username}/posts/`,likes:[],uid:v.uid}]};M(v.uid,$)})})},M=async(he,Y,Q,X)=>{try{const fe=gn(D,"users"),te=rr(fe,Ar("uid","==",he)),$=await Bn(te);$.empty||$.forEach(async K=>{const ee=Di(D,"users",K.id);await zs(ee,Y).then(()=>{const Ae={...v,posts:Y.posts}}).catch(Ae=>{console.error(Ae)}),t("/r-social/profile/me")})}catch(fe){console.error("Error updating user: ",fe)}},le=async he=>{if(p("Uploading..."),l)try{p("Uploading...");let Y=Xae();if(E==="image"){const Q=await j(y);p("Upload successful!");const X={posts:[...v.posts,{pid:Y,title:he.title,desc:he.desc,mediaURL:L(Q),type:E,comments:[],postURL:`http://localhost:5173/${v.username}/posts/${he.title}`,likes:[],uid:v.uid}]};M(v.uid,X,he,Q)}else V(C,Y,he)}catch(Y){p("Upload failed"),console.error("Error uploading the image:",Y)}else alert("Please select an image to upload")},me=he=>{const Y=he.target.files[0];if(Y){const Q=Y.size/1024/1024,X=Y.type,fe=["image/jpeg","image/png","image/jpg","video/mp4"];if(S(X==="image/jpg"||X==="image/jpeg"||X==="image/png"?"image":X==="video/mp4"?"video":null),Q>10){alert("File size exceeds 10MB"),he.target.value=null;return}if(!fe.includes(X)){alert("File format not allowed. Please upload a JPG, JPEG, PNG, or MP4 file."),he.target.value=null;return}const te=URL.createObjectURL(Y);_(Y),R(Y),u(te)}};return O.useEffect(()=>{if(E==="video"){const he=setTimeout(()=>{w.current.play()},2e3);return()=>clearTimeout(he)}},[C]),x.jsxs("div",{className:"max-w-md mx-auto bg-orange-100 border-blue-700 shadow-lg rounded-lg p-6 mt-10 border-2",children:[x.jsx("h2",{className:"text-3xl font-semibold text-center text-gray-800 mb-4",children:"Post"}),x.jsxs("form",{onSubmit:n(le),className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),x.jsx("input",{type:"text",...e("title",{required:!0,minLength:{value:2,message:"Title must have atleast 2 characters"},maxLength:{value:120,message:"Password must have maximum 120 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Title"}),r.title&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title.message})]}),x.jsx("br",{}),x.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center mb-2",children:"Image/Video"}),x.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden shadow-lg mx-auto",children:x.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:[l?E==="image"?x.jsx("img",{src:l,alt:"Post Preview",className:"w-full h-full object-cover rounded-full"}):"":x.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:x.jsx(IN,{size:40,color:"blue"})}),x.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:[x.jsx(IN,{color:"white",size:40}),x.jsx("input",{type:"file",accept:"image/jpeg, image/png, image/jpg, video/mp4",...e("postMedia",{required:!1}),className:"absolute inset-0 opacity-0 cursor-pointer",onChange:me})]})]})})]}),x.jsx("div",{className:"text-center p-4   shadow-blue",children:C&&E==="video"&&l?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"",children:"Video Preview"}),x.jsx("video",{ref:w,className:"rounded-md shadow-2xl shadow-slate-500",controls:!0,preload:"true",loop:!0,src:l,children:" "})]}):""}),x.jsx("br",{}),x.jsx("br",{}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("textarea",{...e("desc",{required:!1,maxLength:200}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Tell us about the post (Max 200 characters)",rows:"3"})]}),x.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 text-white font-medium py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 font-mono",children:["Post ",x.jsx("span",{children:i&&x.jsx(Fy,{type:"spin",color:"white",height:"20%",width:"20%"})})]})]}),d&&x.jsx("p",{className:"text-center text-3xl text-green-400",children:d}),d&&o&&x.jsxs("p",{className:"text-center text-3xl text-green-700",children:[o,"%"]})]})}const Zae=()=>x.jsxs("div",{className:"rounded-lg w-48 h-32 flex flex-col justify-center items-center px-3 py-2 bg-gray-100 animate-pulse",children:[x.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded mb-2"}),x.jsx("div",{className:"h-14 w-14 bg-gray-300 rounded-full"})]}),ele=()=>{const{db:t}=dr(),[e,n]=O.useState(""),[r,i]=O.useState([]),[s,o]=O.useState([]),[a,l]=O.useState(!1),[u,d]=O.useState({user:!1,post:!1}),{transformCloudinaryURL:p}=Ur(),[y]=m5(e),_=(E,S)=>S?E.split(new RegExp(`(${S})`,"gi")).map((R,w)=>R.toLowerCase()===S.toLowerCase()?x.jsx("span",{className:"text-blue-500",children:R},w):R):E;return O.useEffect(()=>{(async()=>{if((e===""||y==="")&&(i([]),o([])),!y)return;l(!0);const S=rr(gn(t,"users"),_X("username"),wX(50)),R=(await Bn(S)).docs.map(I=>I.data()),w=R.filter(I=>I.username.toLowerCase().includes(y.toLowerCase())),v=R.flatMap(I=>I.posts).filter(I=>I.title.toLowerCase().includes(y.toLowerCase()));i(w),o(v),l(!1)})()},[y,t]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg p-6 mt-2 border-2",children:[x.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Search"}),x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsx("div",{className:"relative",children:x.jsx("input",{type:"text",value:e,onChange:E=>{n(E.target.value),E.target.value===""&&d({user:!1,post:!1})},className:"w-full rounded-lg px-3 py-2 bg-gray-100 text-gray-800 outline-none focus:ring-2 ring-2 ring-blue-900 focus:ring-blue-500 focus:ring-opacity-50 shadow-sm",placeholder:"Search Users & Posts...🔍"})}),a?x.jsx(Zae,{}):x.jsxs(x.Fragment,{children:[x.jsx("br",{}),"Users  ",x.jsx("div",{className:"flex flex-wrap gap-3 justify-start text-center",children:r.length>0?r.map(E=>x.jsx(vr,{to:`/r-social/profile/${E.username}`,children:x.jsxs("div",{className:"rounded-lg w-40 h-30 flex flex-col justify-center items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 shadow-sm",children:[x.jsx("div",{className:"text-center mb-2",children:_(E.username,y)}),x.jsx("span",{className:"relative h-14 w-14 rounded-full overflow-hidden",children:x.jsx("img",{src:p(E.profilePictureURL),alt:"",className:"h-full w-full object-cover rounded-full"})})]})},E.uid)):y===""&&u.user&&x.jsxs("div",{className:"text-gray-500 w-full text-center",children:['No users found matching "',y,'".']})}),x.jsx("br",{}),"Posts",x.jsx("div",{className:"flex flex-wrap gap-3 justify-start text-center",children:s.length>0?s.map(E=>x.jsxs("div",{className:"rounded-lg w-60 h-auto flex flex-col justify-start items-start px-3 py-2 bg-gray-100 hover:bg-gray-200 shadow-sm",children:[x.jsx("div",{className:"font-medium text-blue-500 mb-1"}),x.jsx("div",{className:"text-gray-600 text-sm w-full ",children:_(E.title,y)})]},E.id)):y===""&&u.post&&x.jsxs("div",{className:"text-gray-500 w-full text-center",children:['No posts found matching "',y,'".']})})]})]})]})})},tle=Zz([{path:"/r-social/",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx($se,{})]})})},{path:"/r-social/firstLogin",element:x.jsx(g5,{})},{path:"/r-social/setting",element:x.jsx(x.Fragment,{children:x.jsx(Ai,{children:"Not yet made"})})},{path:"/r-social/profile",children:[{path:":username",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(zae,{})]})})}]},{path:"/r-social/profile/me/following",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(RN,{})]})})},{path:"/r-social/profile/posts",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(cd,{user:"all"})]})})},{path:"/r-social/profile/me/posts",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(cd,{user:"me"})]})})},{path:"/r-social/profile/:username/following",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(RN,{})]})})},{path:"/r-social/profile/:username/posts",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(cd,{user:"specific"})]})})},{path:"/r-social/profile/:username/followers",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(Wae,{})]})})},{path:"/r-social/search",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(ele,{})]})})},{path:"/r-social/register",element:x.jsxs(x.Fragment,{children:[x.jsx(ai,{}),x.jsx($te,{})]})},{path:"/r-social/post",element:x.jsx(x.Fragment,{children:x.jsxs(Ai,{children:[x.jsx(ai,{}),x.jsx(Jae,{})]})})},{path:"/r-social/login",element:x.jsxs(x.Fragment,{children:[x.jsx(ai,{}),x.jsx(Bte,{})]})},{path:"*",element:x.jsx(x.Fragment,{children:x.jsx(Hae,{})})}]);$4(document.getElementById("root")).render(x.jsx(x.Fragment,{children:x.jsx(kte,{children:x.jsxs(Ute,{children:[x.jsx(aH,{router:tle}),x.jsx(wG,{})]})})}));
