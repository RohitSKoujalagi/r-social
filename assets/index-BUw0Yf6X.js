function IN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aU(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var CN={exports:{}},Mg={},AN={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),lU=Symbol.for("react.portal"),uU=Symbol.for("react.fragment"),cU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),dU=Symbol.for("react.provider"),hU=Symbol.for("react.context"),pU=Symbol.for("react.forward_ref"),mU=Symbol.for("react.suspense"),gU=Symbol.for("react.memo"),yU=Symbol.for("react.lazy"),FR=Symbol.iterator;function vU(t){return t===null||typeof t!="object"?null:(t=FR&&t[FR]||t["@@iterator"],typeof t=="function"?t:null)}var PN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kN=Object.assign,ON={};function Rc(t,e,n){this.props=t,this.context=e,this.refs=ON,this.updater=n||PN}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NN(){}NN.prototype=Rc.prototype;function Gb(t,e,n){this.props=t,this.context=e,this.refs=ON,this.updater=n||PN}var Qb=Gb.prototype=new NN;Qb.constructor=Gb;kN(Qb,Rc.prototype);Qb.isPureReactComponent=!0;var jR=Array.isArray,DN=Object.prototype.hasOwnProperty,Yb={current:null},LN={key:!0,ref:!0,__self:!0,__source:!0};function MN(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DN.call(e,r)&&!LN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:Yb.current}}function _U(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function wU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VR=/\/+/g;function Rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wU(""+t.key):e.toString(36)}function $p(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case lU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rv(o,0):r,jR(i)?(n="",t!=null&&(n=t.replace(VR,"$&/")+"/"),$p(i,e,n,"",function(u){return u})):i!=null&&(Xb(i)&&(i=_U(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Rv(s,a);o+=$p(s,e,n,l,i)}else if(l=vU(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Rv(s,a++),o+=$p(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function up(t,e,n){if(t==null)return t;var r=[],i=0;return $p(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Er={current:null},zp={transition:null},bU={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:zp,ReactCurrentOwner:Yb};function FN(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:up,forEach:function(t,e,n){up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return up(t,function(){e++}),e},toArray:function(t){return up(t,function(e){return e})||[]},only:function(t){if(!Xb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=Rc;ut.Fragment=uU;ut.Profiler=fU;ut.PureComponent=Gb;ut.StrictMode=cU;ut.Suspense=mU;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bU;ut.act=FN;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kN({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DN.call(e,l)&&!LN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:hU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dU,_context:t},t.Consumer=t};ut.createElement=MN;ut.createFactory=function(t){var e=MN.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:pU,render:t}};ut.isValidElement=Xb;ut.lazy=function(t){return{$$typeof:yU,_payload:{_status:-1,_result:t},_init:EU}};ut.memo=function(t,e){return{$$typeof:gU,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=zp.transition;zp.transition={};try{t()}finally{zp.transition=e}};ut.unstable_act=FN;ut.useCallback=function(t,e){return Er.current.useCallback(t,e)};ut.useContext=function(t){return Er.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return Er.current.useDeferredValue(t)};ut.useEffect=function(t,e){return Er.current.useEffect(t,e)};ut.useId=function(){return Er.current.useId()};ut.useImperativeHandle=function(t,e,n){return Er.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return Er.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return Er.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return Er.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return Er.current.useReducer(t,e,n)};ut.useRef=function(t){return Er.current.useRef(t)};ut.useState=function(t){return Er.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return Er.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return Er.current.useTransition()};ut.version="18.3.1";AN.exports=ut;var O=AN.exports;const Pe=Kb(O),vm=IN({__proto__:null,default:Pe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU=O,SU=Symbol.for("react.element"),xU=Symbol.for("react.fragment"),RU=Object.prototype.hasOwnProperty,IU=TU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CU={key:!0,ref:!0,__self:!0,__source:!0};function jN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RU.call(e,r)&&!CU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SU,type:t,key:s,ref:o,props:i,_owner:IU.current}}Mg.Fragment=xU;Mg.jsx=jN;Mg.jsxs=jN;CN.exports=Mg;var R=CN.exports,VN={exports:{}},Zr={},UN={exports:{}},BN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ee){var me=Q.length;Q.push(ee);e:for(;0<me;){var ne=me-1>>>1,$=Q[ne];if(0<i($,ee))Q[ne]=ee,Q[me]=$,me=ne;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],me=Q.pop();if(me!==ee){Q[0]=me;e:for(var ne=0,$=Q.length,K=$>>>1;ne<K;){var Z=2*(ne+1)-1,Ae=Q[Z],Ce=Z+1,W=Q[Ce];if(0>i(Ae,me))Ce<$&&0>i(W,Ae)?(Q[ne]=W,Q[Ce]=me,ne=Ce):(Q[ne]=Ae,Q[Z]=me,ne=Z);else if(Ce<$&&0>i(W,me))Q[ne]=W,Q[Ce]=me,ne=Ce;else break e}}return ee}function i(Q,ee){var me=Q.sortIndex-ee.sortIndex;return me!==0?me:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,y=3,_=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=Q)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function I(Q){if(S=!1,v(Q),!E)if(n(l)!==null)E=!0,ue(k);else{var ee=n(u);ee!==null&&Y(I,ee.startTime-Q)}}function k(Q,ee){E=!1,S&&(S=!1,x(T),T=-1),_=!0;var me=y;try{for(v(ee),p=n(l);p!==null&&(!(p.expirationTime>ee)||Q&&!M());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,y=p.priorityLevel;var $=ne(p.expirationTime<=ee);ee=t.unstable_now(),typeof $=="function"?p.callback=$:p===n(l)&&r(l),v(ee)}else r(l);p=n(l)}if(p!==null)var K=!0;else{var Z=n(u);Z!==null&&Y(I,Z.startTime-ee),K=!1}return K}finally{p=null,y=me,_=!1}}var B=!1,D=null,T=-1,N=5,L=-1;function M(){return!(t.unstable_now()-L<N)}function U(){if(D!==null){var Q=t.unstable_now();L=Q;var ee=!0;try{ee=D(!0,Q)}finally{ee?F():(B=!1,D=null)}}else B=!1}var F;if(typeof w=="function")F=function(){w(U)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,de=ie.port2;ie.port1.onmessage=U,F=function(){de.postMessage(null)}}else F=function(){C(U,0)};function ue(Q){D=Q,B||(B=!0,F())}function Y(Q,ee){T=C(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,ue(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var me=y;y=ee;try{return Q()}finally{y=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=y;y=Q;try{return ee()}finally{y=me}},t.unstable_scheduleCallback=function(Q,ee,me){var ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ne+me:ne):me=ne,Q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=me+$,Q={id:f++,callback:ee,priorityLevel:Q,startTime:me,expirationTime:$,sortIndex:-1},me>ne?(Q.sortIndex=me,e(u,Q),n(l)===null&&Q===n(u)&&(S?(x(T),T=-1):S=!0,Y(I,me-ne))):(Q.sortIndex=$,e(l,Q),E||_||(E=!0,ue(k))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var ee=y;return function(){var me=y;y=ee;try{return Q.apply(this,arguments)}finally{y=me}}}})(BN);UN.exports=BN;var AU=UN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU=O,Jr=AU;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $N=new Set,fd={};function Ll(t,e){ic(t,e),ic(t+"Capture",e)}function ic(t,e){for(fd[t]=e,t=0;t<e.length;t++)$N.add(e[t])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=Object.prototype.hasOwnProperty,kU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UR={},BR={};function OU(t){return W1.call(BR,t)?!0:W1.call(UR,t)?!1:kU.test(t)?BR[t]=!0:(UR[t]=!0,!1)}function NU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DU(t,e,n,r){if(e===null||typeof e>"u"||NU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function br(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qn[t]=new br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qn[e]=new br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qn[t]=new br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qn[t]=new br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qn[t]=new br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qn[t]=new br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qn[t]=new br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qn[t]=new br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qn[t]=new br(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jb=/[\-:]([a-z])/g;function Zb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jb,Zb);qn[e]=new br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jb,Zb);qn[e]=new br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jb,Zb);qn[e]=new br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qn[t]=new br(t,1,!1,t.toLowerCase(),null,!1,!1)});qn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qn[t]=new br(t,1,!1,t.toLowerCase(),null,!0,!0)});function eT(t,e,n,r){var i=qn.hasOwnProperty(e)?qn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DU(e,n,i,r)&&(n=null),r||i===null?OU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=PU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cp=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),HN=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),rT=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),qN=Symbol.for("react.offscreen"),$R=Symbol.iterator;function af(t){return t===null||typeof t!="object"?null:(t=$R&&t[$R]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,Iv;function If(t){if(Iv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iv=e&&e[1]||""}return`
`+Iv+t}var Cv=!1;function Av(t,e){if(!t||Cv)return"";Cv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function LU(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=Av(t.type,!1),t;case 11:return t=Av(t.type.render,!1),t;case 1:return t=Av(t.type,!0),t;default:return""}}function Y1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pu:return"Fragment";case Au:return"Portal";case K1:return"Profiler";case tT:return"StrictMode";case G1:return"Suspense";case Q1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HN:return(t.displayName||"Context")+".Consumer";case zN:return(t._context.displayName||"Context")+".Provider";case nT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rT:return e=t.displayName||null,e!==null?e:Y1(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Y1(t(e))}catch{}}return null}function MU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y1(e);case 8:return e===tT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FU(t){var e=WN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fp(t){t._valueTracker||(t._valueTracker=FU(t))}function KN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X1(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GN(t,e){e=e.checked,e!=null&&eT(t,"checked",e,!1)}function J1(t,e){GN(t,e);var n=ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z1(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z1(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z1(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cf=Array.isArray;function qu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Cf(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ua(n)}}function QN(t,e){var n=ua(e.value),r=ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dp,XN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jU=["Webkit","ms","Moz","O"];Object.keys(Bf).forEach(function(t){jU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bf[e]=Bf[t]})});function JN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bf.hasOwnProperty(t)&&Bf[t]?(""+e).trim():e+"px"}function ZN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VU=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nE(t,e){if(e){if(VU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function rE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iE=null;function iT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sE=null,Wu=null,Ku=null;function KR(t){if(t=Xd(t)){if(typeof sE!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=Bg(e),sE(t.stateNode,t.type,e))}}function eD(t){Wu?Ku?Ku.push(t):Ku=[t]:Wu=t}function tD(){if(Wu){var t=Wu,e=Ku;if(Ku=Wu=null,KR(t),e)for(t=0;t<e.length;t++)KR(e[t])}}function nD(t,e){return t(e)}function rD(){}var Pv=!1;function iD(t,e,n){if(Pv)return t(e,n);Pv=!0;try{return nD(t,e,n)}finally{Pv=!1,(Wu!==null||Ku!==null)&&(rD(),tD())}}function hd(t,e){var n=t.stateNode;if(n===null)return null;var r=Bg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var oE=!1;if(no)try{var lf={};Object.defineProperty(lf,"passive",{get:function(){oE=!0}}),window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{oE=!1}function UU(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var $f=!1,wm=null,Em=!1,aE=null,BU={onError:function(t){$f=!0,wm=t}};function $U(t,e,n,r,i,s,o,a,l){$f=!1,wm=null,UU.apply(BU,arguments)}function zU(t,e,n,r,i,s,o,a,l){if($U.apply(this,arguments),$f){if($f){var u=wm;$f=!1,wm=null}else throw Error(ve(198));Em||(Em=!0,aE=u)}}function Ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GR(t){if(Ml(t)!==t)throw Error(ve(188))}function HU(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return GR(i),t;if(s===r)return GR(i),e;s=s.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function oD(t){return t=HU(t),t!==null?aD(t):null}function aD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aD(t);if(e!==null)return e;t=t.sibling}return null}var lD=Jr.unstable_scheduleCallback,QR=Jr.unstable_cancelCallback,qU=Jr.unstable_shouldYield,WU=Jr.unstable_requestPaint,cn=Jr.unstable_now,KU=Jr.unstable_getCurrentPriorityLevel,sT=Jr.unstable_ImmediatePriority,uD=Jr.unstable_UserBlockingPriority,bm=Jr.unstable_NormalPriority,GU=Jr.unstable_LowPriority,cD=Jr.unstable_IdlePriority,Fg=null,ys=null;function QU(t){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Fg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:JU,YU=Math.log,XU=Math.LN2;function JU(t){return t>>>=0,t===0?32:31-(YU(t)/XU|0)|0}var hp=64,pp=4194304;function Af(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Af(a):(s&=o,s!==0&&(r=Af(s)))}else o=n&~i,o!==0?r=Af(o):s!==0&&(r=Af(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ui(e),i=1<<n,r|=t[n],e&=~i;return r}function ZU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ui(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZU(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fD(){var t=hp;return hp<<=1,!(hp&4194240)&&(hp=64),t}function kv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ui(e),t[e]=n}function t9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ui(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ui(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function dD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hD,aT,pD,mD,gD,uE=!1,mp=[],Qo=null,Yo=null,Xo=null,pd=new Map,md=new Map,Mo=[],n9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YR(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function uf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&aT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r9(t,e,n,r,i){switch(e){case"focusin":return Qo=uf(Qo,t,e,n,r,i),!0;case"dragenter":return Yo=uf(Yo,t,e,n,r,i),!0;case"mouseover":return Xo=uf(Xo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,uf(pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,uf(md.get(s)||null,t,e,n,r,i)),!0}return!1}function yD(t){var e=Za(t.target);if(e!==null){var n=Ml(e);if(n!==null){if(e=n.tag,e===13){if(e=sD(n),e!==null){t.blockedOn=e,gD(t.priority,function(){pD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iE=r,n.target.dispatchEvent(r),iE=null}else return e=Xd(n),e!==null&&aT(e),t.blockedOn=n,!1;e.shift()}return!0}function XR(t,e,n){Hp(t)&&n.delete(e)}function i9(){uE=!1,Qo!==null&&Hp(Qo)&&(Qo=null),Yo!==null&&Hp(Yo)&&(Yo=null),Xo!==null&&Hp(Xo)&&(Xo=null),pd.forEach(XR),md.forEach(XR)}function cf(t,e){t.blockedOn===e&&(t.blockedOn=null,uE||(uE=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,i9)))}function gd(t){function e(i){return cf(i,t)}if(0<mp.length){cf(mp[0],t);for(var n=1;n<mp.length;n++){var r=mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&cf(Qo,t),Yo!==null&&cf(Yo,t),Xo!==null&&cf(Xo,t),pd.forEach(e),md.forEach(e),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)yD(n),n.blockedOn===null&&Mo.shift()}var Gu=mo.ReactCurrentBatchConfig,Sm=!0;function s9(t,e,n,r){var i=Ct,s=Gu.transition;Gu.transition=null;try{Ct=1,lT(t,e,n,r)}finally{Ct=i,Gu.transition=s}}function o9(t,e,n,r){var i=Ct,s=Gu.transition;Gu.transition=null;try{Ct=4,lT(t,e,n,r)}finally{Ct=i,Gu.transition=s}}function lT(t,e,n,r){if(Sm){var i=cE(t,e,n,r);if(i===null)Bv(t,e,r,xm,n),YR(t,r);else if(r9(i,t,e,n,r))r.stopPropagation();else if(YR(t,r),e&4&&-1<n9.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&hD(s),s=cE(t,e,n,r),s===null&&Bv(t,e,r,xm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bv(t,e,r,null,n)}}var xm=null;function cE(t,e,n,r){if(xm=null,t=iT(r),t=Za(t),t!==null)if(e=Ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xm=t,null}function vD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KU()){case sT:return 1;case uD:return 4;case bm:case GU:return 16;case cD:return 536870912;default:return 16}default:return 16}}var zo=null,uT=null,qp=null;function _D(){if(qp)return qp;var t,e=uT,n=e.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qp=i.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gp(){return!0}function JR(){return!1}function ei(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gp:JR,this.isPropagationStopped=JR,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gp)},persist:function(){},isPersistent:gp}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cT=ei(Ic),Yd=en({},Ic,{view:0,detail:0}),a9=ei(Yd),Ov,Nv,ff,jg=en({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ff&&(ff&&t.type==="mousemove"?(Ov=t.screenX-ff.screenX,Nv=t.screenY-ff.screenY):Nv=Ov=0,ff=t),Ov)},movementY:function(t){return"movementY"in t?t.movementY:Nv}}),ZR=ei(jg),l9=en({},jg,{dataTransfer:0}),u9=ei(l9),c9=en({},Yd,{relatedTarget:0}),Dv=ei(c9),f9=en({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),d9=ei(f9),h9=en({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p9=ei(h9),m9=en({},Ic,{data:0}),eI=ei(m9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v9[t])?!!e[t]:!1}function fT(){return _9}var w9=en({},Yd,{key:function(t){if(t.key){var e=g9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fT,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E9=ei(w9),b9=en({},jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tI=ei(b9),T9=en({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fT}),S9=ei(T9),x9=en({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),R9=ei(x9),I9=en({},jg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C9=ei(I9),A9=[9,13,27,32],dT=no&&"CompositionEvent"in window,zf=null;no&&"documentMode"in document&&(zf=document.documentMode);var P9=no&&"TextEvent"in window&&!zf,wD=no&&(!dT||zf&&8<zf&&11>=zf),nI=" ",rI=!1;function ED(t,e){switch(t){case"keyup":return A9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ku=!1;function k9(t,e){switch(t){case"compositionend":return bD(e);case"keypress":return e.which!==32?null:(rI=!0,nI);case"textInput":return t=e.data,t===nI&&rI?null:t;default:return null}}function O9(t,e){if(ku)return t==="compositionend"||!dT&&ED(t,e)?(t=_D(),qp=uT=zo=null,ku=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wD&&e.locale!=="ko"?null:e.data;default:return null}}var N9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N9[t.type]:e==="textarea"}function TD(t,e,n,r){eD(r),e=Rm(e,"onChange"),0<e.length&&(n=new cT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,yd=null;function D9(t){DD(t,0)}function Vg(t){var e=Du(t);if(KN(e))return t}function L9(t,e){if(t==="change")return e}var SD=!1;if(no){var Lv;if(no){var Mv="oninput"in document;if(!Mv){var sI=document.createElement("div");sI.setAttribute("oninput","return;"),Mv=typeof sI.oninput=="function"}Lv=Mv}else Lv=!1;SD=Lv&&(!document.documentMode||9<document.documentMode)}function oI(){Hf&&(Hf.detachEvent("onpropertychange",xD),yd=Hf=null)}function xD(t){if(t.propertyName==="value"&&Vg(yd)){var e=[];TD(e,yd,t,iT(t)),iD(D9,e)}}function M9(t,e,n){t==="focusin"?(oI(),Hf=e,yd=n,Hf.attachEvent("onpropertychange",xD)):t==="focusout"&&oI()}function F9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vg(yd)}function j9(t,e){if(t==="click")return Vg(e)}function V9(t,e){if(t==="input"||t==="change")return Vg(e)}function U9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hi=typeof Object.is=="function"?Object.is:U9;function vd(t,e){if(Hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!W1.call(e,i)||!Hi(t[i],e[i]))return!1}return!0}function aI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lI(t,e){var n=aI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aI(n)}}function RD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ID(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B9(t){var e=ID(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RD(n.ownerDocument.documentElement,n)){if(r!==null&&hT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=lI(n,s);var o=lI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $9=no&&"documentMode"in document&&11>=document.documentMode,Ou=null,fE=null,qf=null,dE=!1;function uI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dE||Ou==null||Ou!==_m(r)||(r=Ou,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&vd(qf,r)||(qf=r,r=Rm(fE,"onSelect"),0<r.length&&(e=new cT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ou)))}function yp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nu={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},Fv={},CD={};no&&(CD=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Ug(t){if(Fv[t])return Fv[t];if(!Nu[t])return t;var e=Nu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CD)return Fv[t]=e[n];return t}var AD=Ug("animationend"),PD=Ug("animationiteration"),kD=Ug("animationstart"),OD=Ug("transitionend"),ND=new Map,cI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){ND.set(t,e),Ll(e,[t])}for(var jv=0;jv<cI.length;jv++){var Vv=cI[jv],z9=Vv.toLowerCase(),H9=Vv[0].toUpperCase()+Vv.slice(1);_a(z9,"on"+H9)}_a(AD,"onAnimationEnd");_a(PD,"onAnimationIteration");_a(kD,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(OD,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function fI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zU(r,e,void 0,t),t.currentTarget=null}function DD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fI(i,a,u),s=l}}}if(Em)throw t=aE,Em=!1,aE=null,t}function jt(t,e){var n=e[yE];n===void 0&&(n=e[yE]=new Set);var r=t+"__bubble";n.has(r)||(LD(e,t,2,!1),n.add(r))}function Uv(t,e,n){var r=0;e&&(r|=4),LD(n,t,r,e)}var vp="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[vp]){t[vp]=!0,$N.forEach(function(n){n!=="selectionchange"&&(q9.has(n)||Uv(n,!1,t),Uv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vp]||(e[vp]=!0,Uv("selectionchange",!1,e))}}function LD(t,e,n,r){switch(vD(e)){case 1:var i=s9;break;case 4:i=o9;break;default:i=lT}n=i.bind(null,e,n,t),i=void 0,!oE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Za(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iD(function(){var u=s,f=iT(n),p=[];e:{var y=ND.get(t);if(y!==void 0){var _=cT,E=t;switch(t){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":_=E9;break;case"focusin":E="focus",_=Dv;break;case"focusout":E="blur",_=Dv;break;case"beforeblur":case"afterblur":_=Dv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ZR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=u9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=S9;break;case AD:case PD:case kD:_=d9;break;case OD:_=R9;break;case"scroll":_=a9;break;case"wheel":_=C9;break;case"copy":case"cut":case"paste":_=p9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=tI}var S=(e&4)!==0,C=!S&&t==="scroll",x=S?y!==null?y+"Capture":null:y;S=[];for(var w=u,v;w!==null;){v=w;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,x!==null&&(I=hd(w,x),I!=null&&S.push(wd(w,I,v)))),C)break;w=w.return}0<S.length&&(y=new _(y,E,null,n,f),p.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==iE&&(E=n.relatedTarget||n.fromElement)&&(Za(E)||E[ro]))break e;if((_||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=u,E=E?Za(E):null,E!==null&&(C=Ml(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=u),_!==E)){if(S=ZR,I="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=tI,I="onPointerLeave",x="onPointerEnter",w="pointer"),C=_==null?y:Du(_),v=E==null?y:Du(E),y=new S(I,w+"leave",_,n,f),y.target=C,y.relatedTarget=v,I=null,Za(f)===u&&(S=new S(x,w+"enter",E,n,f),S.target=v,S.relatedTarget=C,I=S),C=I,_&&E)t:{for(S=_,x=E,w=0,v=S;v;v=vu(v))w++;for(v=0,I=x;I;I=vu(I))v++;for(;0<w-v;)S=vu(S),w--;for(;0<v-w;)x=vu(x),v--;for(;w--;){if(S===x||x!==null&&S===x.alternate)break t;S=vu(S),x=vu(x)}S=null}else S=null;_!==null&&dI(p,y,_,S,!1),E!==null&&C!==null&&dI(p,C,E,S,!0)}}e:{if(y=u?Du(u):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var k=L9;else if(iI(y))if(SD)k=V9;else{k=F9;var B=M9}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=j9);if(k&&(k=k(t,u))){TD(p,k,n,f);break e}B&&B(t,y,u),t==="focusout"&&(B=y._wrapperState)&&B.controlled&&y.type==="number"&&Z1(y,"number",y.value)}switch(B=u?Du(u):window,t){case"focusin":(iI(B)||B.contentEditable==="true")&&(Ou=B,fE=u,qf=null);break;case"focusout":qf=fE=Ou=null;break;case"mousedown":dE=!0;break;case"contextmenu":case"mouseup":case"dragend":dE=!1,uI(p,n,f);break;case"selectionchange":if($9)break;case"keydown":case"keyup":uI(p,n,f)}var D;if(dT)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ku?ED(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(wD&&n.locale!=="ko"&&(ku||T!=="onCompositionStart"?T==="onCompositionEnd"&&ku&&(D=_D()):(zo=f,uT="value"in zo?zo.value:zo.textContent,ku=!0)),B=Rm(u,T),0<B.length&&(T=new eI(T,t,null,n,f),p.push({event:T,listeners:B}),D?T.data=D:(D=bD(n),D!==null&&(T.data=D)))),(D=P9?k9(t,n):O9(t,n))&&(u=Rm(u,"onBeforeInput"),0<u.length&&(f=new eI("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=D))}DD(p,e)})}function wd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hd(t,n),s!=null&&r.unshift(wd(t,s,i)),s=hd(t,e),s!=null&&r.push(wd(t,s,i))),t=t.return}return r}function vu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hd(n,s),l!=null&&o.unshift(wd(n,l,a))):i||(l=hd(n,s),l!=null&&o.push(wd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W9=/\r\n?/g,K9=/\u0000|\uFFFD/g;function hI(t){return(typeof t=="string"?t:""+t).replace(W9,`
`).replace(K9,"")}function _p(t,e,n){if(e=hI(e),hI(t)!==e&&n)throw Error(ve(425))}function Im(){}var hE=null,pE=null;function mE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gE=typeof setTimeout=="function"?setTimeout:void 0,G9=typeof clearTimeout=="function"?clearTimeout:void 0,pI=typeof Promise=="function"?Promise:void 0,Q9=typeof queueMicrotask=="function"?queueMicrotask:typeof pI<"u"?function(t){return pI.resolve(null).then(t).catch(Y9)}:gE;function Y9(t){setTimeout(function(){throw t})}function $v(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gd(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),ds="__reactFiber$"+Cc,Ed="__reactProps$"+Cc,ro="__reactContainer$"+Cc,yE="__reactEvents$"+Cc,X9="__reactListeners$"+Cc,J9="__reactHandles$"+Cc;function Za(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ro]||n[ds]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mI(t);t!==null;){if(n=t[ds])return n;t=mI(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[ds]||t[ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Bg(t){return t[Ed]||null}var vE=[],Lu=-1;function wa(t){return{current:t}}function zt(t){0>Lu||(t.current=vE[Lu],vE[Lu]=null,Lu--)}function Mt(t,e){Lu++,vE[Lu]=t.current,t.current=e}var ca={},lr=wa(ca),Or=wa(!1),gl=ca;function sc(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function Cm(){zt(Or),zt(lr)}function gI(t,e,n){if(lr.current!==ca)throw Error(ve(168));Mt(lr,e),Mt(Or,n)}function MD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,MU(t)||"Unknown",i));return en({},n,r)}function Am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,gl=lr.current,Mt(lr,t),Mt(Or,Or.current),!0}function yI(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=MD(t,e,gl),r.__reactInternalMemoizedMergedChildContext=t,zt(Or),zt(lr),Mt(lr,t)):zt(Or),Mt(Or,n)}var Bs=null,$g=!1,zv=!1;function FD(t){Bs===null?Bs=[t]:Bs.push(t)}function Z9(t){$g=!0,FD(t)}function Ea(){if(!zv&&Bs!==null){zv=!0;var t=0,e=Ct;try{var n=Bs;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bs=null,$g=!1}catch(i){throw Bs!==null&&(Bs=Bs.slice(t+1)),lD(sT,Ea),i}finally{Ct=e,zv=!1}}return null}var Mu=[],Fu=0,Pm=null,km=0,ai=[],li=0,yl=null,zs=1,Hs="";function Ga(t,e){Mu[Fu++]=km,Mu[Fu++]=Pm,Pm=t,km=e}function jD(t,e,n){ai[li++]=zs,ai[li++]=Hs,ai[li++]=yl,yl=t;var r=zs;t=Hs;var i=32-Ui(r)-1;r&=~(1<<i),n+=1;var s=32-Ui(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zs=1<<32-Ui(e)+i|n<<i|r,Hs=s+t}else zs=1<<s|n<<i|r,Hs=t}function pT(t){t.return!==null&&(Ga(t,1),jD(t,1,0))}function mT(t){for(;t===Pm;)Pm=Mu[--Fu],Mu[Fu]=null,km=Mu[--Fu],Mu[Fu]=null;for(;t===yl;)yl=ai[--li],ai[li]=null,Hs=ai[--li],ai[li]=null,zs=ai[--li],ai[li]=null}var Gr=null,Hr=null,Kt=!1,Ni=null;function VD(t,e){var n=fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,Hr=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,Hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yl!==null?{id:zs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gr=t,Hr=null,!0):!1;default:return!1}}function _E(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wE(t){if(Kt){var e=Hr;if(e){var n=e;if(!vI(t,e)){if(_E(t))throw Error(ve(418));e=Jo(n.nextSibling);var r=Gr;e&&vI(t,e)?VD(r,n):(t.flags=t.flags&-4097|2,Kt=!1,Gr=t)}}else{if(_E(t))throw Error(ve(418));t.flags=t.flags&-4097|2,Kt=!1,Gr=t}}}function _I(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function wp(t){if(t!==Gr)return!1;if(!Kt)return _I(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mE(t.type,t.memoizedProps)),e&&(e=Hr)){if(_E(t))throw UD(),Error(ve(418));for(;e;)VD(t,e),e=Jo(e.nextSibling)}if(_I(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hr=Jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hr=null}}else Hr=Gr?Jo(t.stateNode.nextSibling):null;return!0}function UD(){for(var t=Hr;t;)t=Jo(t.nextSibling)}function oc(){Hr=Gr=null,Kt=!1}function gT(t){Ni===null?Ni=[t]:Ni.push(t)}var e7=mo.ReactCurrentBatchConfig;function df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Ep(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wI(t){var e=t._init;return e(t._payload)}function BD(t){function e(x,w){if(t){var v=x.deletions;v===null?(x.deletions=[w],x.flags|=16):v.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=na(x,w),x.index=0,x.sibling=null,x}function s(x,w,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<w?(x.flags|=2,w):v):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,v,I){return w===null||w.tag!==6?(w=Yv(v,x.mode,I),w.return=x,w):(w=i(w,v),w.return=x,w)}function l(x,w,v,I){var k=v.type;return k===Pu?f(x,w,v.props.children,I,v.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&wI(k)===w.type)?(I=i(w,v.props),I.ref=df(x,w,v),I.return=x,I):(I=Zp(v.type,v.key,v.props,null,x.mode,I),I.ref=df(x,w,v),I.return=x,I)}function u(x,w,v,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=Xv(v,x.mode,I),w.return=x,w):(w=i(w,v.children||[]),w.return=x,w)}function f(x,w,v,I,k){return w===null||w.tag!==7?(w=cl(v,x.mode,I,k),w.return=x,w):(w=i(w,v),w.return=x,w)}function p(x,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yv(""+w,x.mode,v),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cp:return v=Zp(w.type,w.key,w.props,null,x.mode,v),v.ref=df(x,null,w),v.return=x,v;case Au:return w=Xv(w,x.mode,v),w.return=x,w;case Do:var I=w._init;return p(x,I(w._payload),v)}if(Cf(w)||af(w))return w=cl(w,x.mode,v,null),w.return=x,w;Ep(x,w)}return null}function y(x,w,v,I){var k=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(x,w,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cp:return v.key===k?l(x,w,v,I):null;case Au:return v.key===k?u(x,w,v,I):null;case Do:return k=v._init,y(x,w,k(v._payload),I)}if(Cf(v)||af(v))return k!==null?null:f(x,w,v,I,null);Ep(x,v)}return null}function _(x,w,v,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(v)||null,a(w,x,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cp:return x=x.get(I.key===null?v:I.key)||null,l(w,x,I,k);case Au:return x=x.get(I.key===null?v:I.key)||null,u(w,x,I,k);case Do:var B=I._init;return _(x,w,v,B(I._payload),k)}if(Cf(I)||af(I))return x=x.get(v)||null,f(w,x,I,k,null);Ep(w,I)}return null}function E(x,w,v,I){for(var k=null,B=null,D=w,T=w=0,N=null;D!==null&&T<v.length;T++){D.index>T?(N=D,D=null):N=D.sibling;var L=y(x,D,v[T],I);if(L===null){D===null&&(D=N);break}t&&D&&L.alternate===null&&e(x,D),w=s(L,w,T),B===null?k=L:B.sibling=L,B=L,D=N}if(T===v.length)return n(x,D),Kt&&Ga(x,T),k;if(D===null){for(;T<v.length;T++)D=p(x,v[T],I),D!==null&&(w=s(D,w,T),B===null?k=D:B.sibling=D,B=D);return Kt&&Ga(x,T),k}for(D=r(x,D);T<v.length;T++)N=_(D,x,T,v[T],I),N!==null&&(t&&N.alternate!==null&&D.delete(N.key===null?T:N.key),w=s(N,w,T),B===null?k=N:B.sibling=N,B=N);return t&&D.forEach(function(M){return e(x,M)}),Kt&&Ga(x,T),k}function S(x,w,v,I){var k=af(v);if(typeof k!="function")throw Error(ve(150));if(v=k.call(v),v==null)throw Error(ve(151));for(var B=k=null,D=w,T=w=0,N=null,L=v.next();D!==null&&!L.done;T++,L=v.next()){D.index>T?(N=D,D=null):N=D.sibling;var M=y(x,D,L.value,I);if(M===null){D===null&&(D=N);break}t&&D&&M.alternate===null&&e(x,D),w=s(M,w,T),B===null?k=M:B.sibling=M,B=M,D=N}if(L.done)return n(x,D),Kt&&Ga(x,T),k;if(D===null){for(;!L.done;T++,L=v.next())L=p(x,L.value,I),L!==null&&(w=s(L,w,T),B===null?k=L:B.sibling=L,B=L);return Kt&&Ga(x,T),k}for(D=r(x,D);!L.done;T++,L=v.next())L=_(D,x,T,L.value,I),L!==null&&(t&&L.alternate!==null&&D.delete(L.key===null?T:L.key),w=s(L,w,T),B===null?k=L:B.sibling=L,B=L);return t&&D.forEach(function(U){return e(x,U)}),Kt&&Ga(x,T),k}function C(x,w,v,I){if(typeof v=="object"&&v!==null&&v.type===Pu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case cp:e:{for(var k=v.key,B=w;B!==null;){if(B.key===k){if(k=v.type,k===Pu){if(B.tag===7){n(x,B.sibling),w=i(B,v.props.children),w.return=x,x=w;break e}}else if(B.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&wI(k)===B.type){n(x,B.sibling),w=i(B,v.props),w.ref=df(x,B,v),w.return=x,x=w;break e}n(x,B);break}else e(x,B);B=B.sibling}v.type===Pu?(w=cl(v.props.children,x.mode,I,v.key),w.return=x,x=w):(I=Zp(v.type,v.key,v.props,null,x.mode,I),I.ref=df(x,w,v),I.return=x,x=I)}return o(x);case Au:e:{for(B=v.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(x,w.sibling),w=i(w,v.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Xv(v,x.mode,I),w.return=x,x=w}return o(x);case Do:return B=v._init,C(x,w,B(v._payload),I)}if(Cf(v))return E(x,w,v,I);if(af(v))return S(x,w,v,I);Ep(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,v),w.return=x,x=w):(n(x,w),w=Yv(v,x.mode,I),w.return=x,x=w),o(x)):n(x,w)}return C}var ac=BD(!0),$D=BD(!1),Om=wa(null),Nm=null,ju=null,yT=null;function vT(){yT=ju=Nm=null}function _T(t){var e=Om.current;zt(Om),t._currentValue=e}function EE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qu(t,e){Nm=t,yT=ju=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function mi(t){var e=t._currentValue;if(yT!==t)if(t={context:t,memoizedValue:e,next:null},ju===null){if(Nm===null)throw Error(ve(308));ju=t,Nm.dependencies={lanes:0,firstContext:t}}else ju=ju.next=t;return e}var el=null;function wT(t){el===null?el=[t]:el.push(t)}function zD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wT(e)):(n.next=i.next,i.next=n),e.interleaved=n,io(t,r)}function io(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function ET(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,io(t,n)}return i=r.interleaved,i===null?(e.next=e,wT(r)):(e.next=i.next,i.next=e),r.interleaved=e,io(t,n)}function Kp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}function EI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dm(t,e,n,r){var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=u=l=null,a=s;do{var y=a.lane,_=a.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(y=e,_=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){p=E.call(_,p,y);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,y=typeof E=="function"?E.call(_,p,y):E,y==null)break e;p=en({},p,y);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=_,l=p):f=f.next=_,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_l|=o,t.lanes=o,t.memoizedState=p}}function bI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Jd={},vs=wa(Jd),bd=wa(Jd),Td=wa(Jd);function tl(t){if(t===Jd)throw Error(ve(174));return t}function bT(t,e){switch(Mt(Td,e),Mt(bd,t),Mt(vs,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tE(e,t)}zt(vs),Mt(vs,e)}function lc(){zt(vs),zt(bd),zt(Td)}function qD(t){tl(Td.current);var e=tl(vs.current),n=tE(e,t.type);e!==n&&(Mt(bd,t),Mt(vs,n))}function TT(t){bd.current===t&&(zt(vs),zt(bd))}var Jt=wa(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hv=[];function ST(){for(var t=0;t<Hv.length;t++)Hv[t]._workInProgressVersionPrimary=null;Hv.length=0}var Gp=mo.ReactCurrentDispatcher,qv=mo.ReactCurrentBatchConfig,vl=0,Zt=null,xn=null,Dn=null,Mm=!1,Wf=!1,Sd=0,t7=0;function Jn(){throw Error(ve(321))}function xT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hi(t[n],e[n]))return!1;return!0}function RT(t,e,n,r,i,s){if(vl=s,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gp.current=t===null||t.memoizedState===null?s7:o7,t=n(r,i),Wf){s=0;do{if(Wf=!1,Sd=0,25<=s)throw Error(ve(301));s+=1,Dn=xn=null,e.updateQueue=null,Gp.current=a7,t=n(r,i)}while(Wf)}if(Gp.current=Fm,e=xn!==null&&xn.next!==null,vl=0,Dn=xn=Zt=null,Mm=!1,e)throw Error(ve(300));return t}function IT(){var t=Sd!==0;return Sd=0,t}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Zt.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function gi(){if(xn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Dn===null?Zt.memoizedState:Dn.next;if(e!==null)Dn=e,xn=t;else{if(t===null)throw Error(ve(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Dn===null?Zt.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function xd(t,e){return typeof e=="function"?e(t):e}function Wv(t){var e=gi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=xn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((vl&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Zt.lanes|=f,_l|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hi(r,e.memoizedState)||(Pr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Zt.lanes|=s,_l|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kv(t){var e=gi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hi(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function WD(){}function KD(t,e){var n=Zt,r=gi(),i=e(),s=!Hi(r.memoizedState,i);if(s&&(r.memoizedState=i,Pr=!0),r=r.queue,CT(YD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Rd(9,QD.bind(null,n,r,i,e),void 0,null),jn===null)throw Error(ve(349));vl&30||GD(n,e,i)}return i}function GD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QD(t,e,n,r){e.value=n,e.getSnapshot=r,XD(e)&&JD(t)}function YD(t,e,n){return n(function(){XD(e)&&JD(t)})}function XD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hi(t,n)}catch{return!0}}function JD(t){var e=io(t,1);e!==null&&Bi(e,t,1,-1)}function TI(t){var e=us();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},e.queue=t,t=t.dispatch=i7.bind(null,Zt,t),[e.memoizedState,t]}function Rd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZD(){return gi().memoizedState}function Qp(t,e,n,r){var i=us();Zt.flags|=t,i.memoizedState=Rd(1|e,n,void 0,r===void 0?null:r)}function zg(t,e,n,r){var i=gi();r=r===void 0?null:r;var s=void 0;if(xn!==null){var o=xn.memoizedState;if(s=o.destroy,r!==null&&xT(r,o.deps)){i.memoizedState=Rd(e,n,s,r);return}}Zt.flags|=t,i.memoizedState=Rd(1|e,n,s,r)}function SI(t,e){return Qp(8390656,8,t,e)}function CT(t,e){return zg(2048,8,t,e)}function e4(t,e){return zg(4,2,t,e)}function t4(t,e){return zg(4,4,t,e)}function n4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r4(t,e,n){return n=n!=null?n.concat([t]):null,zg(4,4,n4.bind(null,e,t),n)}function AT(){}function i4(t,e){var n=gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s4(t,e){var n=gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function o4(t,e,n){return vl&21?(Hi(n,e)||(n=fD(),Zt.lanes|=n,_l|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=n)}function n7(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=qv.transition;qv.transition={};try{t(!1),e()}finally{Ct=n,qv.transition=r}}function a4(){return gi().memoizedState}function r7(t,e,n){var r=ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l4(t))u4(e,n);else if(n=zD(t,e,n,r),n!==null){var i=wr();Bi(n,t,r,i),c4(n,e,r)}}function i7(t,e,n){var r=ta(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l4(t))u4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hi(a,o)){var l=e.interleaved;l===null?(i.next=i,wT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zD(t,e,i,r),n!==null&&(i=wr(),Bi(n,t,r,i),c4(n,e,r))}}function l4(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function u4(t,e){Wf=Mm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}var Fm={readContext:mi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},s7={readContext:mi,useCallback:function(t,e){return us().memoizedState=[t,e===void 0?null:e],t},useContext:mi,useEffect:SI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qp(4194308,4,n4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qp(4,2,t,e)},useMemo:function(t,e){var n=us();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=us();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r7.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=us();return t={current:t},e.memoizedState=t},useState:TI,useDebugValue:AT,useDeferredValue:function(t){return us().memoizedState=t},useTransition:function(){var t=TI(!1),e=t[0];return t=n7.bind(null,t[1]),us().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=us();if(Kt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),jn===null)throw Error(ve(349));vl&30||GD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,SI(YD.bind(null,r,s,t),[t]),r.flags|=2048,Rd(9,QD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=us(),e=jn.identifierPrefix;if(Kt){var n=Hs,r=zs;n=(r&~(1<<32-Ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o7={readContext:mi,useCallback:i4,useContext:mi,useEffect:CT,useImperativeHandle:r4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:s4,useReducer:Wv,useRef:ZD,useState:function(){return Wv(xd)},useDebugValue:AT,useDeferredValue:function(t){var e=gi();return o4(e,xn.memoizedState,t)},useTransition:function(){var t=Wv(xd)[0],e=gi().memoizedState;return[t,e]},useMutableSource:WD,useSyncExternalStore:KD,useId:a4,unstable_isNewReconciler:!1},a7={readContext:mi,useCallback:i4,useContext:mi,useEffect:CT,useImperativeHandle:r4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:s4,useReducer:Kv,useRef:ZD,useState:function(){return Kv(xd)},useDebugValue:AT,useDeferredValue:function(t){var e=gi();return xn===null?e.memoizedState=t:o4(e,xn.memoizedState,t)},useTransition:function(){var t=Kv(xd)[0],e=gi().memoizedState;return[t,e]},useMutableSource:WD,useSyncExternalStore:KD,useId:a4,unstable_isNewReconciler:!1};function Pi(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?Ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),i=ta(t),s=Ys(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&(Bi(e,t,i,r),Kp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),i=ta(t),s=Ys(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&(Bi(e,t,i,r),Kp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=ta(t),i=Ys(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zo(t,i,r),e!==null&&(Bi(e,t,r,n),Kp(e,t,r))}};function xI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vd(n,r)||!vd(i,s):!0}function f4(t,e,n){var r=!1,i=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=mi(s):(i=Nr(e)?gl:lr.current,r=e.contextTypes,s=(r=r!=null)?sc(t,i):ca),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function RI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function TE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ET(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mi(s):(s=Nr(e)?gl:lr.current,i.context=sc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hg.enqueueReplaceState(i,i.state,null),Dm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uc(t,e){try{var n="",r=e;do n+=LU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function SE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l7=typeof WeakMap=="function"?WeakMap:Map;function d4(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vm||(Vm=!0,DE=r),SE(t,e)},n}function h4(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){SE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){SE(t,e),typeof r!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function II(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b7.bind(null,t,e,n),e.then(t,t))}function CI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var u7=mo.ReactCurrentOwner,Pr=!1;function pr(t,e,n,r){e.child=t===null?$D(e,null,n,r):ac(e,t.child,n,r)}function PI(t,e,n,r,i){n=n.render;var s=e.ref;return Qu(e,i),r=RT(t,e,n,r,s,i),n=IT(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(Kt&&n&&pT(e),e.flags|=1,pr(t,e,r,i),e.child)}function kI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!FT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,p4(t,e,s,r,i)):(t=Zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vd,n(o,r)&&t.ref===e.ref)return so(t,e,i)}return e.flags|=1,t=na(s,r),t.ref=e.ref,t.return=e,e.child=t}function p4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vd(s,r)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,so(t,e,i)}return xE(t,e,n,r,i)}function m4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Uu,Br),Br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(Uu,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Mt(Uu,Br),Br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Mt(Uu,Br),Br|=r;return pr(t,e,i,n),e.child}function g4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xE(t,e,n,r,i){var s=Nr(n)?gl:lr.current;return s=sc(e,s),Qu(e,i),n=RT(t,e,n,r,s,i),r=IT(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(Kt&&r&&pT(e),e.flags|=1,pr(t,e,n,i),e.child)}function OI(t,e,n,r,i){if(Nr(n)){var s=!0;Am(e)}else s=!1;if(Qu(e,i),e.stateNode===null)Yp(t,e),f4(e,n,r),TE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mi(u):(u=Nr(n)?gl:lr.current,u=sc(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&RI(e,o,r,u),Lo=!1;var y=e.memoizedState;o.state=y,Dm(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Or.current||Lo?(typeof f=="function"&&(bE(e,n,f,r),l=e.memoizedState),(a=Lo||xI(e,n,a,r,y,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pi(e.type,a),o.props=u,p=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mi(l):(l=Nr(n)?gl:lr.current,l=sc(e,l));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&RI(e,o,r,l),Lo=!1,y=e.memoizedState,o.state=y,Dm(e,r,o,i);var E=e.memoizedState;a!==p||y!==E||Or.current||Lo?(typeof _=="function"&&(bE(e,n,_,r),E=e.memoizedState),(u=Lo||xI(e,n,u,r,y,E,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return RE(t,e,n,r,s,i)}function RE(t,e,n,r,i,s){g4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yI(e,n,!1),so(t,e,s);r=e.stateNode,u7.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ac(e,t.child,null,s),e.child=ac(e,null,a,s)):pr(t,e,a,s),e.memoizedState=r.state,i&&yI(e,n,!0),e.child}function y4(t){var e=t.stateNode;e.pendingContext?gI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gI(t,e.context,!1),bT(t,e.containerInfo)}function NI(t,e,n,r,i){return oc(),gT(i),e.flags|=256,pr(t,e,n,r),e.child}var IE={dehydrated:null,treeContext:null,retryLane:0};function CE(t){return{baseLanes:t,cachePool:null,transitions:null}}function v4(t,e,n){var r=e.pendingProps,i=Jt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mt(Jt,i&1),t===null)return wE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kg(o,r,0,null),t=cl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=CE(n),e.memoizedState=IE,t):PT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c7(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=na(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=na(a,s):(s=cl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?CE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=IE,r}return s=t.child,t=s.sibling,r=na(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function PT(t,e){return e=Kg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bp(t,e,n,r){return r!==null&&gT(r),ac(e,t.child,null,n),t=PT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gv(Error(ve(422))),bp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kg({mode:"visible",children:r.children},i,0,null),s=cl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ac(e,t.child,null,o),e.child.memoizedState=CE(o),e.memoizedState=IE,s);if(!(e.mode&1))return bp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ve(419)),r=Gv(s,r,void 0),bp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pr||a){if(r=jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,io(t,i),Bi(r,t,i,-1))}return MT(),r=Gv(Error(ve(421))),bp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hr=Jo(i.nextSibling),Gr=e,Kt=!0,Ni=null,t!==null&&(ai[li++]=zs,ai[li++]=Hs,ai[li++]=yl,zs=t.id,Hs=t.overflow,yl=e),e=PT(e,r.children),e.flags|=4096,e)}function DI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),EE(t.return,e,n)}function Qv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=Jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DI(t,n,e);else if(t.tag===19)DI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mt(Jt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qv(e,!0,n,null,s);break;case"together":Qv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_l|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f7(t,e,n){switch(e.tag){case 3:y4(e),oc();break;case 5:qD(e);break;case 1:Nr(e.type)&&Am(e);break;case 4:bT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mt(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Mt(Jt,Jt.current&1),e.flags|=128,null):n&e.child.childLanes?v4(t,e,n):(Mt(Jt,Jt.current&1),t=so(t,e,n),t!==null?t.sibling:null);Mt(Jt,Jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(Jt,Jt.current),r)break;return null;case 22:case 23:return e.lanes=0,m4(t,e,n)}return so(t,e,n)}var w4,AE,E4,b4;w4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AE=function(){};E4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tl(vs.current);var s=null;switch(n){case"input":i=X1(t,i),r=X1(t,r),s=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":i=eE(t,i),r=eE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Im)}nE(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&jt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};b4=function(t,e,n,r){n!==r&&(e.flags|=4)};function hf(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d7(t,e,n){var r=e.pendingProps;switch(mT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Nr(e.type)&&Cm(),Zn(e),null;case 3:return r=e.stateNode,lc(),zt(Or),zt(lr),ST(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ni!==null&&(FE(Ni),Ni=null))),AE(t,e),Zn(e),null;case 5:TT(e);var i=tl(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)E4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Zn(e),null}if(t=tl(vs.current),wp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ds]=e,r[Ed]=s,t=(e.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(i=0;i<Pf.length;i++)jt(Pf[i],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":zR(r,s),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jt("invalid",r);break;case"textarea":qR(r,s),jt("invalid",r)}nE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_p(r.textContent,a,t),i=["children",""+a]):fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",r)}switch(n){case"input":fp(r),HR(r,s,!0);break;case"textarea":fp(r),WR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Im)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ds]=e,t[Ed]=r,w4(t,e,!1,!1),e.stateNode=t;e:{switch(o=rE(n,r),n){case"dialog":jt("cancel",t),jt("close",t),i=r;break;case"iframe":case"object":case"embed":jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pf.length;i++)jt(Pf[i],t);i=r;break;case"source":jt("error",t),i=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),i=r;break;case"details":jt("toggle",t),i=r;break;case"input":zR(t,r),i=X1(t,r),jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),jt("invalid",t);break;case"textarea":qR(t,r),i=eE(t,r),jt("invalid",t);break;default:i=r}nE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZN(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XN(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dd(t,l):typeof l=="number"&&dd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jt("scroll",t):l!=null&&eT(t,s,l,o))}switch(n){case"input":fp(t),HR(t,r,!1);break;case"textarea":fp(t),WR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ua(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qu(t,!!r.multiple,s,!1):r.defaultValue!=null&&qu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)b4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=tl(Td.current),tl(vs.current),wp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ds]=e,(s=r.nodeValue!==n)&&(t=Gr,t!==null))switch(t.tag){case 3:_p(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_p(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ds]=e,e.stateNode=r}return Zn(e),null;case 13:if(zt(Jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&Hr!==null&&e.mode&1&&!(e.flags&128))UD(),oc(),e.flags|=98560,s=!1;else if(s=wp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[ds]=e}else oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),s=!1}else Ni!==null&&(FE(Ni),Ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?Rn===0&&(Rn=3):MT())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return lc(),AE(t,e),t===null&&_d(e.stateNode.containerInfo),Zn(e),null;case 10:return _T(e.type._context),Zn(e),null;case 17:return Nr(e.type)&&Cm(),Zn(e),null;case 19:if(zt(Jt),s=e.memoizedState,s===null)return Zn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hf(s,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lm(t),o!==null){for(e.flags|=128,hf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mt(Jt,Jt.current&1|2),e.child}t=t.sibling}s.tail!==null&&cn()>cc&&(e.flags|=128,r=!0,hf(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Kt)return Zn(e),null}else 2*cn()-s.renderingStartTime>cc&&n!==1073741824&&(e.flags|=128,r=!0,hf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=cn(),e.sibling=null,n=Jt.current,Mt(Jt,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return LT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function h7(t,e){switch(mT(e),e.tag){case 1:return Nr(e.type)&&Cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lc(),zt(Or),zt(lr),ST(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return TT(e),null;case 13:if(zt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(Jt),null;case 4:return lc(),null;case 10:return _T(e.type._context),null;case 22:case 23:return LT(),null;case 24:return null;default:return null}}var Tp=!1,nr=!1,p7=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Vu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(t,e,r)}else n.current=null}function PE(t,e,n){try{n()}catch(r){on(t,e,r)}}var LI=!1;function m7(t,e){if(hE=Sm,t=ID(),hT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,p=t,y=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)y=p,p=_;for(;;){if(p===t)break t;if(y===n&&++u===i&&(a=o),y===s&&++f===r&&(l=o),(_=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pE={focusedElem:t,selectionRange:n},Sm=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:Pi(e.type,S),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(I){on(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return E=LI,LI=!1,E}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PE(e,n,s)}i=i.next}while(i!==r)}}function qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T4(t){var e=t.alternate;e!==null&&(t.alternate=null,T4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ds],delete e[Ed],delete e[yE],delete e[X9],delete e[J9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S4(t){return t.tag===5||t.tag===3||t.tag===4}function MI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Im));else if(r!==4&&(t=t.child,t!==null))for(OE(t,e,n),t=t.sibling;t!==null;)OE(t,e,n),t=t.sibling}function NE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(NE(t,e,n),t=t.sibling;t!==null;)NE(t,e,n),t=t.sibling}var Un=null,ki=!1;function Po(t,e,n){for(n=n.child;n!==null;)x4(t,e,n),n=n.sibling}function x4(t,e,n){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Fg,n)}catch{}switch(n.tag){case 5:nr||Vu(n,e);case 6:var r=Un,i=ki;Un=null,Po(t,e,n),Un=r,ki=i,Un!==null&&(ki?(t=Un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(ki?(t=Un,n=n.stateNode,t.nodeType===8?$v(t.parentNode,n):t.nodeType===1&&$v(t,n),gd(t)):$v(Un,n.stateNode));break;case 4:r=Un,i=ki,Un=n.stateNode.containerInfo,ki=!0,Po(t,e,n),Un=r,ki=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&PE(n,e,o),i=i.next}while(i!==r)}Po(t,e,n);break;case 1:if(!nr&&(Vu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){on(n,e,a)}Po(t,e,n);break;case 21:Po(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,Po(t,e,n),nr=r):Po(t,e,n);break;default:Po(t,e,n)}}function FI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p7),e.forEach(function(r){var i=S7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ci(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,ki=!1;break e;case 3:Un=a.stateNode.containerInfo,ki=!0;break e;case 4:Un=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(Un===null)throw Error(ve(160));x4(s,o,i),Un=null,ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){on(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R4(e,t),e=e.sibling}function R4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ci(e,t),ls(t),r&4){try{Kf(3,t,t.return),qg(3,t)}catch(S){on(t,t.return,S)}try{Kf(5,t,t.return)}catch(S){on(t,t.return,S)}}break;case 1:Ci(e,t),ls(t),r&512&&n!==null&&Vu(n,n.return);break;case 5:if(Ci(e,t),ls(t),r&512&&n!==null&&Vu(n,n.return),t.flags&32){var i=t.stateNode;try{dd(i,"")}catch(S){on(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GN(i,s),rE(a,o);var u=rE(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?ZN(i,p):f==="dangerouslySetInnerHTML"?XN(i,p):f==="children"?dd(i,p):eT(i,f,p,u)}switch(a){case"input":J1(i,s);break;case"textarea":QN(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?qu(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?qu(i,!!s.multiple,s.defaultValue,!0):qu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ed]=s}catch(S){on(t,t.return,S)}}break;case 6:if(Ci(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){on(t,t.return,S)}}break;case 3:if(Ci(e,t),ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gd(e.containerInfo)}catch(S){on(t,t.return,S)}break;case 4:Ci(e,t),ls(t);break;case 13:Ci(e,t),ls(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(NT=cn())),r&4&&FI(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(u=nr)||f,Ci(e,t),nr=u):Ci(e,t),ls(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Ne=t,f=t.child;f!==null;){for(p=Ne=f;Ne!==null;){switch(y=Ne,_=y.child,y.tag){case 0:case 11:case 14:case 15:Kf(4,y,y.return);break;case 1:Vu(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){on(r,n,S)}}break;case 5:Vu(y,y.return);break;case 22:if(y.memoizedState!==null){VI(p);continue}}_!==null?(_.return=y,Ne=_):VI(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JN("display",o))}catch(S){on(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){on(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ci(e,t),ls(t),r&4&&FI(t);break;case 21:break;default:Ci(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S4(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dd(i,""),r.flags&=-33);var s=MI(t);NE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=MI(t);OE(t,a,o);break;default:throw Error(ve(161))}}catch(l){on(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g7(t,e,n){Ne=t,I4(t)}function I4(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var i=Ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Tp;var u=nr;if(Tp=o,(nr=l)&&!u)for(Ne=i;Ne!==null;)o=Ne,l=o.child,o.tag===22&&o.memoizedState!==null?UI(i):l!==null?(l.return=o,Ne=l):UI(i);for(;s!==null;)Ne=s,I4(s),s=s.sibling;Ne=i,Tp=a,nr=u}jI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ne=s):jI(t)}}function jI(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&gd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}nr||e.flags&512&&kE(e)}catch(y){on(e,e.return,y)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function VI(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function UI(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qg(4,e)}catch(l){on(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){on(e,i,l)}}var s=e.return;try{kE(e)}catch(l){on(e,s,l)}break;case 5:var o=e.return;try{kE(e)}catch(l){on(e,o,l)}}}catch(l){on(e,e.return,l)}if(e===t){Ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ne=a;break}Ne=e.return}}var y7=Math.ceil,jm=mo.ReactCurrentDispatcher,kT=mo.ReactCurrentOwner,hi=mo.ReactCurrentBatchConfig,wt=0,jn=null,gn=null,zn=0,Br=0,Uu=wa(0),Rn=0,Id=null,_l=0,Wg=0,OT=0,Gf=null,Cr=null,NT=0,cc=1/0,Us=null,Vm=!1,DE=null,ea=null,Sp=!1,Ho=null,Um=0,Qf=0,LE=null,Xp=-1,Jp=0;function wr(){return wt&6?cn():Xp!==-1?Xp:Xp=cn()}function ta(t){return t.mode&1?wt&2&&zn!==0?zn&-zn:e7.transition!==null?(Jp===0&&(Jp=fD()),Jp):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:vD(t.type)),t):1}function Bi(t,e,n,r){if(50<Qf)throw Qf=0,LE=null,Error(ve(185));Qd(t,n,r),(!(wt&2)||t!==jn)&&(t===jn&&(!(wt&2)&&(Wg|=n),Rn===4&&Fo(t,zn)),Dr(t,r),n===1&&wt===0&&!(e.mode&1)&&(cc=cn()+500,$g&&Ea()))}function Dr(t,e){var n=t.callbackNode;e9(t,e);var r=Tm(t,t===jn?zn:0);if(r===0)n!==null&&QR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QR(n),e===1)t.tag===0?Z9(BI.bind(null,t)):FD(BI.bind(null,t)),Q9(function(){!(wt&6)&&Ea()}),n=null;else{switch(dD(r)){case 1:n=sT;break;case 4:n=uD;break;case 16:n=bm;break;case 536870912:n=cD;break;default:n=bm}n=L4(n,C4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C4(t,e){if(Xp=-1,Jp=0,wt&6)throw Error(ve(327));var n=t.callbackNode;if(Yu()&&t.callbackNode!==n)return null;var r=Tm(t,t===jn?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bm(t,r);else{e=r;var i=wt;wt|=2;var s=P4();(jn!==t||zn!==e)&&(Us=null,cc=cn()+500,ul(t,e));do try{w7();break}catch(a){A4(t,a)}while(!0);vT(),jm.current=s,wt=i,gn!==null?e=0:(jn=null,zn=0,e=Rn)}if(e!==0){if(e===2&&(i=lE(t),i!==0&&(r=i,e=ME(t,i))),e===1)throw n=Id,ul(t,0),Fo(t,r),Dr(t,cn()),n;if(e===6)Fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!v7(i)&&(e=Bm(t,r),e===2&&(s=lE(t),s!==0&&(r=s,e=ME(t,s))),e===1))throw n=Id,ul(t,0),Fo(t,r),Dr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Qa(t,Cr,Us);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=NT+500-cn(),10<e)){if(Tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gE(Qa.bind(null,t,Cr,Us),e);break}Qa(t,Cr,Us);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ui(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y7(r/1960))-r,10<r){t.timeoutHandle=gE(Qa.bind(null,t,Cr,Us),r);break}Qa(t,Cr,Us);break;case 5:Qa(t,Cr,Us);break;default:throw Error(ve(329))}}}return Dr(t,cn()),t.callbackNode===n?C4.bind(null,t):null}function ME(t,e){var n=Gf;return t.current.memoizedState.isDehydrated&&(ul(t,e).flags|=256),t=Bm(t,e),t!==2&&(e=Cr,Cr=n,e!==null&&FE(e)),t}function FE(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function v7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~OT,e&=~Wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ui(e),r=1<<n;t[n]=-1,e&=~r}}function BI(t){if(wt&6)throw Error(ve(327));Yu();var e=Tm(t,0);if(!(e&1))return Dr(t,cn()),null;var n=Bm(t,e);if(t.tag!==0&&n===2){var r=lE(t);r!==0&&(e=r,n=ME(t,r))}if(n===1)throw n=Id,ul(t,0),Fo(t,e),Dr(t,cn()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qa(t,Cr,Us),Dr(t,cn()),null}function DT(t,e){var n=wt;wt|=1;try{return t(e)}finally{wt=n,wt===0&&(cc=cn()+500,$g&&Ea())}}function wl(t){Ho!==null&&Ho.tag===0&&!(wt&6)&&Yu();var e=wt;wt|=1;var n=hi.transition,r=Ct;try{if(hi.transition=null,Ct=1,t)return t()}finally{Ct=r,hi.transition=n,wt=e,!(wt&6)&&Ea()}}function LT(){Br=Uu.current,zt(Uu)}function ul(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G9(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(mT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:lc(),zt(Or),zt(lr),ST();break;case 5:TT(r);break;case 4:lc();break;case 13:zt(Jt);break;case 19:zt(Jt);break;case 10:_T(r.type._context);break;case 22:case 23:LT()}n=n.return}if(jn=t,gn=t=na(t.current,null),zn=Br=e,Rn=0,Id=null,OT=Wg=_l=0,Cr=Gf=null,el!==null){for(e=0;e<el.length;e++)if(n=el[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}el=null}return t}function A4(t,e){do{var n=gn;try{if(vT(),Gp.current=Fm,Mm){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mm=!1}if(vl=0,Dn=xn=Zt=null,Wf=!1,Sd=0,kT.current=null,n===null||n.return===null){Rn=1,Id=e,gn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=CI(o);if(_!==null){_.flags&=-257,AI(_,o,a,s,e),_.mode&1&&II(s,u,e),e=_,l=u;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){II(s,u,e),MT();break e}l=Error(ve(426))}}else if(Kt&&a.mode&1){var C=CI(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),AI(C,o,a,s,e),gT(uc(l,a));break e}}s=l=uc(l,a),Rn!==4&&(Rn=2),Gf===null?Gf=[s]:Gf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=d4(s,l,e);EI(s,x);break e;case 1:a=l;var w=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ea===null||!ea.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=h4(s,a,e);EI(s,I);break e}}s=s.return}while(s!==null)}O4(n)}catch(k){e=k,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function P4(){var t=jm.current;return jm.current=Fm,t===null?Fm:t}function MT(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),jn===null||!(_l&268435455)&&!(Wg&268435455)||Fo(jn,zn)}function Bm(t,e){var n=wt;wt|=2;var r=P4();(jn!==t||zn!==e)&&(Us=null,ul(t,e));do try{_7();break}catch(i){A4(t,i)}while(!0);if(vT(),wt=n,jm.current=r,gn!==null)throw Error(ve(261));return jn=null,zn=0,Rn}function _7(){for(;gn!==null;)k4(gn)}function w7(){for(;gn!==null&&!qU();)k4(gn)}function k4(t){var e=D4(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?O4(t):gn=e,kT.current=null}function O4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h7(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,gn=null;return}}else if(n=d7(n,e,Br),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);Rn===0&&(Rn=5)}function Qa(t,e,n){var r=Ct,i=hi.transition;try{hi.transition=null,Ct=1,E7(t,e,n,r)}finally{hi.transition=i,Ct=r}return null}function E7(t,e,n,r){do Yu();while(Ho!==null);if(wt&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(t9(t,s),t===jn&&(gn=jn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sp||(Sp=!0,L4(bm,function(){return Yu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var o=Ct;Ct=1;var a=wt;wt|=4,kT.current=null,m7(t,n),R4(n,t),B9(pE),Sm=!!hE,pE=hE=null,t.current=n,g7(n),WU(),wt=a,Ct=o,hi.transition=s}else t.current=n;if(Sp&&(Sp=!1,Ho=t,Um=i),s=t.pendingLanes,s===0&&(ea=null),QU(n.stateNode),Dr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vm)throw Vm=!1,t=DE,DE=null,t;return Um&1&&t.tag!==0&&Yu(),s=t.pendingLanes,s&1?t===LE?Qf++:(Qf=0,LE=t):Qf=0,Ea(),null}function Yu(){if(Ho!==null){var t=dD(Um),e=hi.transition,n=Ct;try{if(hi.transition=null,Ct=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,Um=0,wt&6)throw Error(ve(331));var i=wt;for(wt|=4,Ne=t.current;Ne!==null;){var s=Ne,o=s.child;if(Ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ne=u;Ne!==null;){var f=Ne;switch(f.tag){case 0:case 11:case 15:Kf(8,f,s)}var p=f.child;if(p!==null)p.return=f,Ne=p;else for(;Ne!==null;){f=Ne;var y=f.sibling,_=f.return;if(T4(f),f===u){Ne=null;break}if(y!==null){y.return=_,Ne=y;break}Ne=_}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ne=o;else e:for(;Ne!==null;){if(s=Ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ne=x;break e}Ne=s.return}}var w=t.current;for(Ne=w;Ne!==null;){o=Ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ne=v;else e:for(o=w;Ne!==null;){if(a=Ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qg(9,a)}}catch(k){on(a,a.return,k)}if(a===o){Ne=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Ne=I;break e}Ne=a.return}}if(wt=i,Ea(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Fg,t)}catch{}r=!0}return r}finally{Ct=n,hi.transition=e}}return!1}function $I(t,e,n){e=uc(n,e),e=d4(t,e,1),t=Zo(t,e,1),e=wr(),t!==null&&(Qd(t,1,e),Dr(t,e))}function on(t,e,n){if(t.tag===3)$I(t,t,n);else for(;e!==null;){if(e.tag===3){$I(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){t=uc(n,t),t=h4(e,t,1),e=Zo(e,t,1),t=wr(),e!==null&&(Qd(e,1,t),Dr(e,t));break}}e=e.return}}function b7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(zn&n)===n&&(Rn===4||Rn===3&&(zn&130023424)===zn&&500>cn()-NT?ul(t,0):OT|=n),Dr(t,e)}function N4(t,e){e===0&&(t.mode&1?(e=pp,pp<<=1,!(pp&130023424)&&(pp=4194304)):e=1);var n=wr();t=io(t,e),t!==null&&(Qd(t,e,n),Dr(t,n))}function T7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N4(t,n)}function S7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),N4(t,n)}var D4;D4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Pr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pr=!1,f7(t,e,n);Pr=!!(t.flags&131072)}else Pr=!1,Kt&&e.flags&1048576&&jD(e,km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yp(t,e),t=e.pendingProps;var i=sc(e,lr.current);Qu(e,n),i=RT(null,e,r,t,i,n);var s=IT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(s=!0,Am(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ET(e),i.updater=Hg,e.stateNode=i,i._reactInternals=e,TE(e,r,t,n),e=RE(null,e,r,!0,s,n)):(e.tag=0,Kt&&s&&pT(e),pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R7(r),t=Pi(r,t),i){case 0:e=xE(null,e,r,t,n);break e;case 1:e=OI(null,e,r,t,n);break e;case 11:e=PI(null,e,r,t,n);break e;case 14:e=kI(null,e,r,Pi(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),xE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),OI(t,e,r,i,n);case 3:e:{if(y4(e),t===null)throw Error(ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,HD(t,e),Dm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uc(Error(ve(423)),e),e=NI(t,e,r,n,i);break e}else if(r!==i){i=uc(Error(ve(424)),e),e=NI(t,e,r,n,i);break e}else for(Hr=Jo(e.stateNode.containerInfo.firstChild),Gr=e,Kt=!0,Ni=null,n=$D(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oc(),r===i){e=so(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return qD(e),t===null&&wE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mE(r,i)?o=null:s!==null&&mE(r,s)&&(e.flags|=32),g4(t,e),pr(t,e,o,n),e.child;case 6:return t===null&&wE(e),null;case 13:return v4(t,e,n);case 4:return bT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ac(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),PI(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Mt(Om,r._currentValue),r._currentValue=o,s!==null)if(Hi(s.value,o)){if(s.children===i.children&&!Or.current){e=so(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ys(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),EE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ve(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),EE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qu(e,n),i=mi(i),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,i=Pi(r,e.pendingProps),i=Pi(r.type,i),kI(t,e,r,i,n);case 15:return p4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pi(r,i),Yp(t,e),e.tag=1,Nr(r)?(t=!0,Am(e)):t=!1,Qu(e,n),f4(e,r,i),TE(e,r,i,n),RE(null,e,r,!0,t,n);case 19:return _4(t,e,n);case 22:return m4(t,e,n)}throw Error(ve(156,e.tag))};function L4(t,e){return lD(t,e)}function x7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,n,r){return new x7(t,e,n,r)}function FT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R7(t){if(typeof t=="function")return FT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nT)return 11;if(t===rT)return 14}return 2}function na(t,e){var n=t.alternate;return n===null?(n=fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")FT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pu:return cl(n.children,i,s,e);case tT:o=8,i|=8;break;case K1:return t=fi(12,n,e,i|2),t.elementType=K1,t.lanes=s,t;case G1:return t=fi(13,n,e,i),t.elementType=G1,t.lanes=s,t;case Q1:return t=fi(19,n,e,i),t.elementType=Q1,t.lanes=s,t;case qN:return Kg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zN:o=10;break e;case HN:o=9;break e;case nT:o=11;break e;case rT:o=14;break e;case Do:o=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=fi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cl(t,e,n,r){return t=fi(7,t,r,e),t.lanes=n,t}function Kg(t,e,n,r){return t=fi(22,t,r,e),t.elementType=qN,t.lanes=n,t.stateNode={isHidden:!1},t}function Yv(t,e,n){return t=fi(6,t,null,e),t.lanes=n,t}function Xv(t,e,n){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kv(0),this.expirationTimes=kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jT(t,e,n,r,i,s,o,a,l){return t=new I7(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ET(s),t}function C7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M4(t){if(!t)return ca;t=t._reactInternals;e:{if(Ml(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(Nr(n))return MD(t,n,e)}return e}function F4(t,e,n,r,i,s,o,a,l){return t=jT(n,r,!0,t,i,s,o,a,l),t.context=M4(null),n=t.current,r=wr(),i=ta(n),s=Ys(r,i),s.callback=e??null,Zo(n,s,i),t.current.lanes=i,Qd(t,i,r),Dr(t,r),t}function Gg(t,e,n,r){var i=e.current,s=wr(),o=ta(i);return n=M4(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(i,e,o),t!==null&&(Bi(t,i,o,s),Kp(t,i,o)),o}function $m(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VT(t,e){zI(t,e),(t=t.alternate)&&zI(t,e)}function A7(){return null}var j4=typeof reportError=="function"?reportError:function(t){console.error(t)};function UT(t){this._internalRoot=t}Qg.prototype.render=UT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Gg(t,e,null,null)};Qg.prototype.unmount=UT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wl(function(){Gg(null,t,null,null)}),e[ro]=null}};function Qg(t){this._internalRoot=t}Qg.prototype.unstable_scheduleHydration=function(t){if(t){var e=mD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&yD(t)}};function BT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HI(){}function P7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$m(o);s.call(u)}}var o=F4(e,r,t,0,null,!1,!1,"",HI);return t._reactRootContainer=o,t[ro]=o.current,_d(t.nodeType===8?t.parentNode:t),wl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$m(l);a.call(u)}}var l=jT(t,0,!1,null,null,!1,!1,"",HI);return t._reactRootContainer=l,t[ro]=l.current,_d(t.nodeType===8?t.parentNode:t),wl(function(){Gg(e,l,n,r)}),l}function Xg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$m(o);a.call(l)}}Gg(e,o,t,i)}else o=P7(n,e,t,i,r);return $m(o)}hD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Af(e.pendingLanes);n!==0&&(oT(e,n|1),Dr(e,cn()),!(wt&6)&&(cc=cn()+500,Ea()))}break;case 13:wl(function(){var r=io(t,1);if(r!==null){var i=wr();Bi(r,t,1,i)}}),VT(t,1)}};aT=function(t){if(t.tag===13){var e=io(t,134217728);if(e!==null){var n=wr();Bi(e,t,134217728,n)}VT(t,134217728)}};pD=function(t){if(t.tag===13){var e=ta(t),n=io(t,e);if(n!==null){var r=wr();Bi(n,t,e,r)}VT(t,e)}};mD=function(){return Ct};gD=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};sE=function(t,e,n){switch(e){case"input":if(J1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bg(r);if(!i)throw Error(ve(90));KN(r),J1(r,i)}}}break;case"textarea":QN(t,n);break;case"select":e=n.value,e!=null&&qu(t,!!n.multiple,e,!1)}};nD=DT;rD=wl;var k7={usingClientEntryPoint:!1,Events:[Xd,Du,Bg,eD,tD,DT]},pf={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O7={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oD(t),t===null?null:t.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||A7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{Fg=xp.inject(O7),ys=xp}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k7;Zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BT(e))throw Error(ve(200));return C7(t,e,null,n)};Zr.createRoot=function(t,e){if(!BT(t))throw Error(ve(299));var n=!1,r="",i=j4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jT(t,1,!1,null,null,n,!1,r,i),t[ro]=e.current,_d(t.nodeType===8?t.parentNode:t),new UT(e)};Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=oD(e),t=t===null?null:t.stateNode,t};Zr.flushSync=function(t){return wl(t)};Zr.hydrate=function(t,e,n){if(!Yg(e))throw Error(ve(200));return Xg(null,t,e,!0,n)};Zr.hydrateRoot=function(t,e,n){if(!BT(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=j4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=F4(e,null,t,1,n??null,i,!1,s,o),t[ro]=e.current,_d(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qg(e)};Zr.render=function(t,e,n){if(!Yg(e))throw Error(ve(200));return Xg(null,t,e,!1,n)};Zr.unmountComponentAtNode=function(t){if(!Yg(t))throw Error(ve(40));return t._reactRootContainer?(wl(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[ro]=null})}),!0):!1};Zr.unstable_batchedUpdates=DT;Zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yg(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Xg(t,e,n,!1,r)};Zr.version="18.3.1-next-f1338f8080-20240426";function V4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V4)}catch(t){console.error(t)}}V4(),VN.exports=Zr;var Lr=VN.exports;const N7=Kb(Lr),D7=IN({__proto__:null,default:N7},[Lr]);var U4,qI=Lr;U4=qI.createRoot,qI.hydrateRoot;const L7="modulepreload",M7=function(t){return"/r-social/"+t},WI={},F7=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=M7(a),a in WI)return;WI[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":L7,l||(f.as="script"),f.crossOrigin="",f.href=a,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Zd=t=>t.type==="checkbox",Bu=t=>t instanceof Date,mr=t=>t==null;const B4=t=>typeof t=="object";var _n=t=>!mr(t)&&!Array.isArray(t)&&B4(t)&&!Bu(t),j7=t=>_n(t)&&t.target?Zd(t.target)?t.target.checked:t.target.value:t,V7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,U7=(t,e)=>t.has(V7(e)),B7=t=>{const e=t.constructor&&t.constructor.prototype;return _n(e)&&e.hasOwnProperty("isPrototypeOf")},$T=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oi(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($T&&(t instanceof Blob||t instanceof FileList))&&(n||_n(t)))if(e=n?[]:{},!n&&!B7(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=oi(t[r]));else return t;return e}var Jg=t=>Array.isArray(t)?t.filter(Boolean):[],ln=t=>t===void 0,Fe=(t,e,n)=>{if(!e||!_n(t))return n;const r=Jg(e.split(/[,[\].]+?/)).reduce((i,s)=>mr(i)?i:i[s],t);return ln(r)||r===t?ln(t[e])?n:t[e]:r},cs=t=>typeof t=="boolean",zT=t=>/^\w*$/.test(t),$4=t=>Jg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(t,e,n)=>{let r=-1;const i=zT(e)?[e]:$4(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=_n(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const KI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Di={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Pe.createContext(null);var $7=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Di.all&&(e._proxyFormState[o]=!r||Di.all),t[o]}});return i},xr=t=>_n(t)&&!Object.keys(t).length,z7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return xr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Di.all)},em=t=>Array.isArray(t)?t:[t];function H7(t){const e=Pe.useRef(t);e.current=t,Pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ps=t=>typeof t=="string",q7=(t,e,n,r,i)=>ps(t)?(r&&e.watch.add(t),Fe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Fe(n,s))):(r&&(e.watchAll=!0),n),W7=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},GI=t=>({isOnSubmit:!t||t===Di.onSubmit,isOnBlur:t===Di.onBlur,isOnChange:t===Di.onChange,isOnAll:t===Di.all,isOnTouch:t===Di.onTouched}),QI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Fe(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Yf(a,e))break}else if(_n(a)&&Yf(a,e))break}}};var K7=(t,e,n)=>{const r=em(Fe(t,n));return Vt(r,"root",e[n]),Vt(t,n,r),t},HT=t=>t.type==="file",qs=t=>typeof t=="function",zm=t=>{if(!$T)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tm=t=>ps(t),qT=t=>t.type==="radio",Hm=t=>t instanceof RegExp;const YI={value:!1,isValid:!1},XI={value:!0,isValid:!0};var z4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?XI:{value:t[0].value,isValid:!0}:XI:YI}return YI};const JI={isValid:!1,value:null};var H4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,JI):JI;function ZI(t,e,n="validate"){if(tm(t)||Array.isArray(t)&&t.every(tm)||cs(t)&&!t)return{type:n,message:tm(t)?t:"",ref:e}}var _u=t=>_n(t)&&!Hm(t)?t:{value:t,message:""},eC=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:f,max:p,pattern:y,validate:_,name:E,valueAsNumber:S,mount:C,disabled:x}=t._f,w=Fe(e,E);if(!C||x)return{};const v=o?o[0]:s,I=U=>{r&&v.reportValidity&&(v.setCustomValidity(cs(U)?"":U||""),v.reportValidity())},k={},B=qT(s),D=Zd(s),T=B||D,N=(S||HT(s))&&ln(s.value)&&ln(w)||zm(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,L=W7.bind(null,E,n,k),M=(U,F,ie,de=js.maxLength,ue=js.minLength)=>{const Y=U?F:ie;k[E]={type:U?de:ue,message:Y,ref:s,...L(U?de:ue,Y)}};if(i?!Array.isArray(w)||!w.length:a&&(!T&&(N||mr(w))||cs(w)&&!w||D&&!z4(o).isValid||B&&!H4(o).isValid)){const{value:U,message:F}=tm(a)?{value:!!a,message:a}:_u(a);if(U&&(k[E]={type:js.required,message:F,ref:v,...L(js.required,F)},!n))return I(F),k}if(!N&&(!mr(f)||!mr(p))){let U,F;const ie=_u(p),de=_u(f);if(!mr(w)&&!isNaN(w)){const ue=s.valueAsNumber||w&&+w;mr(ie.value)||(U=ue>ie.value),mr(de.value)||(F=ue<de.value)}else{const ue=s.valueAsDate||new Date(w),Y=me=>new Date(new Date().toDateString()+" "+me),Q=s.type=="time",ee=s.type=="week";ps(ie.value)&&w&&(U=Q?Y(w)>Y(ie.value):ee?w>ie.value:ue>new Date(ie.value)),ps(de.value)&&w&&(F=Q?Y(w)<Y(de.value):ee?w<de.value:ue<new Date(de.value))}if((U||F)&&(M(!!U,ie.message,de.message,js.max,js.min),!n))return I(k[E].message),k}if((l||u)&&!N&&(ps(w)||i&&Array.isArray(w))){const U=_u(l),F=_u(u),ie=!mr(U.value)&&w.length>+U.value,de=!mr(F.value)&&w.length<+F.value;if((ie||de)&&(M(ie,U.message,F.message),!n))return I(k[E].message),k}if(y&&!N&&ps(w)){const{value:U,message:F}=_u(y);if(Hm(U)&&!w.match(U)&&(k[E]={type:js.pattern,message:F,ref:s,...L(js.pattern,F)},!n))return I(F),k}if(_){if(qs(_)){const U=await _(w,e),F=ZI(U,v);if(F&&(k[E]={...F,...L(js.validate,F.message)},!n))return I(F.message),k}else if(_n(_)){let U={};for(const F in _){if(!xr(U)&&!n)break;const ie=ZI(await _[F](w,e),v,F);ie&&(U={...ie,...L(F,ie.message)},I(ie.message),n&&(k[E]=U))}if(!xr(U)&&(k[E]={ref:v,...U},!n))return k}}return I(!0),k};function G7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ln(t)?r++:t[e[r++]];return t}function Q7(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function Sn(t,e){const n=Array.isArray(e)?e:zT(e)?[e]:$4(e),r=n.length===1?t:G7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(_n(r)&&xr(r)||Array.isArray(r)&&Q7(r))&&Sn(t,n.slice(0,-1)),t}var Jv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},qm=t=>mr(t)||!B4(t);function jo(t,e){if(qm(t)||qm(e))return t===e;if(Bu(t)&&Bu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Bu(s)&&Bu(o)||_n(s)&&_n(o)||Array.isArray(s)&&Array.isArray(o)?!jo(s,o):s!==o)return!1}}return!0}var q4=t=>t.type==="select-multiple",Y7=t=>qT(t)||Zd(t),Zv=t=>zm(t)&&t.isConnected,W4=t=>{for(const e in t)if(qs(t[e]))return!0;return!1};function Wm(t,e={}){const n=Array.isArray(t);if(_n(t)||n)for(const r in t)Array.isArray(t[r])||_n(t[r])&&!W4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wm(t[r],e[r])):mr(t[r])||(e[r]=!0);return e}function K4(t,e,n){const r=Array.isArray(t);if(_n(t)||r)for(const i in t)Array.isArray(t[i])||_n(t[i])&&!W4(t[i])?ln(e)||qm(n[i])?n[i]=Array.isArray(t[i])?Wm(t[i],[]):{...Wm(t[i])}:K4(t[i],mr(e)?{}:e[i],n[i]):n[i]=!jo(t[i],e[i]);return n}var Rp=(t,e)=>K4(t,e,Wm(e)),G4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&ps(t)?new Date(t):r?r(t):t;function e_(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return HT(e)?e.files:qT(e)?H4(t.refs).value:q4(e)?[...e.selectedOptions].map(({value:n})=>n):Zd(e)?z4(t.refs).value:G4(ln(e.value)?t.ref.value:e.value,t)}var X7=(t,e,n,r)=>{const i={};for(const s of t){const o=Fe(e,s);o&&Vt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},mf=t=>ln(t)?t:Hm(t)?t.source:_n(t)?Hm(t.value)?t.value.source:t.value:t;const tC="AsyncFunction";var J7=t=>(!t||!t.validate)&&!!(qs(t.validate)&&t.validate.constructor.name===tC||_n(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===tC)),Z7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function nC(t,e,n){const r=Fe(t,n);if(r||zT(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Fe(e,s),a=Fe(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var eB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tB=(t,e)=>!Jg(Fe(t,e)).length&&Sn(t,e);const nB={mode:Di.onSubmit,reValidateMode:Di.onChange,shouldFocusError:!0};function rB(t={}){let e={...nB,...t},n={submitCount:0,isDirty:!1,isLoading:qs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=_n(e.defaultValues)||_n(e.values)?oi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:oi(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Jv(),array:Jv(),state:Jv()},y=GI(e.mode),_=GI(e.reValidateMode),E=e.criteriaMode===Di.all,S=z=>J=>{clearTimeout(u),u=setTimeout(z,J)},C=async z=>{if(f.isValid||z){const J=e.resolver?xr((await T()).errors):await L(r,!0);J!==n.isValid&&p.state.next({isValid:J})}},x=(z,J)=>{(f.isValidating||f.validatingFields)&&((z||Array.from(a.mount)).forEach(le=>{le&&(J?Vt(n.validatingFields,le,J):Sn(n.validatingFields,le))}),p.state.next({validatingFields:n.validatingFields,isValidating:!xr(n.validatingFields)}))},w=(z,J=[],le,ge,_e=!0,fe=!0)=>{if(ge&&le){if(o.action=!0,fe&&Array.isArray(Fe(r,z))){const ke=le(Fe(r,z),ge.argA,ge.argB);_e&&Vt(r,z,ke)}if(fe&&Array.isArray(Fe(n.errors,z))){const ke=le(Fe(n.errors,z),ge.argA,ge.argB);_e&&Vt(n.errors,z,ke),tB(n.errors,z)}if(f.touchedFields&&fe&&Array.isArray(Fe(n.touchedFields,z))){const ke=le(Fe(n.touchedFields,z),ge.argA,ge.argB);_e&&Vt(n.touchedFields,z,ke)}f.dirtyFields&&(n.dirtyFields=Rp(i,s)),p.state.next({name:z,isDirty:U(z,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vt(s,z,J)},v=(z,J)=>{Vt(n.errors,z,J),p.state.next({errors:n.errors})},I=z=>{n.errors=z,p.state.next({errors:n.errors,isValid:!1})},k=(z,J,le,ge)=>{const _e=Fe(r,z);if(_e){const fe=Fe(s,z,ln(le)?Fe(i,z):le);ln(fe)||ge&&ge.defaultChecked||J?Vt(s,z,J?fe:e_(_e._f)):de(z,fe),o.mount&&C()}},B=(z,J,le,ge,_e)=>{let fe=!1,ke=!1;const Be={name:z},Qe=!!(Fe(r,z)&&Fe(r,z)._f&&Fe(r,z)._f.disabled);if(!le||ge){f.isDirty&&(ke=n.isDirty,n.isDirty=Be.isDirty=U(),fe=ke!==Be.isDirty);const qe=Qe||jo(Fe(i,z),J);ke=!!(!Qe&&Fe(n.dirtyFields,z)),qe||Qe?Sn(n.dirtyFields,z):Vt(n.dirtyFields,z,!0),Be.dirtyFields=n.dirtyFields,fe=fe||f.dirtyFields&&ke!==!qe}if(le){const qe=Fe(n.touchedFields,z);qe||(Vt(n.touchedFields,z,le),Be.touchedFields=n.touchedFields,fe=fe||f.touchedFields&&qe!==le)}return fe&&_e&&p.state.next(Be),fe?Be:{}},D=(z,J,le,ge)=>{const _e=Fe(n.errors,z),fe=f.isValid&&cs(J)&&n.isValid!==J;if(t.delayError&&le?(l=S(()=>v(z,le)),l(t.delayError)):(clearTimeout(u),l=null,le?Vt(n.errors,z,le):Sn(n.errors,z)),(le?!jo(_e,le):_e)||!xr(ge)||fe){const ke={...ge,...fe&&cs(J)?{isValid:J}:{},errors:n.errors,name:z};n={...n,...ke},p.state.next(ke)}},T=async z=>{x(z,!0);const J=await e.resolver(s,e.context,X7(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(z),J},N=async z=>{const{errors:J}=await T(z);if(z)for(const le of z){const ge=Fe(J,le);ge?Vt(n.errors,le,ge):Sn(n.errors,le)}else n.errors=J;return J},L=async(z,J,le={valid:!0})=>{for(const ge in z){const _e=z[ge];if(_e){const{_f:fe,...ke}=_e;if(fe){const Be=a.array.has(fe.name),Qe=_e._f&&J7(_e._f);Qe&&f.validatingFields&&x([ge],!0);const qe=await eC(_e,s,E,e.shouldUseNativeValidation&&!J,Be);if(Qe&&f.validatingFields&&x([ge]),qe[fe.name]&&(le.valid=!1,J))break;!J&&(Fe(qe,fe.name)?Be?K7(n.errors,qe,fe.name):Vt(n.errors,fe.name,qe[fe.name]):Sn(n.errors,fe.name))}!xr(ke)&&await L(ke,J,le)}}return le.valid},M=()=>{for(const z of a.unMount){const J=Fe(r,z);J&&(J._f.refs?J._f.refs.every(le=>!Zv(le)):!Zv(J._f.ref))&&Ce(z)}a.unMount=new Set},U=(z,J)=>(z&&J&&Vt(s,z,J),!jo(ne(),i)),F=(z,J,le)=>q7(z,a,{...o.mount?s:ln(J)?i:ps(z)?{[z]:J}:J},le,J),ie=z=>Jg(Fe(o.mount?s:i,z,t.shouldUnregister?Fe(i,z,[]):[])),de=(z,J,le={})=>{const ge=Fe(r,z);let _e=J;if(ge){const fe=ge._f;fe&&(!fe.disabled&&Vt(s,z,G4(J,fe)),_e=zm(fe.ref)&&mr(J)?"":J,q4(fe.ref)?[...fe.ref.options].forEach(ke=>ke.selected=_e.includes(ke.value)):fe.refs?Zd(fe.ref)?fe.refs.length>1?fe.refs.forEach(ke=>(!ke.defaultChecked||!ke.disabled)&&(ke.checked=Array.isArray(_e)?!!_e.find(Be=>Be===ke.value):_e===ke.value)):fe.refs[0]&&(fe.refs[0].checked=!!_e):fe.refs.forEach(ke=>ke.checked=ke.value===_e):HT(fe.ref)?fe.ref.value="":(fe.ref.value=_e,fe.ref.type||p.values.next({name:z,values:{...s}})))}(le.shouldDirty||le.shouldTouch)&&B(z,_e,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&me(z)},ue=(z,J,le)=>{for(const ge in J){const _e=J[ge],fe=`${z}.${ge}`,ke=Fe(r,fe);(a.array.has(z)||!qm(_e)||ke&&!ke._f)&&!Bu(_e)?ue(fe,_e,le):de(fe,_e,le)}},Y=(z,J,le={})=>{const ge=Fe(r,z),_e=a.array.has(z),fe=oi(J);Vt(s,z,fe),_e?(p.array.next({name:z,values:{...s}}),(f.isDirty||f.dirtyFields)&&le.shouldDirty&&p.state.next({name:z,dirtyFields:Rp(i,s),isDirty:U(z,fe)})):ge&&!ge._f&&!mr(fe)?ue(z,fe,le):de(z,fe,le),QI(z,a)&&p.state.next({...n}),p.values.next({name:o.mount?z:void 0,values:{...s}})},Q=async z=>{o.mount=!0;const J=z.target;let le=J.name,ge=!0;const _e=Fe(r,le),fe=()=>J.type?e_(_e._f):j7(z),ke=Be=>{ge=Number.isNaN(Be)||jo(Be,Fe(s,le,Be))};if(_e){let Be,Qe;const qe=fe(),Wt=z.type===KI.BLUR||z.type===KI.FOCUS_OUT,Kn=!Z7(_e._f)&&!e.resolver&&!Fe(n.errors,le)&&!_e._f.deps||eB(Wt,Fe(n.touchedFields,le),n.isSubmitted,_,y),dn=QI(le,a,Wt);Vt(s,le,qe),Wt?(_e._f.onBlur&&_e._f.onBlur(z),l&&l(0)):_e._f.onChange&&_e._f.onChange(z);const nt=B(le,qe,Wt,!1),fr=!xr(nt)||dn;if(!Wt&&p.values.next({name:le,type:z.type,values:{...s}}),Kn)return f.isValid&&(t.mode==="onBlur"?Wt&&C():C()),fr&&p.state.next({name:le,...dn?{}:nt});if(!Wt&&dn&&p.state.next({...n}),e.resolver){const{errors:nn}=await T([le]);if(ke(qe),ge){const En=nC(n.errors,r,le),Cn=nC(nn,r,En.name||le);Be=Cn.error,le=Cn.name,Qe=xr(nn)}}else x([le],!0),Be=(await eC(_e,s,E,e.shouldUseNativeValidation))[le],x([le]),ke(qe),ge&&(Be?Qe=!1:f.isValid&&(Qe=await L(r,!0)));ge&&(_e._f.deps&&me(_e._f.deps),D(le,Qe,Be,nt))}},ee=(z,J)=>{if(Fe(n.errors,J)&&z.focus)return z.focus(),1},me=async(z,J={})=>{let le,ge;const _e=em(z);if(e.resolver){const fe=await N(ln(z)?z:_e);le=xr(fe),ge=z?!_e.some(ke=>Fe(fe,ke)):le}else z?(ge=(await Promise.all(_e.map(async fe=>{const ke=Fe(r,fe);return await L(ke&&ke._f?{[fe]:ke}:ke)}))).every(Boolean),!(!ge&&!n.isValid)&&C()):ge=le=await L(r);return p.state.next({...!ps(z)||f.isValid&&le!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:le}:{},errors:n.errors}),J.shouldFocus&&!ge&&Yf(r,ee,z?_e:a.mount),ge},ne=z=>{const J={...o.mount?s:i};return ln(z)?J:ps(z)?Fe(J,z):z.map(le=>Fe(J,le))},$=(z,J)=>({invalid:!!Fe((J||n).errors,z),isDirty:!!Fe((J||n).dirtyFields,z),error:Fe((J||n).errors,z),isValidating:!!Fe(n.validatingFields,z),isTouched:!!Fe((J||n).touchedFields,z)}),K=z=>{z&&em(z).forEach(J=>Sn(n.errors,J)),p.state.next({errors:z?n.errors:{}})},Z=(z,J,le)=>{const ge=(Fe(r,z,{_f:{}})._f||{}).ref,_e=Fe(n.errors,z)||{},{ref:fe,message:ke,type:Be,...Qe}=_e;Vt(n.errors,z,{...Qe,...J,ref:ge}),p.state.next({name:z,errors:n.errors,isValid:!1}),le&&le.shouldFocus&&ge&&ge.focus&&ge.focus()},Ae=(z,J)=>qs(z)?p.values.subscribe({next:le=>z(F(void 0,J),le)}):F(z,J,!0),Ce=(z,J={})=>{for(const le of z?em(z):a.mount)a.mount.delete(le),a.array.delete(le),J.keepValue||(Sn(r,le),Sn(s,le)),!J.keepError&&Sn(n.errors,le),!J.keepDirty&&Sn(n.dirtyFields,le),!J.keepTouched&&Sn(n.touchedFields,le),!J.keepIsValidating&&Sn(n.validatingFields,le),!e.shouldUnregister&&!J.keepDefaultValue&&Sn(i,le);p.values.next({values:{...s}}),p.state.next({...n,...J.keepDirty?{isDirty:U()}:{}}),!J.keepIsValid&&C()},W=({disabled:z,name:J,field:le,fields:ge,value:_e})=>{if(cs(z)&&o.mount||z){const fe=z?void 0:ln(_e)?e_(le?le._f:Fe(ge,J)._f):_e;Vt(s,J,fe),B(J,fe,!1,!1,!0)}},ce=(z,J={})=>{let le=Fe(r,z);const ge=cs(J.disabled)||cs(t.disabled);return Vt(r,z,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:z}},name:z,mount:!0,...J}}),a.mount.add(z),le?W({field:le,disabled:cs(J.disabled)?J.disabled:t.disabled,name:z,value:J.value}):k(z,!0,J.value),{...ge?{disabled:J.disabled||t.disabled}:{},...e.progressive?{required:!!J.required,min:mf(J.min),max:mf(J.max),minLength:mf(J.minLength),maxLength:mf(J.maxLength),pattern:mf(J.pattern)}:{},name:z,onChange:Q,onBlur:Q,ref:_e=>{if(_e){ce(z,J),le=Fe(r,z);const fe=ln(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,ke=Y7(fe),Be=le._f.refs||[];if(ke?Be.find(Qe=>Qe===fe):fe===le._f.ref)return;Vt(r,z,{_f:{...le._f,...ke?{refs:[...Be.filter(Zv),fe,...Array.isArray(Fe(i,z))?[{}]:[]],ref:{type:fe.type,name:z}}:{ref:fe}}}),k(z,!1,void 0,fe)}else le=Fe(r,z,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(U7(a.array,z)&&o.action)&&a.unMount.add(z)}}},xe=()=>e.shouldFocusError&&Yf(r,ee,a.mount),Ee=z=>{cs(z)&&(p.state.next({disabled:z}),Yf(r,(J,le)=>{const ge=Fe(r,le);ge&&(J.disabled=ge._f.disabled||z,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(_e=>{_e.disabled=ge._f.disabled||z}))},0,!1))},Se=(z,J)=>async le=>{let ge;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let _e=oi(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:fe,values:ke}=await T();n.errors=fe,_e=ke}else await L(r);if(Sn(n.errors,"root"),xr(n.errors)){p.state.next({errors:{}});try{await z(_e,le)}catch(fe){ge=fe}}else J&&await J({...n.errors},le),xe(),setTimeout(xe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xr(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},Ge=(z,J={})=>{Fe(r,z)&&(ln(J.defaultValue)?Y(z,oi(Fe(i,z))):(Y(z,J.defaultValue),Vt(i,z,oi(J.defaultValue))),J.keepTouched||Sn(n.touchedFields,z),J.keepDirty||(Sn(n.dirtyFields,z),n.isDirty=J.defaultValue?U(z,oi(Fe(i,z))):U()),J.keepError||(Sn(n.errors,z),f.isValid&&C()),p.state.next({...n}))},Et=(z,J={})=>{const le=z?oi(z):i,ge=oi(le),_e=xr(z),fe=_e?i:ge;if(J.keepDefaultValues||(i=le),!J.keepValues){if(J.keepDirtyValues)for(const ke of a.mount)Fe(n.dirtyFields,ke)?Vt(fe,ke,Fe(s,ke)):Y(ke,Fe(fe,ke));else{if($T&&ln(z))for(const ke of a.mount){const Be=Fe(r,ke);if(Be&&Be._f){const Qe=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(zm(Qe)){const qe=Qe.closest("form");if(qe){qe.reset();break}}}}r={}}s=t.shouldUnregister?J.keepDefaultValues?oi(i):{}:oi(fe),p.array.next({values:{...fe}}),p.values.next({values:{...fe}})}a={mount:J.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:_e?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!jo(z,i)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:_e?{}:J.keepDirtyValues?J.keepDefaultValues&&s?Rp(i,s):n.dirtyFields:J.keepDefaultValues&&z?Rp(i,z):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},He=(z,J)=>Et(qs(z)?z(s):z,J);return{control:{register:ce,unregister:Ce,getFieldState:$,handleSubmit:Se,setError:Z,_executeSchema:T,_getWatch:F,_getDirty:U,_updateValid:C,_removeUnmounted:M,_updateFieldArray:w,_updateDisabledField:W,_getFieldArray:ie,_reset:Et,_resetDefaultValues:()=>qs(e.defaultValues)&&e.defaultValues().then(z=>{He(z,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:Ee,_subjects:p,_proxyFormState:f,_setErrors:I,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return n},set _formState(z){n=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:me,register:ce,handleSubmit:Se,watch:Ae,setValue:Y,getValues:ne,reset:He,resetField:Ge,clearErrors:K,unregister:Ce,setError:Z,setFocus:(z,J={})=>{const le=Fe(r,z),ge=le&&le._f;if(ge){const _e=ge.refs?ge.refs[0]:ge.ref;_e.focus&&(_e.focus(),J.shouldSelect&&_e.select())}},getFieldState:$}}function eh(t={}){const e=Pe.useRef(),n=Pe.useRef(),[r,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:qs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rB(t),formState:r});const s=e.current.control;return s._options=t,H7({subject:s._subjects.state,next:o=>{z7(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Pe.useEffect(()=>{t.values&&!jo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Pe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=$7(r,s),e.current}function Q4(t,e){return function(){return t.apply(e,arguments)}}const{toString:iB}=Object.prototype,{getPrototypeOf:WT}=Object,Zg=(t=>e=>{const n=iB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ki=t=>(t=t.toLowerCase(),e=>Zg(e)===t),ey=t=>e=>typeof e===t,{isArray:Ac}=Array,Cd=ey("undefined");function sB(t){return t!==null&&!Cd(t)&&t.constructor!==null&&!Cd(t.constructor)&&Qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Y4=Ki("ArrayBuffer");function oB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Y4(t.buffer),e}const aB=ey("string"),Qr=ey("function"),X4=ey("number"),ty=t=>t!==null&&typeof t=="object",lB=t=>t===!0||t===!1,nm=t=>{if(Zg(t)!=="object")return!1;const e=WT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uB=Ki("Date"),cB=Ki("File"),fB=Ki("Blob"),dB=Ki("FileList"),hB=t=>ty(t)&&Qr(t.pipe),pB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qr(t.append)&&((e=Zg(t))==="formdata"||e==="object"&&Qr(t.toString)&&t.toString()==="[object FormData]"))},mB=Ki("URLSearchParams"),[gB,yB,vB,_B]=["ReadableStream","Request","Response","Headers"].map(Ki),wB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function th(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ac(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function J4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z4=t=>!Cd(t)&&t!==nl;function jE(){const{caseless:t}=Z4(this)&&this||{},e={},n=(r,i)=>{const s=t&&J4(e,i)||i;nm(e[s])&&nm(r)?e[s]=jE(e[s],r):nm(r)?e[s]=jE({},r):Ac(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&th(arguments[r],n);return e}const EB=(t,e,n,{allOwnKeys:r}={})=>(th(e,(i,s)=>{n&&Qr(i)?t[s]=Q4(i,n):t[s]=i},{allOwnKeys:r}),t),bB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},SB=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&WT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},RB=t=>{if(!t)return null;if(Ac(t))return t;let e=t.length;if(!X4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&WT(Uint8Array)),CB=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},AB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},PB=Ki("HTMLFormElement"),kB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),rC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OB=Ki("RegExp"),eL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};th(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},NB=t=>{eL(t,(e,n)=>{if(Qr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Qr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ac(t)?r(t):r(String(t).split(e)),n},LB=()=>{},MB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,t_="abcdefghijklmnopqrstuvwxyz",iC="0123456789",tL={DIGIT:iC,ALPHA:t_,ALPHA_DIGIT:t_+t_.toUpperCase()+iC},FB=(t=16,e=tL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function jB(t){return!!(t&&Qr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const VB=t=>{const e=new Array(10),n=(r,i)=>{if(ty(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ac(r)?[]:{};return th(r,(o,a)=>{const l=n(o,i+1);!Cd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},UB=Ki("AsyncFunction"),BB=t=>t&&(ty(t)||Qr(t))&&Qr(t.then)&&Qr(t.catch),nL=((t,e)=>t?setImmediate:e?((n,r)=>(nl.addEventListener("message",({source:i,data:s})=>{i===nl&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),nl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qr(nl.postMessage)),$B=typeof queueMicrotask<"u"?queueMicrotask.bind(nl):typeof process<"u"&&process.nextTick||nL,ae={isArray:Ac,isArrayBuffer:Y4,isBuffer:sB,isFormData:pB,isArrayBufferView:oB,isString:aB,isNumber:X4,isBoolean:lB,isObject:ty,isPlainObject:nm,isReadableStream:gB,isRequest:yB,isResponse:vB,isHeaders:_B,isUndefined:Cd,isDate:uB,isFile:cB,isBlob:fB,isRegExp:OB,isFunction:Qr,isStream:hB,isURLSearchParams:mB,isTypedArray:IB,isFileList:dB,forEach:th,merge:jE,extend:EB,trim:wB,stripBOM:bB,inherits:TB,toFlatObject:SB,kindOf:Zg,kindOfTest:Ki,endsWith:xB,toArray:RB,forEachEntry:CB,matchAll:AB,isHTMLForm:PB,hasOwnProperty:rC,hasOwnProp:rC,reduceDescriptors:eL,freezeMethods:NB,toObjectSet:DB,toCamelCase:kB,noop:LB,toFiniteNumber:MB,findKey:J4,global:nl,isContextDefined:Z4,ALPHABET:tL,generateString:FB,isSpecCompliantForm:jB,toJSONObject:VB,isAsyncFn:UB,isThenable:BB,setImmediate:nL,asap:$B};function rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const rL=rt.prototype,iL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iL[t]={value:t}});Object.defineProperties(rt,iL);Object.defineProperty(rL,"isAxiosError",{value:!0});rt.from=(t,e,n,r,i,s)=>{const o=Object.create(rL);return ae.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),rt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const zB=null;function VE(t){return ae.isPlainObject(t)||ae.isArray(t)}function sL(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function sC(t,e,n){return t?t.concat(e).map(function(i,s){return i=sL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function HB(t){return ae.isArray(t)&&!t.some(VE)}const qB=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function ny(t,e,n){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!ae.isUndefined(C[S])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(ae.isDate(E))return E.toISOString();if(!l&&ae.isBlob(E))throw new rt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(E)||ae.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function f(E,S,C){let x=E;if(E&&!C&&typeof E=="object"){if(ae.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(ae.isArray(E)&&HB(E)||(ae.isFileList(E)||ae.endsWith(S,"[]"))&&(x=ae.toArray(E)))return S=sL(S),x.forEach(function(v,I){!(ae.isUndefined(v)||v===null)&&e.append(o===!0?sC([S],I,s):o===null?S:S+"[]",u(v))}),!1}return VE(E)?!0:(e.append(sC(C,S,s),u(E)),!1)}const p=[],y=Object.assign(qB,{defaultVisitor:f,convertValue:u,isVisitable:VE});function _(E,S){if(!ae.isUndefined(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(E),ae.forEach(E,function(x,w){(!(ae.isUndefined(x)||x===null)&&i.call(e,x,ae.isString(w)?w.trim():w,S,y))===!0&&_(x,S?S.concat(w):[w])}),p.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return _(t),e}function oC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function KT(t,e){this._pairs=[],t&&ny(t,this,e)}const oL=KT.prototype;oL.append=function(e,n){this._pairs.push([e,n])};oL.toString=function(e){const n=e?function(r){return e.call(this,r,oC)}:oC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function WB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aL(t,e,n){if(!e)return t;const r=n&&n.encode||WB,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ae.isURLSearchParams(e)?e.toString():new KT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class aC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KB=typeof URLSearchParams<"u"?URLSearchParams:KT,GB=typeof FormData<"u"?FormData:null,QB=typeof Blob<"u"?Blob:null,YB={isBrowser:!0,classes:{URLSearchParams:KB,FormData:GB,Blob:QB},protocols:["http","https","file","blob","url","data"]},GT=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,XB=GT&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),JB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZB=GT&&window.location.href||"http://localhost",e$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:GT,hasStandardBrowserEnv:XB,hasStandardBrowserWebWorkerEnv:JB,navigator:UE,origin:ZB},Symbol.toStringTag,{value:"Module"})),Mr={...e$,...YB};function t$(t,e){return ny(t,new Mr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Mr.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function n$(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r$(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function uL(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ae.isArray(i)?i.length:o,l?(ae.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ae.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ae.isArray(i[o])&&(i[o]=r$(i[o])),!a)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const n={};return ae.forEachEntry(t,(r,i)=>{e(n$(r),i,n,0)}),n}return null}function i$(t,e,n){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nh={transitional:lL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ae.isObject(e);if(s&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(uL(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t$(e,this.formSerializer).toString();if((a=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ny(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),i$(e)):e}],transformResponse:[function(e){const n=this.transitional||nh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?rt.from(a,rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{nh.headers[t]={}});const s$=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o$=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&s$[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lC=Symbol("internals");function gf(t){return t&&String(t).trim().toLowerCase()}function rm(t){return t===!1||t==null?t:ae.isArray(t)?t.map(rm):String(t)}function a$(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const l$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function n_(t,e,n,r,i){if(ae.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function u$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function c$(t,e){const n=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Fr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const f=gf(l);if(!f)throw new Error("header name must be a non-empty string");const p=ae.findKey(i,f);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=rm(a))}const o=(a,l)=>ae.forEach(a,(u,f)=>s(u,f,l));if(ae.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ae.isString(e)&&(e=e.trim())&&!l$(e))o(o$(e),n);else if(ae.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=gf(e),e){const r=ae.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return a$(i);if(ae.isFunction(n))return n.call(this,i,r);if(ae.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gf(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||n_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=gf(o),o){const a=ae.findKey(r,o);a&&(!n||n_(r,r[a],a,n))&&(delete r[a],i=!0)}}return ae.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||n_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ae.forEach(this,(i,s)=>{const o=ae.findKey(r,s);if(o){n[o]=rm(i),delete n[s];return}const a=e?u$(s):String(s).trim();a!==s&&delete n[s],n[a]=rm(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lC]=this[lC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=gf(o);r[a]||(c$(i,o),r[a]=!0)}return ae.isArray(e)?e.forEach(s):s(e),this}}Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Fr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ae.freezeMethods(Fr);function r_(t,e){const n=this||nh,r=e||n,i=Fr.from(r.headers);let s=r.data;return ae.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function cL(t){return!!(t&&t.__CANCEL__)}function Pc(t,e,n){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,n),this.name="CanceledError"}ae.inherits(Pc,rt,{__CANCEL__:!0});function fL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function f$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function d$(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),n[i]=l,r[i]=u;let p=s,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const _=f&&u-f;return _?Math.round(y*1e3/_):void 0}}function h$(t,e){let n=0,r=1e3/e,i,s;const o=(u,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const f=Date.now(),p=f-n;p>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Km=(t,e,n=3)=>{let r=0;const i=d$(50,250);return h$(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),f=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},uC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},cC=t=>(...e)=>ae.asap(()=>t(...e)),p$=Mr.hasStandardBrowserEnv?function(){const e=Mr.navigator&&/(msie|trident)/i.test(Mr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=ae.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),m$=Mr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];ae.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&o.push("path="+r),ae.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function y$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dL(t,e){return t&&!g$(e)?y$(t,e):e}const fC=t=>t instanceof Fr?{...t}:t;function El(t,e){e=e||{};const n={};function r(u,f,p){return ae.isPlainObject(u)&&ae.isPlainObject(f)?ae.merge.call({caseless:p},u,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function i(u,f,p){if(ae.isUndefined(f)){if(!ae.isUndefined(u))return r(void 0,u,p)}else return r(u,f,p)}function s(u,f){if(!ae.isUndefined(f))return r(void 0,f)}function o(u,f){if(ae.isUndefined(f)){if(!ae.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,p){if(p in e)return r(u,f);if(p in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f)=>i(fC(u),fC(f),!0)};return ae.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=l[f]||i,y=p(t[f],e[f],f);ae.isUndefined(y)&&p!==a||(n[f]=y)}),n}const hL=t=>{const e=El({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Fr.from(o),e.url=aL(dL(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ae.isFormData(n)){if(Mr.hasStandardBrowserEnv||Mr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...f]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Mr.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&p$(e.url))){const u=i&&s&&m$.read(s);u&&o.set(i,u)}return e},v$=typeof XMLHttpRequest<"u",_$=v$&&function(t){return new Promise(function(n,r){const i=hL(t);let s=i.data;const o=Fr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,p,y,_,E;function S(){_&&_(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function x(){if(!C)return;const v=Fr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:v,config:t,request:C};fL(function(D){n(D),S()},function(D){r(D),S()},k),C=null}"onloadend"in C?C.onloadend=x:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(x)},C.onabort=function(){C&&(r(new rt("Request aborted",rt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new rt("Network Error",rt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||lL;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new rt(I,k.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&ae.forEach(o.toJSON(),function(I,k){C.setRequestHeader(k,I)}),ae.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),a&&a!=="json"&&(C.responseType=i.responseType),u&&([y,E]=Km(u,!0),C.addEventListener("progress",y)),l&&C.upload&&([p,_]=Km(l),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(f=v=>{C&&(r(!v||v.type?new Pc(null,t,C):v),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const w=f$(i.url);if(w&&Mr.protocols.indexOf(w)===-1){r(new rt("Unsupported protocol "+w+":",rt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},w$=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof rt?f:new Pc(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ae.asap(a),l}},E$=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},b$=async function*(t,e){for await(const n of T$(t))yield*E$(n,e)},T$=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},dC=(t,e,n,r)=>{const i=b$(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){a(),l.close();return}let p=f.byteLength;if(n){let y=s+=p;n(y)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ry=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pL=ry&&typeof ReadableStream=="function",S$=ry&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},x$=pL&&mL(()=>{let t=!1;const e=new Request(Mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),hC=64*1024,BE=pL&&mL(()=>ae.isReadableStream(new Response("").body)),Gm={stream:BE&&(t=>t.body)};ry&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gm[e]&&(Gm[e]=ae.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,r)})})})(new Response);const R$=async t=>{if(t==null)return 0;if(ae.isBlob(t))return t.size;if(ae.isSpecCompliantForm(t))return(await new Request(Mr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(t)||ae.isArrayBuffer(t))return t.byteLength;if(ae.isURLSearchParams(t)&&(t=t+""),ae.isString(t))return(await S$(t)).byteLength},I$=async(t,e)=>{const n=ae.toFiniteNumber(t.getContentLength());return n??R$(e)},C$=ry&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:p="same-origin",fetchOptions:y}=hL(t);u=u?(u+"").toLowerCase():"text";let _=w$([i,s&&s.toAbortSignal()],o),E;const S=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let C;try{if(l&&x$&&n!=="get"&&n!=="head"&&(C=await I$(f,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(ae.isFormData(r)&&(B=k.headers.get("content-type"))&&f.setContentType(B),k.body){const[D,T]=uC(C,Km(cC(l)));r=dC(k.body,hC,D,T)}}ae.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;E=new Request(e,{...y,signal:_,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:x?p:void 0});let w=await fetch(E);const v=BE&&(u==="stream"||u==="response");if(BE&&(a||v&&S)){const k={};["status","statusText","headers"].forEach(N=>{k[N]=w[N]});const B=ae.toFiniteNumber(w.headers.get("content-length")),[D,T]=a&&uC(B,Km(cC(a),!0))||[];w=new Response(dC(w.body,hC,D,()=>{T&&T(),S&&S()}),k)}u=u||"text";let I=await Gm[ae.findKey(Gm,u)||"text"](w,t);return!v&&S&&S(),await new Promise((k,B)=>{fL(k,B,{data:I,headers:Fr.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:E})})}catch(x){throw S&&S(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,t,E),{cause:x.cause||x}):rt.from(x,x&&x.code,t,E)}}),$E={http:zB,xhr:_$,fetch:C$};ae.forEach($E,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pC=t=>`- ${t}`,A$=t=>ae.isFunction(t)||t===null||t===!1,gL={getAdapter:t=>{t=ae.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!A$(n)&&(r=$E[(o=String(n)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(pC).join(`
`):" "+pC(s[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$E};function i_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pc(null,t)}function mC(t){return i_(t),t.headers=Fr.from(t.headers),t.data=r_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gL.getAdapter(t.adapter||nh.adapter)(t).then(function(r){return i_(t),r.data=r_.call(t,t.transformResponse,r),r.headers=Fr.from(r.headers),r},function(r){return cL(r)||(i_(t),r&&r.response&&(r.response.data=r_.call(t,t.transformResponse,r.response),r.response.headers=Fr.from(r.response.headers))),Promise.reject(r)})}const yL="1.7.7",QT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{QT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const gC={};QT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+yL+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new rt(i(o," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!gC[o]&&(gC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function P$(t,e,n){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new rt("option "+s+" must be "+l,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+s,rt.ERR_BAD_OPTION)}}const zE={assertOptions:P$,validators:QT},ko=zE.validators;class fl{constructor(e){this.defaults=e,this.interceptors={request:new aC,response:new aC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=El(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zE.assertOptions(r,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),i!=null&&(ae.isFunction(i)?n.paramsSerializer={serialize:i}:zE.assertOptions(i,{encode:ko.function,serialize:ko.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ae.merge(s.common,s[n.method]);s&&ae.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=Fr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let f,p=0,y;if(!l){const E=[mC.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),y=E.length,f=Promise.resolve(n);p<y;)f=f.then(E[p++],E[p++]);return f}y=a.length;let _=n;for(p=0;p<y;){const E=a[p++],S=a[p++];try{_=E(_)}catch(C){S.call(this,C);break}}try{f=mC.call(this,_)}catch(E){return Promise.reject(E)}for(p=0,y=u.length;p<y;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=El(this.defaults,e);const n=dL(e.baseURL,e.url);return aL(n,e.params,e.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(e){fl.prototype[e]=function(n,r){return this.request(El(r||{},{method:e,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(El(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}fl.prototype[e]=n(),fl.prototype[e+"Form"]=n(!0)});class YT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Pc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new YT(function(i){e=i}),cancel:e}}}function k$(t){return function(n){return t.apply(null,n)}}function O$(t){return ae.isObject(t)&&t.isAxiosError===!0}const HE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HE).forEach(([t,e])=>{HE[e]=t});function vL(t){const e=new fl(t),n=Q4(fl.prototype.request,e);return ae.extend(n,fl.prototype,e,{allOwnKeys:!0}),ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vL(El(t,i))},n}const fn=vL(nh);fn.Axios=fl;fn.CanceledError=Pc;fn.CancelToken=YT;fn.isCancel=cL;fn.VERSION=yL;fn.toFormData=ny;fn.AxiosError=rt;fn.Cancel=fn.CanceledError;fn.all=function(e){return Promise.all(e)};fn.spread=k$;fn.isAxiosError=O$;fn.mergeConfig=El;fn.AxiosHeaders=Fr;fn.formToJSON=t=>uL(ae.isHTMLForm(t)?new FormData(t):t);fn.getAdapter=gL.getAdapter;fn.HttpStatusCode=HE;fn.default=fn;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xt.apply(this,arguments)}var mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mn||(mn={}));const yC="popstate";function N$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ad("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bl(i)}return L$(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D$(){return Math.random().toString(36).substr(2,8)}function vC(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,n,r){return n===void 0&&(n=null),Xt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:n,key:e&&e.key||r||D$()})}function bl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mn.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Xt({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=mn.Pop;let C=f(),x=C==null?null:C-u;u=C,l&&l({action:a,location:S.location,delta:x})}function y(C,x){a=mn.Push;let w=Ad(S.location,C,x);u=f()+1;let v=vC(w,u),I=S.createHref(w);try{o.pushState(v,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(I)}s&&l&&l({action:a,location:S.location,delta:1})}function _(C,x){a=mn.Replace;let w=Ad(S.location,C,x);u=f();let v=vC(w,u),I=S.createHref(w);o.replaceState(v,"",I),s&&l&&l({action:a,location:S.location,delta:0})}function E(C){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof C=="string"?C:bl(C);return w=w.replace(/ $/,"%20"),lt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let S={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yC,p),l=C,()=>{i.removeEventListener(yC,p),l=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let x=E(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:_,go(C){return o.go(C)}};return S}var At;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(At||(At={}));const M$=new Set(["lazy","caseSensitive","path","id","index","children"]);function F$(t){return t.index===!0}function Pd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),F$(i)){let l=Xt({},i,e(i),{id:a});return r[a]=l,l}else{let l=Xt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Pd(i.children,e,o,r)),l}})}function Ja(t,e,n){return n===void 0&&(n="/"),im(t,e,n,!1)}function im(t,e,n,r){let i=typeof e=="string"?ba(e):e,s=oo(i.pathname||"/",n);if(s==null)return null;let o=_L(t);V$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Y$(s);a=G$(o[l],u,r)}return a}function j$(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function _L(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xs([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_L(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:W$(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of wL(s.path))i(s,o,l)}),e}function wL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function V$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U$=/^:[\w-]+$/,B$=3,$$=2,z$=1,H$=10,q$=-2,_C=t=>t==="*";function W$(t,e){let n=t.split("/"),r=n.length;return n.some(_C)&&(r+=q$),e&&(r+=$$),n.filter(i=>!_C(i)).reduce((i,s)=>i+(U$.test(s)?B$:s===""?z$:H$),r)}function K$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G$(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),y=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Xs([s,p.pathname]),pathnameBase:Z$(Xs([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Xs([s,p.pathnameBase]))}return o}function Qm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:y,isOptional:_}=f;if(y==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[p];return _&&!E?u[y]=void 0:u[y]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Q$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function X$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:J$(n,e):e,search:ez(r),hash:tz(i)}}function J$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function s_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(t,e){let n=EL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ba(t):(i=Xt({},t),lt(!i.pathname||!i.pathname.includes("?"),s_("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),s_("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),s_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let l=X$(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),Z$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ez=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ym{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function iy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bL=["post","put","patch","delete"],nz=new Set(bL),rz=["get",...bL],iz=new Set(rz),sz=new Set([301,302,303,307,308]),oz=new Set([307,308]),o_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},az={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TL="remix-router-transitions";function uz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let H=t.detectErrorBoundary;i=G=>({hasErrorBoundary:H(G)})}else i=lz;let s={},o=Pd(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||mz,f=t.unstable_patchRoutesOnNavigation,p=Xt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),y=null,_=new Set,E=1e3,S=new Set,C=null,x=null,w=null,v=t.hydrationData!=null,I=Ja(o,t.history.location,l),k=null;if(I==null&&!f){let H=hr(404,{pathname:t.history.location.pathname}),{matches:G,route:re}=CC(o);I=G,k={[re.id]:H}}I&&!t.hydrationData&&Qt(I,o,t.history.location.pathname).active&&(I=null);let B;if(I)if(I.some(H=>H.route.lazy))B=!1;else if(!I.some(H=>H.route.loader))B=!0;else if(p.v7_partialHydration){let H=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null,re=he=>he.route.loader?typeof he.route.loader=="function"&&he.route.loader.hydrate===!0?!1:H&&H[he.route.id]!==void 0||G&&G[he.route.id]!==void 0:!0;if(G){let he=I.findIndex(Re=>G[Re.route.id]!==void 0);B=I.slice(0,he+1).every(re)}else B=I.every(re)}else B=t.hydrationData!=null;else if(B=!1,I=[],p.v7_partialHydration){let H=Qt(null,o,t.history.location.pathname);H.active&&H.matches&&(I=H.matches)}let D,T={historyAction:t.history.action,location:t.history.location,matches:I,initialized:B,navigation:o_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},N=mn.Pop,L=!1,M,U=!1,F=new Map,ie=null,de=!1,ue=!1,Y=[],Q=new Set,ee=new Map,me=0,ne=-1,$=new Map,K=new Set,Z=new Map,Ae=new Map,Ce=new Set,W=new Map,ce=new Map,xe=new Map,Ee;function Se(){if(y=t.history.listen(H=>{let{action:G,location:re,delta:he}=H;if(Ee){Ee(),Ee=void 0;return}fc(ce.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=As({currentLocation:T.location,nextLocation:re,historyAction:G});if(Re&&he!=null){let Oe=new Promise(ze=>{Ee=ze});t.history.go(he*-1),Vr(Re,{state:"blocked",location:re,proceed(){Vr(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Oe.then(()=>t.history.go(he))},reset(){let ze=new Map(T.blockers);ze.set(Re,yf),He({blockers:ze})}});return}return z(G,re)}),n){Pz(e,F);let H=()=>kz(e,F);e.addEventListener("pagehide",H),ie=()=>e.removeEventListener("pagehide",H)}return T.initialized||z(mn.Pop,T.location,{initialHydration:!0}),D}function Ge(){y&&y(),ie&&ie(),_.clear(),M&&M.abort(),T.fetchers.forEach((H,G)=>nn(G)),T.blockers.forEach((H,G)=>bo(G))}function Et(H){return _.add(H),()=>_.delete(H)}function He(H,G){G===void 0&&(G={}),T=Xt({},T,H);let re=[],he=[];p.v7_fetcherPersist&&T.fetchers.forEach((Re,Oe)=>{Re.state==="idle"&&(Ce.has(Oe)?he.push(Oe):re.push(Oe))}),[..._].forEach(Re=>Re(T,{deletedFetchers:he,unstable_viewTransitionOpts:G.viewTransitionOpts,unstable_flushSync:G.flushSync===!0})),p.v7_fetcherPersist&&(re.forEach(Re=>T.fetchers.delete(Re)),he.forEach(Re=>nn(Re)))}function We(H,G,re){var he,Re;let{flushSync:Oe}=re===void 0?{}:re,ze=T.actionData!=null&&T.navigation.formMethod!=null&&Oi(T.navigation.formMethod)&&T.navigation.state==="loading"&&((he=H.state)==null?void 0:he._isRedirect)!==!0,be;G.actionData?Object.keys(G.actionData).length>0?be=G.actionData:be=null:ze?be=T.actionData:be=null;let je=G.loaderData?RC(T.loaderData,G.loaderData,G.matches||[],G.errors):T.loaderData,Le=T.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((at,ct)=>Le.set(ct,yf)));let Me=L===!0||T.navigation.formMethod!=null&&Oi(T.navigation.formMethod)&&((Re=H.state)==null?void 0:Re._isRedirect)!==!0;a&&(o=a,a=void 0),de||N===mn.Pop||(N===mn.Push?t.history.push(H,H.state):N===mn.Replace&&t.history.replace(H,H.state));let ot;if(N===mn.Pop){let at=F.get(T.location.pathname);at&&at.has(H.pathname)?ot={currentLocation:T.location,nextLocation:H}:F.has(H.pathname)&&(ot={currentLocation:H,nextLocation:T.location})}else if(U){let at=F.get(T.location.pathname);at?at.add(H.pathname):(at=new Set([H.pathname]),F.set(T.location.pathname,at)),ot={currentLocation:T.location,nextLocation:H}}He(Xt({},G,{actionData:be,loaderData:je,historyAction:N,location:H,initialized:!0,navigation:o_,revalidation:"idle",restoreScrollPosition:Da(H,G.matches||T.matches),preventScrollReset:Me,blockers:Le}),{viewTransitionOpts:ot,flushSync:Oe===!0}),N=mn.Pop,L=!1,U=!1,de=!1,ue=!1,Y=[]}async function Gt(H,G){if(typeof H=="number"){t.history.go(H);return}let re=qE(T.location,T.matches,l,p.v7_prependBasename,H,p.v7_relativeSplatPath,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:he,submission:Re,error:Oe}=wC(p.v7_normalizeFormMethod,!1,re,G),ze=T.location,be=Ad(T.location,he,G&&G.state);be=Xt({},be,t.history.encodeLocation(be));let je=G&&G.replace!=null?G.replace:void 0,Le=mn.Push;je===!0?Le=mn.Replace:je===!1||Re!=null&&Oi(Re.formMethod)&&Re.formAction===T.location.pathname+T.location.search&&(Le=mn.Replace);let Me=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,ot=(G&&G.unstable_flushSync)===!0,at=As({currentLocation:ze,nextLocation:be,historyAction:Le});if(at){Vr(at,{state:"blocked",location:be,proceed(){Vr(at,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Gt(H,G)},reset(){let ct=new Map(T.blockers);ct.set(at,yf),He({blockers:ct})}});return}return await z(Le,be,{submission:Re,pendingError:Oe,preventScrollReset:Me,replace:G&&G.replace,enableViewTransition:G&&G.unstable_viewTransition,flushSync:ot})}function st(){if(Kn(),He({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){z(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}z(N||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:U===!0})}}async function z(H,G,re){M&&M.abort(),M=null,N=H,de=(re&&re.startUninterruptedRevalidation)===!0,Yi(T.location,T.matches),L=(re&&re.preventScrollReset)===!0,U=(re&&re.enableViewTransition)===!0;let he=a||o,Re=re&&re.overrideNavigation,Oe=Ja(he,G,l),ze=(re&&re.flushSync)===!0,be=Qt(Oe,he,G.pathname);if(be.active&&be.matches&&(Oe=be.matches),!Oe){let{error:it,notFoundMatches:Yt,route:kt}=Gi(G.pathname);We(G,{matches:Yt,loaderData:{},errors:{[kt.id]:it}},{flushSync:ze});return}if(T.initialized&&!ue&&Ez(T.location,G)&&!(re&&re.submission&&Oi(re.submission.formMethod))){We(G,{matches:Oe},{flushSync:ze});return}M=new AbortController;let je=wu(t.history,G,M.signal,re&&re.submission),Le;if(re&&re.pendingError)Le=[$u(Oe).route.id,{type:At.error,error:re.pendingError}];else if(re&&re.submission&&Oi(re.submission.formMethod)){let it=await J(je,G,re.submission,Oe,be.active,{replace:re.replace,flushSync:ze});if(it.shortCircuited)return;if(it.pendingActionResult){let[Yt,kt]=it.pendingActionResult;if($r(kt)&&iy(kt.error)&&kt.error.status===404){M=null,We(G,{matches:it.matches,loaderData:{},errors:{[Yt]:kt.error}});return}}Oe=it.matches||Oe,Le=it.pendingActionResult,Re=a_(G,re.submission),ze=!1,be.active=!1,je=wu(t.history,je.url,je.signal)}let{shortCircuited:Me,matches:ot,loaderData:at,errors:ct}=await le(je,G,Oe,be.active,Re,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,ze,Le);Me||(M=null,We(G,Xt({matches:ot||Oe},IC(Le),{loaderData:at,errors:ct})))}async function J(H,G,re,he,Re,Oe){Oe===void 0&&(Oe={}),Kn();let ze=Cz(G,re);if(He({navigation:ze},{flushSync:Oe.flushSync===!0}),Re){let Le=await Ei(he,G.pathname,H.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let{boundaryId:Me,error:ot}=Gn(G.pathname,Le);return{matches:Le.partialMatches,pendingActionResult:[Me,{type:At.error,error:ot}]}}else if(Le.matches)he=Le.matches;else{let{notFoundMatches:Me,error:ot,route:at}=Gi(G.pathname);return{matches:Me,pendingActionResult:[at.id,{type:At.error,error:ot}]}}}let be,je=kf(he,G);if(!je.route.action&&!je.route.lazy)be={type:At.error,error:hr(405,{method:H.method,pathname:G.pathname,routeId:je.route.id})};else if(be=(await qe("action",T,H,[je],he,null))[je.route.id],H.signal.aborted)return{shortCircuited:!0};if(rl(be)){let Le;return Oe&&Oe.replace!=null?Le=Oe.replace:Le=TC(be.response.headers.get("Location"),new URL(H.url),l)===T.location.pathname+T.location.search,await Qe(H,be,!0,{submission:re,replace:Le}),{shortCircuited:!0}}if(qo(be))throw hr(400,{type:"defer-action"});if($r(be)){let Le=$u(he,je.route.id);return(Oe&&Oe.replace)!==!0&&(N=mn.Push),{matches:he,pendingActionResult:[Le.route.id,be]}}return{matches:he,pendingActionResult:[je.route.id,be]}}async function le(H,G,re,he,Re,Oe,ze,be,je,Le,Me){let ot=Re||a_(G,Oe),at=Oe||ze||PC(ot),ct=!de&&(!p.v7_partialHydration||!je);if(he){if(ct){let Rt=ge(Me);He(Xt({navigation:ot},Rt!==void 0?{actionData:Rt}:{}),{flushSync:Le})}let Ye=await Ei(re,G.pathname,H.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let{boundaryId:Rt,error:Tn}=Gn(G.pathname,Ye);return{matches:Ye.partialMatches,loaderData:{},errors:{[Rt]:Tn}}}else if(Ye.matches)re=Ye.matches;else{let{error:Rt,notFoundMatches:Tn,route:mt}=Gi(G.pathname);return{matches:Tn,loaderData:{},errors:{[mt.id]:Rt}}}}let it=a||o,[Yt,kt]=EC(t.history,T,re,at,G,p.v7_partialHydration&&je===!0,p.v7_skipActionErrorRevalidation,ue,Y,Q,Ce,Z,K,it,l,Me);if(Ps(Ye=>!(re&&re.some(Rt=>Rt.route.id===Ye))||Yt&&Yt.some(Rt=>Rt.route.id===Ye)),ne=++me,Yt.length===0&&kt.length===0){let Ye=Hl();return We(G,Xt({matches:re,loaderData:{},errors:Me&&$r(Me[1])?{[Me[0]]:Me[1].error}:null},IC(Me),Ye?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Le}),{shortCircuited:!0}}if(ct){let Ye={};if(!he){Ye.navigation=ot;let Rt=ge(Me);Rt!==void 0&&(Ye.actionData=Rt)}kt.length>0&&(Ye.fetchers=_e(kt)),He(Ye,{flushSync:Le})}kt.forEach(Ye=>{ee.has(Ye.key)&&Cn(Ye.key),Ye.controller&&ee.set(Ye.key,Ye.controller)});let Ti=()=>kt.forEach(Ye=>Cn(Ye.key));M&&M.signal.addEventListener("abort",Ti);let{loaderResults:Qn,fetcherResults:Yn}=await Wt(T,re,Yt,kt,H);if(H.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Ti),kt.forEach(Ye=>ee.delete(Ye.key));let bn=Ip(Qn);if(bn)return await Qe(H,bn.result,!0,{replace:be}),{shortCircuited:!0};if(bn=Ip(Yn),bn)return K.add(bn.key),await Qe(H,bn.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Si,errors:Je}=xC(T,re,Yt,Qn,Me,kt,Yn,W);W.forEach((Ye,Rt)=>{Ye.subscribe(Tn=>{(Tn||Ye.done)&&W.delete(Rt)})}),p.v7_partialHydration&&je&&T.errors&&Object.entries(T.errors).filter(Ye=>{let[Rt]=Ye;return!Yt.some(Tn=>Tn.route.id===Rt)}).forEach(Ye=>{let[Rt,Tn]=Ye;Je=Object.assign(Je||{},{[Rt]:Tn})});let ni=Hl(),Xi=Eo(ne),xi=ni||Xi||kt.length>0;return Xt({matches:re,loaderData:Si,errors:Je},xi?{fetchers:new Map(T.fetchers)}:{})}function ge(H){if(H&&!$r(H[1]))return{[H[0]]:H[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function _e(H){return H.forEach(G=>{let re=T.fetchers.get(G.key),he=vf(void 0,re?re.data:void 0);T.fetchers.set(G.key,he)}),new Map(T.fetchers)}function fe(H,G,re,he){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(H)&&Cn(H);let Re=(he&&he.unstable_flushSync)===!0,Oe=a||o,ze=qE(T.location,T.matches,l,p.v7_prependBasename,re,p.v7_relativeSplatPath,G,he==null?void 0:he.relative),be=Ja(Oe,ze,l),je=Qt(be,Oe,ze);if(je.active&&je.matches&&(be=je.matches),!be){nt(H,G,hr(404,{pathname:ze}),{flushSync:Re});return}let{path:Le,submission:Me,error:ot}=wC(p.v7_normalizeFormMethod,!0,ze,he);if(ot){nt(H,G,ot,{flushSync:Re});return}let at=kf(be,Le);if(L=(he&&he.preventScrollReset)===!0,Me&&Oi(Me.formMethod)){ke(H,G,Le,at,be,je.active,Re,Me);return}Z.set(H,{routeId:G,path:Le}),Be(H,G,Le,at,be,je.active,Re,Me)}async function ke(H,G,re,he,Re,Oe,ze,be){Kn(),Z.delete(H);function je(mt){if(!mt.route.action&&!mt.route.lazy){let Xn=hr(405,{method:be.formMethod,pathname:re,routeId:G});return nt(H,G,Xn,{flushSync:ze}),!0}return!1}if(!Oe&&je(he))return;let Le=T.fetchers.get(H);dn(H,Az(be,Le),{flushSync:ze});let Me=new AbortController,ot=wu(t.history,re,Me.signal,be);if(Oe){let mt=await Ei(Re,re,ot.signal);if(mt.type==="aborted")return;if(mt.type==="error"){let{error:Xn}=Gn(re,mt);nt(H,G,Xn,{flushSync:ze});return}else if(mt.matches){if(Re=mt.matches,he=kf(Re,re),je(he))return}else{nt(H,G,hr(404,{pathname:re}),{flushSync:ze});return}}ee.set(H,Me);let at=me,it=(await qe("action",T,ot,[he],Re,H))[he.route.id];if(ot.signal.aborted){ee.get(H)===Me&&ee.delete(H);return}if(p.v7_fetcherPersist&&Ce.has(H)){if(rl(it)||$r(it)){dn(H,No(void 0));return}}else{if(rl(it))if(ee.delete(H),ne>at){dn(H,No(void 0));return}else return K.add(H),dn(H,vf(be)),Qe(ot,it,!1,{fetcherSubmission:be});if($r(it)){nt(H,G,it.error);return}}if(qo(it))throw hr(400,{type:"defer-action"});let Yt=T.navigation.location||T.location,kt=wu(t.history,Yt,Me.signal),Ti=a||o,Qn=T.navigation.state!=="idle"?Ja(Ti,T.navigation.location,l):T.matches;lt(Qn,"Didn't find any matches after fetcher action");let Yn=++me;$.set(H,Yn);let bn=vf(be,it.data);T.fetchers.set(H,bn);let[Si,Je]=EC(t.history,T,Qn,be,Yt,!1,p.v7_skipActionErrorRevalidation,ue,Y,Q,Ce,Z,K,Ti,l,[he.route.id,it]);Je.filter(mt=>mt.key!==H).forEach(mt=>{let Xn=mt.key,Wl=T.fetchers.get(Xn),Ji=vf(void 0,Wl?Wl.data:void 0);T.fetchers.set(Xn,Ji),ee.has(Xn)&&Cn(Xn),mt.controller&&ee.set(Xn,mt.controller)}),He({fetchers:new Map(T.fetchers)});let ni=()=>Je.forEach(mt=>Cn(mt.key));Me.signal.addEventListener("abort",ni);let{loaderResults:Xi,fetcherResults:xi}=await Wt(T,Qn,Si,Je,kt);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",ni),$.delete(H),ee.delete(H),Je.forEach(mt=>ee.delete(mt.key));let Ye=Ip(Xi);if(Ye)return Qe(kt,Ye.result,!1);if(Ye=Ip(xi),Ye)return K.add(Ye.key),Qe(kt,Ye.result,!1);let{loaderData:Rt,errors:Tn}=xC(T,Qn,Si,Xi,void 0,Je,xi,W);if(T.fetchers.has(H)){let mt=No(it.data);T.fetchers.set(H,mt)}Eo(Yn),T.navigation.state==="loading"&&Yn>ne?(lt(N,"Expected pending action"),M&&M.abort(),We(T.navigation.location,{matches:Qn,loaderData:Rt,errors:Tn,fetchers:new Map(T.fetchers)})):(He({errors:Tn,loaderData:RC(T.loaderData,Rt,Qn,Tn),fetchers:new Map(T.fetchers)}),ue=!1)}async function Be(H,G,re,he,Re,Oe,ze,be){let je=T.fetchers.get(H);dn(H,vf(be,je?je.data:void 0),{flushSync:ze});let Le=new AbortController,Me=wu(t.history,re,Le.signal);if(Oe){let it=await Ei(Re,re,Me.signal);if(it.type==="aborted")return;if(it.type==="error"){let{error:Yt}=Gn(re,it);nt(H,G,Yt,{flushSync:ze});return}else if(it.matches)Re=it.matches,he=kf(Re,re);else{nt(H,G,hr(404,{pathname:re}),{flushSync:ze});return}}ee.set(H,Le);let ot=me,ct=(await qe("loader",T,Me,[he],Re,H))[he.route.id];if(qo(ct)&&(ct=await eS(ct,Me.signal,!0)||ct),ee.get(H)===Le&&ee.delete(H),!Me.signal.aborted){if(Ce.has(H)){dn(H,No(void 0));return}if(rl(ct))if(ne>ot){dn(H,No(void 0));return}else{K.add(H),await Qe(Me,ct,!1);return}if($r(ct)){nt(H,G,ct.error);return}lt(!qo(ct),"Unhandled fetcher deferred data"),dn(H,No(ct.data))}}async function Qe(H,G,re,he){let{submission:Re,fetcherSubmission:Oe,replace:ze}=he===void 0?{}:he;G.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let be=G.response.headers.get("Location");lt(be,"Expected a Location header on the redirect Response"),be=TC(be,new URL(H.url),l);let je=Ad(T.location,be,{_isRedirect:!0});if(n){let it=!1;if(G.response.headers.has("X-Remix-Reload-Document"))it=!0;else if(ZT.test(be)){const Yt=t.history.createURL(be);it=Yt.origin!==e.location.origin||oo(Yt.pathname,l)==null}if(it){ze?e.location.replace(be):e.location.assign(be);return}}M=null;let Le=ze===!0||G.response.headers.has("X-Remix-Replace")?mn.Replace:mn.Push,{formMethod:Me,formAction:ot,formEncType:at}=T.navigation;!Re&&!Oe&&Me&&ot&&at&&(Re=PC(T.navigation));let ct=Re||Oe;if(oz.has(G.response.status)&&ct&&Oi(ct.formMethod))await z(Le,je,{submission:Xt({},ct,{formAction:be}),preventScrollReset:L,enableViewTransition:re?U:void 0});else{let it=a_(je,Re);await z(Le,je,{overrideNavigation:it,fetcherSubmission:Oe,preventScrollReset:L,enableViewTransition:re?U:void 0})}}async function qe(H,G,re,he,Re,Oe){let ze,be={};try{ze=await gz(u,H,G,re,he,Re,Oe,s,i)}catch(je){return he.forEach(Le=>{be[Le.route.id]={type:At.error,error:je}}),be}for(let[je,Le]of Object.entries(ze))if(Tz(Le)){let Me=Le.result;be[je]={type:At.redirect,response:_z(Me,re,je,Re,l,p.v7_relativeSplatPath)}}else be[je]=await vz(Le);return be}async function Wt(H,G,re,he,Re){let Oe=H.matches,ze=qe("loader",H,Re,re,G,null),be=Promise.all(he.map(async Me=>{if(Me.matches&&Me.match&&Me.controller){let at=(await qe("loader",H,wu(t.history,Me.path,Me.controller.signal),[Me.match],Me.matches,Me.key))[Me.match.route.id];return{[Me.key]:at}}else return Promise.resolve({[Me.key]:{type:At.error,error:hr(404,{pathname:Me.path})}})})),je=await ze,Le=(await be).reduce((Me,ot)=>Object.assign(Me,ot),{});return await Promise.all([Rz(G,je,Re.signal,Oe,H.loaderData),Iz(G,Le,he)]),{loaderResults:je,fetcherResults:Le}}function Kn(){ue=!0,Y.push(...Ps()),Z.forEach((H,G)=>{ee.has(G)&&(Q.add(G),Cn(G))})}function dn(H,G,re){re===void 0&&(re={}),T.fetchers.set(H,G),He({fetchers:new Map(T.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function nt(H,G,re,he){he===void 0&&(he={});let Re=$u(T.matches,G);nn(H),He({errors:{[Re.route.id]:re},fetchers:new Map(T.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function fr(H){return p.v7_fetcherPersist&&(Ae.set(H,(Ae.get(H)||0)+1),Ce.has(H)&&Ce.delete(H)),T.fetchers.get(H)||az}function nn(H){let G=T.fetchers.get(H);ee.has(H)&&!(G&&G.state==="loading"&&$.has(H))&&Cn(H),Z.delete(H),$.delete(H),K.delete(H),Ce.delete(H),Q.delete(H),T.fetchers.delete(H)}function En(H){if(p.v7_fetcherPersist){let G=(Ae.get(H)||0)-1;G<=0?(Ae.delete(H),Ce.add(H)):Ae.set(H,G)}else nn(H);He({fetchers:new Map(T.fetchers)})}function Cn(H){let G=ee.get(H);lt(G,"Expected fetch controller: "+H),G.abort(),ee.delete(H)}function Na(H){for(let G of H){let re=fr(G),he=No(re.data);T.fetchers.set(G,he)}}function Hl(){let H=[],G=!1;for(let re of K){let he=T.fetchers.get(re);lt(he,"Expected fetcher: "+re),he.state==="loading"&&(K.delete(re),H.push(re),G=!0)}return Na(H),G}function Eo(H){let G=[];for(let[re,he]of $)if(he<H){let Re=T.fetchers.get(re);lt(Re,"Expected fetcher: "+re),Re.state==="loading"&&(Cn(re),$.delete(re),G.push(re))}return Na(G),G.length>0}function ql(H,G){let re=T.blockers.get(H)||yf;return ce.get(H)!==G&&ce.set(H,G),re}function bo(H){T.blockers.delete(H),ce.delete(H)}function Vr(H,G){let re=T.blockers.get(H)||yf;lt(re.state==="unblocked"&&G.state==="blocked"||re.state==="blocked"&&G.state==="blocked"||re.state==="blocked"&&G.state==="proceeding"||re.state==="blocked"&&G.state==="unblocked"||re.state==="proceeding"&&G.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+G.state);let he=new Map(T.blockers);he.set(H,G),He({blockers:he})}function As(H){let{currentLocation:G,nextLocation:re,historyAction:he}=H;if(ce.size===0)return;ce.size>1&&fc(!1,"A router only supports one blocker at a time");let Re=Array.from(ce.entries()),[Oe,ze]=Re[Re.length-1],be=T.blockers.get(Oe);if(!(be&&be.state==="proceeding")&&ze({currentLocation:G,nextLocation:re,historyAction:he}))return Oe}function Gi(H){let G=hr(404,{pathname:H}),re=a||o,{matches:he,route:Re}=CC(re);return Ps(),{notFoundMatches:he,route:Re,error:G}}function Gn(H,G){return{boundaryId:$u(G.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:H,message:G.error!=null&&"message"in G.error?G.error:String(G.error)})}}function Ps(H){let G=[];return W.forEach((re,he)=>{(!H||H(he))&&(re.cancel(),G.push(he),W.delete(he))}),G}function Qi(H,G,re){if(C=H,w=G,x=re||null,!v&&T.navigation===o_){v=!0;let he=Da(T.location,T.matches);he!=null&&He({restoreScrollPosition:he})}return()=>{C=null,w=null,x=null}}function ks(H,G){return x&&x(H,G.map(he=>j$(he,T.loaderData)))||H.key}function Yi(H,G){if(C&&w){let re=ks(H,G);C[re]=w()}}function Da(H,G){if(C){let re=ks(H,G),he=C[re];if(typeof he=="number")return he}return null}function Qt(H,G,re){if(f){if(S.has(re))return{active:!1,matches:H};if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:im(G,re,l,!0)}}else return{active:!0,matches:im(G,re,l,!0)||[]}}return{active:!1,matches:null}}async function Ei(H,G,re){let he=H;for(;;){let Re=a==null,Oe=a||o;try{await hz(f,G,he,Oe,s,i,xe,re)}catch(je){return{type:"error",error:je,partialMatches:he}}finally{Re&&(o=[...o])}if(re.aborted)return{type:"aborted"};let ze=Ja(Oe,G,l);if(ze)return ti(G,S),{type:"success",matches:ze};let be=im(Oe,G,l,!0);if(!be||he.length===be.length&&he.every((je,Le)=>je.route.id===be[Le].route.id))return ti(G,S),{type:"success",matches:null};he=be}}function ti(H,G){if(G.size>=E){let re=G.values().next().value;G.delete(re)}G.add(H)}function bi(H){s={},a=Pd(H,i,void 0,s)}function To(H,G){let re=a==null;xL(H,G,a||o,s,i),re&&(o=[...o],He({}))}return D={get basename(){return l},get future(){return p},get state(){return T},get routes(){return o},get window(){return e},initialize:Se,subscribe:Et,enableScrollRestoration:Qi,navigate:Gt,fetch:fe,revalidate:st,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:fr,deleteFetcher:En,dispose:Ge,getBlocker:ql,deleteBlocker:bo,patchRoutes:To,_internalFetchControllers:ee,_internalActiveDeferreds:W,_internalSetRoutes:bi},D}function cz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qE(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let p of e)if(l.push(p),p.route.id===o){u=p;break}}else l=e,u=e[e.length-1];let f=JT(i||".",XT(l,s),oo(t.pathname,n)||t.pathname,a==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!tS(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Xs([n,f.pathname])),bl(f)}function wC(t,e,n,r){if(!r||!cz(r))return{path:n};if(r.formMethod&&!xz(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let i=()=>({path:n,error:hr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=RL(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Oi(o))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,E)=>{let[S,C]=E;return""+_+S+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!Oi(o))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=WE(r.formData),u=r.formData;else if(r.body instanceof FormData)l=WE(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=SC(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=SC(l)}catch{return i()}let f={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Oi(f.formMethod))return{path:n,submission:f};let p=ba(n);return e&&p.search&&tS(p.search)&&l.append("index",""),p.search="?"+l,{path:bl(p),submission:f}}function fz(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function EC(t,e,n,r,i,s,o,a,l,u,f,p,y,_,E,S){let C=S?$r(S[1])?S[1].error:S[1].data:void 0,x=t.createURL(e.location),w=t.createURL(i),v=S&&$r(S[1])?S[0]:void 0,I=v?fz(n,v):n,k=S?S[1].statusCode:void 0,B=o&&k&&k>=400,D=I.filter((N,L)=>{let{route:M}=N;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(dz(e.loaderData,e.matches[L],N)||l.some(ie=>ie===N.route.id))return!0;let U=e.matches[L],F=N;return bC(N,Xt({currentUrl:x,currentParams:U.params,nextUrl:w,nextParams:F.params},r,{actionResult:C,actionStatus:k,defaultShouldRevalidate:B?!1:a||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||SL(U,F)}))}),T=[];return p.forEach((N,L)=>{if(s||!n.some(de=>de.route.id===N.routeId)||f.has(L))return;let M=Ja(_,N.path,E);if(!M){T.push({key:L,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(L),F=kf(M,N.path),ie=!1;y.has(L)?ie=!1:u.has(L)?(u.delete(L),ie=!0):U&&U.state!=="idle"&&U.data===void 0?ie=a:ie=bC(F,Xt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:k,defaultShouldRevalidate:B?!1:a})),ie&&T.push({key:L,routeId:N.routeId,path:N.path,matches:M,match:F,controller:new AbortController})}),[D,T]}function dz(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function SL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hz(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(f,p)=>{a.aborted||xL(f,p,r,i,s)}}),o.set(l,u)),u&&bz(u)&&await u}finally{o.delete(l)}}function xL(t,e,n,r,i){if(t){var s;let o=r[t];lt(o,"No route found to patch children into: routeId = "+t);let a=Pd(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Pd(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function pz(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];lt(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";fc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!M$.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Xt({},e(i),{lazy:void 0}))}async function mz(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function gz(t,e,n,r,i,s,o,a,l,u){let f=s.map(_=>_.route.lazy?pz(_.route,l,a):void 0),p=s.map((_,E)=>{let S=f[E],C=i.some(w=>w.route.id===_.route.id);return Xt({},_,{shouldLoad:C,resolve:async w=>(w&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(C=!0),C?yz(e,r,_,S,w,u):Promise.resolve({type:At.data,result:void 0}))})}),y=await t({matches:p,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(f)}catch{}return y}async function yz(t,e,n,r,i,s){let o,a,l=u=>{let f,p=new Promise((E,S)=>f=S);a=()=>f(),e.signal.addEventListener("abort",a);let y=E=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(S=>y(S)):y())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,p])};try{let u=n.route[t];if(r)if(u){let f,[p]=await Promise.all([l(u).catch(y=>{f=y}),r]);if(f!==void 0)throw f;o=p}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw hr(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:At.data,result:void 0};else if(u)o=await l(u);else{let f=new URL(e.url),p=f.pathname+f.search;throw hr(404,{pathname:p})}lt(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:At.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vz(t){let{result:e,type:n}=t;if(IL(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:At.error,error:f}}return n===At.error?{type:At.error,error:new Ym(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:At.data,data:u,statusCode:e.status,headers:e.headers}}if(n===At.error){if(AC(e)){var r;if(e.data instanceof Error){var i;return{type:At.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Ym(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:At.error,error:e,statusCode:iy(e)?e.status:void 0}}if(Sz(e)){var s,o;return{type:At.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(AC(e)){var a,l;return{type:At.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:At.data,data:e}}function _z(t,e,n,r,i,s){let o=t.headers.get("Location");if(lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZT.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=qE(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function TC(t,e,n){if(ZT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=oo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function wu(t,e,n,r){let i=t.createURL(RL(e)).toString(),s={signal:n};if(r&&Oi(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=WE(r.formData):s.body=r.formData}return new Request(i,s)}function WE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function SC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function wz(t,e,n,r,i){let s={},o=null,a,l=!1,u={},f=n&&$r(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,_=e[y];if(lt(!rl(_),"Cannot handle redirect results in processLoaderData"),$r(_)){let E=_.error;f!==void 0&&(E=f,f=void 0),o=o||{};{let S=$u(t,y);o[S.route.id]==null&&(o[S.route.id]=E)}s[y]=void 0,l||(l=!0,a=iy(_.error)?_.error.status:500),_.headers&&(u[y]=_.headers)}else qo(_)?(r.set(y,_.deferredData),s[y]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!l&&(a=_.statusCode),_.headers&&(u[y]=_.headers)):(s[y]=_.data,_.statusCode&&_.statusCode!==200&&!l&&(a=_.statusCode),_.headers&&(u[y]=_.headers))}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function xC(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=wz(e,r,i,a);return s.forEach(f=>{let{key:p,match:y,controller:_}=f,E=o[p];if(lt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if($r(E)){let S=$u(t.matches,y==null?void 0:y.route.id);u&&u[S.route.id]||(u=Xt({},u,{[S.route.id]:E.error})),t.fetchers.delete(p)}else if(rl(E))lt(!1,"Unhandled fetcher revalidation redirect");else if(qo(E))lt(!1,"Unhandled fetcher deferred data");else{let S=No(E.data);t.fetchers.set(p,S)}}),{loaderData:l,errors:u}}function RC(t,e,n,r){let i=Xt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function IC(t){return t?$r(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $u(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function CC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ym(t||500,a,new Error(l),!0)}function Ip(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(rl(i))return{key:r,result:i}}}function RL(t){let e=typeof t=="string"?ba(t):t;return bl(Xt({},e,{hash:""}))}function Ez(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bz(t){return typeof t=="object"&&t!=null&&"then"in t}function Tz(t){return IL(t.result)&&sz.has(t.result.status)}function qo(t){return t.type===At.deferred}function $r(t){return t.type===At.error}function rl(t){return(t&&t.type)===At.redirect}function AC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Sz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function IL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xz(t){return iz.has(t.toLowerCase())}function Oi(t){return nz.has(t.toLowerCase())}async function Rz(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(y=>(y==null?void 0:y.route.id)===a);if(!u)continue;let f=r.find(y=>y.route.id===u.route.id),p=f!=null&&!SL(f,u)&&(i&&i[u.route.id])!==void 0;qo(l)&&p&&await eS(l,n,!1).then(y=>{y&&(e[a]=y)})}}async function Iz(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&qo(a)&&(lt(o,"Expected an AbortController for revalidating fetcher deferred result"),await eS(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function eS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:At.data,data:t.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:t.deferredData.data}}}function tS(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function kf(t,e){let n=typeof e=="string"?ba(e).search:e.search;if(t[t.length-1].route.index&&tS(n||""))return t[t.length-1];let r=EL(t);return r[r.length-1]}function PC(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function a_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Az(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function No(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pz(t,e){try{let n=t.sessionStorage.getItem(TL);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function kz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(TL,JSON.stringify(n))}catch(r){fc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}const rh=O.createContext(null),nS=O.createContext(null),Ta=O.createContext(null),rS=O.createContext(null),Sa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),CL=O.createContext(null);function Oz(t,e){let{relative:n}=e===void 0?{}:e;ih()||lt(!1);let{basename:r,navigator:i}=O.useContext(Ta),{hash:s,pathname:o,search:a}=sy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Xs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ih(){return O.useContext(rS)!=null}function xa(){return ih()||lt(!1),O.useContext(rS).location}function AL(t){O.useContext(Ta).static||O.useLayoutEffect(t)}function Ra(){let{isDataRoute:t}=O.useContext(Sa);return t?Hz():Nz()}function Nz(){ih()||lt(!1);let t=O.useContext(rh),{basename:e,future:n,navigator:r}=O.useContext(Ta),{matches:i}=O.useContext(Sa),{pathname:s}=xa(),o=JSON.stringify(XT(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return AL(()=>{a.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=JT(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xs([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function iS(){let{matches:t}=O.useContext(Sa),e=t[t.length-1];return e?e.params:{}}function sy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Ta),{matches:i}=O.useContext(Sa),{pathname:s}=xa(),o=JSON.stringify(XT(i,r.v7_relativeSplatPath));return O.useMemo(()=>JT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Dz(t,e,n,r){ih()||lt(!1);let{navigator:i}=O.useContext(Ta),{matches:s}=O.useContext(Sa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xa(),f;f=u;let p=f.pathname||"/",y=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Ja(t,{pathname:y});return Vz(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Xs([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Xs([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function Lz(){let t=zz(),e=iy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const Mz=O.createElement(Lz,null);class Fz extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Sa.Provider,{value:this.props.routeContext},O.createElement(CL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jz(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(rh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Sa.Provider,{value:e},r)}function Vz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||lt(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&y[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let _,E=!1,S=null,C=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||Mz,l&&(u<0&&y===0?(qz("route-fallback"),E=!0,C=null):u===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,y+1)),w=()=>{let v;return _?v=S:E?v=C:p.route.Component?v=O.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=f,O.createElement(jz,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(Fz,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var PL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PL||{}),Jm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jm||{});function Uz(t){let e=O.useContext(rh);return e||lt(!1),e}function Bz(t){let e=O.useContext(nS);return e||lt(!1),e}function $z(t){let e=O.useContext(Sa);return e||lt(!1),e}function kL(t){let e=$z(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function zz(){var t;let e=O.useContext(CL),n=Bz(Jm.UseRouteError),r=kL(Jm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hz(){let{router:t}=Uz(PL.UseNavigateStable),e=kL(Jm.UseNavigateStable),n=O.useRef(!1);return AL(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xm({fromRouteId:e},s)))},[t,e])}const kC={};function qz(t,e,n){kC[t]||(kC[t]=!0)}function Wz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:s,static:o=!1,future:a}=t;ih()&&lt(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:Xm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ba(r));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=r,S=O.useMemo(()=>{let C=oo(f,l);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:i}},[l,f,p,y,_,E,i]);return S==null?null:O.createElement(Ta.Provider,{value:u},O.createElement(rS.Provider,{children:n,value:S}))}new Promise(()=>{});function Kz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function OL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qz(t,e){return t.button===0&&(!e||e==="_self")&&!Gz(t)}const Yz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Xz=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Jz="6";try{window.__reactRouterVersion=Jz}catch{}function Zz(t,e){return uz({basename:void 0,future:dc({},void 0,{v7_prependBasename:!0}),history:N$({window:void 0}),hydrationData:eH(),routes:t,mapRouteProperties:Kz,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function eH(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=dc({},e,{errors:tH(e.errors)})),e}function tH(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ym(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const NL=O.createContext({isTransitioning:!1}),nH=O.createContext(new Map),rH="startTransition",OC=vm[rH],iH="flushSync",NC=D7[iH];function sH(t){OC?OC(t):t()}function _f(t){NC?NC(t):t()}let oH=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function aH(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=O.useState(n.state),[o,a]=O.useState(),[l,u]=O.useState({isTransitioning:!1}),[f,p]=O.useState(),[y,_]=O.useState(),[E,S]=O.useState(),C=O.useRef(new Map),{v7_startTransition:x}=r||{},w=O.useCallback(T=>{x?sH(T):T()},[x]),v=O.useCallback((T,N)=>{let{deletedFetchers:L,unstable_flushSync:M,unstable_viewTransitionOpts:U}=N;L.forEach(ie=>C.current.delete(ie)),T.fetchers.forEach((ie,de)=>{ie.data!==void 0&&C.current.set(de,ie.data)});let F=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!U||F){M?_f(()=>s(T)):w(()=>s(T));return}if(M){_f(()=>{y&&(f&&f.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let ie=n.window.document.startViewTransition(()=>{_f(()=>s(T))});ie.finished.finally(()=>{_f(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})})}),_f(()=>_(ie));return}y?(f&&f.resolve(),y.skipTransition(),S({state:T,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(T),u({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,y,f,C,w]);O.useLayoutEffect(()=>n.subscribe(v),[n,v]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new oH)},[l]),O.useEffect(()=>{if(f&&o&&n.window){let T=o,N=f.promise,L=n.window.document.startViewTransition(async()=>{w(()=>s(T)),await N});L.finished.finally(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})}),_(L)}},[w,o,f,n.window]),O.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,y,i.location,o]),O.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[l.isTransitioning,E]),O.useEffect(()=>{},[]);let I=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,N,L)=>n.navigate(T,{state:N,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(T,N,L)=>n.navigate(T,{replace:!0,state:N,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),k=n.basename||"/",B=O.useMemo(()=>({router:n,navigator:I,static:!1,basename:k}),[n,I,k]),D=O.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return O.createElement(O.Fragment,null,O.createElement(rh.Provider,{value:B},O.createElement(nS.Provider,{value:i},O.createElement(nH.Provider,{value:C.current},O.createElement(NL.Provider,{value:l},O.createElement(Wz,{basename:k,location:i.location,navigationType:i.historyAction,navigator:I,future:D},i.initialized||n.future.v7_partialHydration?O.createElement(lH,{routes:n.routes,future:n.future,state:i}):e))))),null)}const lH=O.memo(uH);function uH(t){let{routes:e,future:n,state:r}=t;return Dz(e,void 0,r,n)}const cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DL=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,unstable_viewTransition:p}=e,y=OL(e,Yz),{basename:_}=O.useContext(Ta),E,S=!1;if(typeof u=="string"&&fH.test(u)&&(E=u,cH))try{let v=new URL(window.location.href),I=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=oo(I.pathname,_);I.origin===v.origin&&k!=null?u=k+I.search+I.hash:S=!0}catch{}let C=Oz(u,{relative:i}),x=hH(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:p});function w(v){r&&r(v),v.defaultPrevented||x(v)}return O.createElement("a",dc({},y,{href:E||C,onClick:S||s?r:w,ref:n,target:l}))}),yr=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:f}=e,p=OL(e,Xz),y=sy(l,{relative:p.relative}),_=xa(),E=O.useContext(nS),{navigator:S,basename:C}=O.useContext(Ta),x=E!=null&&pH(y)&&u===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,v=_.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(v=v.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&C&&(I=oo(I,C)||I);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let B=v===w||!o&&v.startsWith(w)&&v.charAt(k)==="/",D=I!=null&&(I===w||!o&&I.startsWith(w)&&I.charAt(w.length)==="/"),T={isActive:B,isPending:D,isTransitioning:x},N=B?r:void 0,L;typeof s=="function"?L=s(T):L=[s,B?"active":null,D?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(T):a;return O.createElement(DL,dc({},p,{"aria-current":N,className:L,ref:n,style:M,to:l,unstable_viewTransition:u}),typeof f=="function"?f(T):f)});var KE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KE||(KE={}));var DC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DC||(DC={}));function dH(t){let e=O.useContext(rh);return e||lt(!1),e}function hH(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ra(),u=xa(),f=sy(t,{relative:o});return O.useCallback(p=>{if(Qz(p,n)){p.preventDefault();let y=r!==void 0?r:bl(u)===bl(f);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,f,r,i,n,t,s,o,a])}function pH(t,e){e===void 0&&(e={});let n=O.useContext(NL);n==null&&lt(!1);let{basename:r}=dH(KE.useViewTransitionState),i=sy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=oo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qm(i.pathname,o)!=null||Qm(i.pathname,s)!=null}var LC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=function(t,e){if(!t)throw kc(e)},kc=function(t){return new Error("Firebase Database ("+LL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(y=64)),r.push(n[f],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ML(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new gH;const y=s<<2|a>>4;if(r.push(y),u!==64){const _=a<<4&240|u>>2;if(r.push(_),p!==64){const E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FL=function(t){const e=ML(t);return sS.encodeByteArray(e,!0)},Zm=function(t){return FL(t).replace(/\./g,"")},eg=function(t){try{return sS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){return jL(void 0,t)}function jL(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vH(n)||(t[n]=jL(t[n],e[n]));return t}function vH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=()=>_H().__FIREBASE_DEFAULTS__,EH=()=>{if(typeof process>"u"||typeof LC>"u")return;const t=LC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eg(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return wH()||EH()||bH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VL=t=>{var e,n;return(n=(e=oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oS=t=>{const e=VL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UL=()=>{var t;return(t=oy())===null||t===void 0?void 0:t.config},BL=t=>{var e;return(e=oy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zm(JSON.stringify(n)),Zm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function TH(){var t;const e=(t=oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $L(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xH(){const t=ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zL(){return LL.NODE_ADMIN===!0}function RH(){return!TH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IH(){try{return typeof indexedDB=="object"}catch{return!1}}function CH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AH,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xs(i,a,r)}}function PH(t,e){return t.replace(kH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return JSON.parse(t)}function Bn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=kd(eg(s[0])||""),n=kd(eg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},OH=function(t){const e=HL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NH=function(t){const e=HL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function GE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ng(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(MC(s)&&MC(o)){if(!ng(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Of(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=a^s&(o^a),f=1518500249):(u=s^o^a,f=1859775393):p<60?(u=s&o|a&(s|o),f=2400959708):(u=s^o^a,f=3395469782);const y=(i<<5|i>>>27)+u+l+f+r[p]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function LH(t,e){const n=new MH(t,e);return n.subscribe.bind(n)}class MH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=l_),i.error===void 0&&(i.error=l_),i.complete===void 0&&(i.complete=l_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l_(){}function jH(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ie(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ay=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($H(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BH(t){return t===Ya?void 0:t}function $H(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const HH={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},qH=dt.INFO,WH={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},KH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=qH,this._logHandler=KH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const GH=(t,e)=>e.some(n=>t instanceof n);let FC,jC;function QH(){return FC||(FC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YH(){return jC||(jC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qL=new WeakMap,QE=new WeakMap,WL=new WeakMap,u_=new WeakMap,cS=new WeakMap;function XH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ra(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qL.set(n,t)}).catch(()=>{}),cS.set(e,t),e}function JH(t){if(QE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});QE.set(t,e)}let YE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return QE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZH(t){YE=t(YE)}function eq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c_(this),e,...n);return WL.set(r,e.sort?e.sort():[e]),ra(r)}:YH().includes(t)?function(...e){return t.apply(c_(this),e),ra(qL.get(this))}:function(...e){return ra(t.apply(c_(this),e))}}function tq(t){return typeof t=="function"?eq(t):(t instanceof IDBTransaction&&JH(t),GH(t,QH())?new Proxy(t,YE):t)}function ra(t){if(t instanceof IDBRequest)return XH(t);if(u_.has(t))return u_.get(t);const e=tq(t);return e!==t&&(u_.set(t,e),cS.set(e,t)),e}const c_=t=>cS.get(t);function nq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ra(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const rq=["get","getKey","getAll","getAllKeys","count"],iq=["put","add","delete","clear"],f_=new Map;function VC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f_.get(e))return f_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return f_.set(e,s),s}ZH(t=>({...t,get:(e,n,r)=>VC(e,n)||t.get(e,n,r),has:(e,n)=>!!VC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XE="@firebase/app",UC="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ly("@firebase/app"),aq="@firebase/app-compat",lq="@firebase/analytics-compat",uq="@firebase/analytics",cq="@firebase/app-check-compat",fq="@firebase/app-check",dq="@firebase/auth",hq="@firebase/auth-compat",pq="@firebase/database",mq="@firebase/database-compat",gq="@firebase/functions",yq="@firebase/functions-compat",vq="@firebase/installations",_q="@firebase/installations-compat",wq="@firebase/messaging",Eq="@firebase/messaging-compat",bq="@firebase/performance",Tq="@firebase/performance-compat",Sq="@firebase/remote-config",xq="@firebase/remote-config-compat",Rq="@firebase/storage",Iq="@firebase/storage-compat",Cq="@firebase/firestore",Aq="@firebase/vertexai-preview",Pq="@firebase/firestore-compat",kq="firebase",Oq="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="[DEFAULT]",Nq={[XE]:"fire-core",[aq]:"fire-core-compat",[uq]:"fire-analytics",[lq]:"fire-analytics-compat",[fq]:"fire-app-check",[cq]:"fire-app-check-compat",[dq]:"fire-auth",[hq]:"fire-auth-compat",[pq]:"fire-rtdb",[mq]:"fire-rtdb-compat",[gq]:"fire-fn",[yq]:"fire-fn-compat",[vq]:"fire-iid",[_q]:"fire-iid-compat",[wq]:"fire-fcm",[Eq]:"fire-fcm-compat",[bq]:"fire-perf",[Tq]:"fire-perf-compat",[Sq]:"fire-rc",[xq]:"fire-rc-compat",[Rq]:"fire-gcs",[Iq]:"fire-gcs-compat",[Cq]:"fire-fst",[Pq]:"fire-fst-compat",[Aq]:"fire-vertex","fire-js":"fire-js",[kq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Map,Dq=new Map,ZE=new Map;function BC(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(ZE.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;ZE.set(e,t);for(const n of rg.values())BC(n,t);for(const n of Dq.values())BC(n,t);return!0}function oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new sh("app","Firebase",Lq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Oq;function KL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:JE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ia.create("bad-app-name",{appName:String(i)});if(n||(n=UL()),!n)throw ia.create("no-options");const s=rg.get(i);if(s){if(ng(n,s.options)&&ng(r,s.config))return s;throw ia.create("duplicate-app",{appName:i})}const o=new zH(i);for(const l of ZE.values())o.addComponent(l);const a=new Mq(n,r,o);return rg.set(i,a),a}function uy(t=JE){const e=rg.get(t);if(!e&&t===JE&&UL())return KL();if(!e)throw ia.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let i=(r=Nq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}fa(new ao(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="firebase-heartbeat-database",jq=1,Od="firebase-heartbeat-store";let d_=null;function GL(){return d_||(d_=nq(Fq,jq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Od)}catch(n){console.warn(n)}}}}).catch(t=>{throw ia.create("idb-open",{originalErrorMessage:t.message})})),d_}async function Vq(t){try{const n=(await GL()).transaction(Od),r=await n.objectStore(Od).get(QL(t));return await n.done,r}catch(e){if(e instanceof xs)lo.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function $C(t,e){try{const r=(await GL()).transaction(Od,"readwrite");await r.objectStore(Od).put(e,QL(t)),await r.done}catch(n){if(n instanceof xs)lo.warn(n.message);else{const r=ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function QL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=1024,Bq=30*24*60*60*1e3;class $q{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Bq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zC(),{heartbeatsToSend:r,unsentEntries:i}=zq(this._heartbeatsCache.heartbeats),s=Zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lo.warn(n),""}}}function zC(){return new Date().toISOString().substring(0,10)}function zq(t,e=Uq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IH()?CH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function HC(t){return Zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){fa(new ao("platform-logger",e=>new sq(e),"PRIVATE")),fa(new ao("heartbeat",e=>new $q(e),"PRIVATE")),pi(XE,UC,t),pi(XE,UC,"esm2017"),pi("fire-js","")}qq("");function fS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wq=YL,XL=new sh("auth","Firebase",YL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new ly("@firebase/auth");function Kq(t,...e){ig.logLevel<=dt.WARN&&ig.warn(`Auth (${Ia}): ${t}`,...e)}function sm(t,...e){ig.logLevel<=dt.ERROR&&ig.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw hS(t,...e)}function $i(t,...e){return hS(t,...e)}function dS(t,e,n){const r=Object.assign(Object.assign({},Wq()),{[e]:n});return new sh("auth","Firebase",r).create(e,{appName:t.name})}function Js(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yi(t,"argument-error"),dS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XL.create(t,...e)}function Ke(t,e,...n){if(!t)throw hS(e,...n)}function Ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sm(e),new Error(e)}function uo(t,e){t||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qq(){return qC()==="http:"||qC()==="https:"}function qC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qq()||SH()||"connection"in navigator)?navigator.onLine:!0}function Xq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=uS()||$L()}get(){return Yq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=new ah(3e4,6e4);function Ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yo(t,e,n,r,i={}){return ZL(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),JL.fetch()(eM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function ZL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jq),e);try{const i=new tW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cp(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dS(t,f,u);yi(t,f)}}catch(i){if(i instanceof xs)throw i;yi(t,"network-request-failed",{message:String(i)})}}async function lh(t,e,n,r,i={}){const s=await yo(t,e,n,r,i);return"mfaPendingCredential"in s&&yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function eM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?pS(t.config,i):`${t.config.apiScheme}://${i}`}function eW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),Zq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$i(t,e,r);return i.customData._tokenResponse=n,i}function WC(t){return t!==void 0&&t.enterprise!==void 0}class nW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rW(t,e){return yo(t,"GET","/v2/recaptchaConfig",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iW(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function tM(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sW(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=mS(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xf(h_(i.auth_time)),issuedAtTime:Xf(h_(i.iat)),expirationTime:Xf(h_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function h_(t){return Number(t)*1e3}function mS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eg(n);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KC(t){const e=mS(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&oW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pc(t,tM(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nM(s.providerUserInfo):[],a=uW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function lW(t){const e=Dt(t);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nM(t){return t.map(e=>{var{providerId:n}=e,r=fS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){const n=await ZL(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",JL.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fW(t,e){return yo(t,"POST","/v2/accounts:revokeToken",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=KC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xu;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sW(this,e)}reload(){return lW(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await pc(this,iW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:I,isAnonymous:k,providerData:B,stsTokenManager:D}=n;Ke(v&&D,e,"internal-error");const T=Xu.fromJSON(this.name,D);Ke(typeof v=="string",e,"internal-error"),Oo(p,e.name),Oo(y,e.name),Ke(typeof I=="boolean",e,"internal-error"),Ke(typeof k=="boolean",e,"internal-error"),Oo(_,e.name),Oo(E,e.name),Oo(S,e.name),Oo(C,e.name),Oo(x,e.name),Oo(w,e.name);const N=new Ks({uid:v,auth:e,email:y,emailVerified:I,displayName:p,isAnonymous:k,photoURL:E,phoneNumber:_,tenantId:S,stsTokenManager:T,createdAt:x,lastLoginAt:w});return B&&Array.isArray(B)&&(N.providerData=B.map(L=>Object.assign({},L))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xu;i.updateFromServerResponse(n);const s=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xu;a.updateFromIdToken(r);const l=new Ks({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Map;function Gs(t){uo(t instanceof Function,"Expected a class definition");let e=GC.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rM.type="NONE";const QC=rM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e,n){return`firebase:${t}:${e}:${n}`}class Ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=om(this.userKey,i.apiKey,s),this.fullPersistenceKey=om("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ju(Gs(QC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Gs(QC);const o=om(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const p=Ks._fromJSON(e,f);u!==s&&(a=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ju(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ju(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uM(e))return"Blackberry";if(cM(e))return"Webos";if(sM(e))return"Safari";if((e.includes("chrome/")||oM(e))&&!e.includes("edge/"))return"Chrome";if(lM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iM(t=ur()){return/firefox\//i.test(t)}function sM(t=ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oM(t=ur()){return/crios\//i.test(t)}function aM(t=ur()){return/iemobile/i.test(t)}function lM(t=ur()){return/android/i.test(t)}function uM(t=ur()){return/blackberry/i.test(t)}function cM(t=ur()){return/webos/i.test(t)}function gS(t=ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dW(t=ur()){var e;return gS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hW(){return xH()&&document.documentMode===10}function fM(t=ur()){return gS(t)||lM(t)||cM(t)||uM(t)||/windows phone/i.test(t)||aM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e=[]){let n;switch(t){case"Browser":n=YC(ur());break;case"Worker":n=`${YC(ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e={}){return yo(t,"GET","/v2/passwordPolicy",Ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=6;class yW{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XC(this),this.idTokenSubscription=new XC(this),this.beforeStateQueue=new pW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tM(this,{idToken:e}),r=await Ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ji(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Js(this));const n=e?Dt(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mW(this),n=new yW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return Dt(t)}class XC{constructor(e){this.auth=e,this.observer=null,this.addObserver=LH(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _W(t){cy=t}function hM(t){return cy.loadJS(t)}function wW(){return cy.recaptchaEnterpriseScript}function EW(){return cy.gapiScript}function bW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TW="recaptcha-enterprise",SW="NO_RECAPTCHA";class xW{constructor(e){this.type=TW,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{rW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;WC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(SW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&WC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wW();l.length!==0&&(l+=a),hM(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function JC(t,e,n,r=!1){const i=new xW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t,e){const n=oh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ng(s,e??{}))return i;yi(i,"already-initialized")}return n.initialize({options:e})}function IW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CW(t,e,n){const r=Aa(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=pM(e),{host:o,port:a}=AW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),PW()}function pM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AW(t){const e=pM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZC(o)}}}function ZC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,n){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function kW(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}async function DW(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends yS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nb(e,n,"signInWithPassword",OW);case"emailLink":return NW(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nb(e,r,"signUpPassword",kW);case"emailLink":return DW(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="http://localhost";class Tl extends yS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=fS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Tl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zu(e,n)}buildRequest(){const e={requestUri:LW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FW(t){const e=Of(Nf(t)).link,n=e?Of(Nf(e)).deep_link_id:null,r=Of(Nf(t)).deep_link_id;return(r?Of(Nf(r)).link:null)||r||n||e||t}class vS{constructor(e){var n,r,i,s,o,a;const l=Of(Nf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=MW((i=l.mode)!==null&&i!==void 0?i:null);Ke(u&&f&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FW(e);try{return new vS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vS.parseLink(n);return Ke(r,"argument-error"),Nd._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends uh{constructor(){super("facebook.com")}static credential(e){return Tl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tl._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends uh{constructor(){super("github.com")}static credential(e){return Tl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends uh{constructor(){super("twitter.com")}static credential(e,n){return Tl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e){return lh(t,"POST","/v1/accounts:signUp",Ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ks._fromIdTokenResponse(e,r,i),o=eA(r);return new Sl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eA(r);return new Sl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends xs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new og(e,n,r,i)}}function mM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(t,s,e,r):s})}async function VW(t,e,n=!1){const r=await pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e,n=!1){const{auth:r}=t;if(ji(r.app))return Promise.reject(Js(r));const i="reauthenticate";try{const s=await pc(t,mM(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const o=mS(s.idToken);Ke(o,r,"internal-error");const{sub:a}=o;return Ke(t.uid===a,r,"user-mismatch"),Sl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e,n=!1){if(ji(t.app))return Promise.reject(Js(t));const r="signIn",i=await mM(t,r,e),s=await Sl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function BW(t,e){return gM(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $W(t,e,n){if(ji(t.app))return Promise.reject(Js(t));const r=Aa(t),o=await nb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yM(t),l}),a=await Sl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zW(t,e,n){return ji(t.app)?Promise.reject(Js(t)):BW(Dt(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){return yo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await pc(r,HW(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t,e){return Dt(t).setPersistence(e)}function KW(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function GW(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function QW(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function YW(t){return Dt(t).signOut()}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=1e3,JW=10;class _M extends vM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_M.type="LOCAL";const wM=_M;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends vM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EM.type="SESSION";const bM=EM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ZW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=wS("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function tK(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function nK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iK(){return TM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebaseLocalStorageDb",sK=1,lg="firebaseLocalStorage",xM="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dy(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function oK(){const t=indexedDB.deleteDatabase(SM);return new ch(t).toPromise()}function rb(){const t=indexedDB.open(SM,sK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lg,{keyPath:xM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await oK(),e(await rb()))})})}async function tA(t,e,n){const r=dy(t,!0).put({[xM]:e,value:n});return new ch(r).toPromise()}async function aK(t,e){const n=dy(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function nA(t,e){const n=dy(t,!0).delete(e);return new ch(n).toPromise()}const lK=800,uK=3;class RM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fy._getInstance(iK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nK(),!this.activeServiceWorker)return;this.sender=new eK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rb();return await tA(e,ag,"1"),await nA(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dy(i,!1).getAll();return new ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RM.type="LOCAL";const cK=RM;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){return e?Gs(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends yS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fK(t){return gM(t.auth,new ES(t),t.bypassAuthState)}function dK(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),UW(n,new ES(t),t.bypassAuthState)}async function hK(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),VW(n,new ES(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fK;case"linkViaPopup":case"linkViaRedirect":return hK;case"reauthViaPopup":case"reauthViaRedirect":return dK;default:yi(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new ah(2e3,1e4);async function mK(t,e,n){if(ji(t.app))return Promise.reject($i(t,"operation-not-supported-in-this-environment"));const r=Aa(t);Gq(t,e,_S);const i=IM(r,n);return new il(r,"signInViaPopup",e,i).executeNotNull()}class il extends CM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=wS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pK.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="pendingRedirect",am=new Map;class yK extends CM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await vK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vK(t,e){const n=EK(e),r=wK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _K(t,e){am.set(t._key(),e)}function wK(t){return Gs(t._redirectPersistence)}function EK(t){return om(gK,t.config.apiKey,t.name)}async function bK(t,e,n=!1){if(ji(t.app))return Promise.reject(Js(t));const r=Aa(t),i=IM(r,e),o=await new yK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=10*60*1e3;class SK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TK&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}}function rA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CK=/^https?/;async function AK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RK(t);for(const n of e)try{if(PK(n))return}catch{}yi(t,"unauthorized-domain")}function PK(t){const e=eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CK.test(n))return!1;if(IK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new ah(3e4,6e4);function iA(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OK(t){return new Promise((e,n)=>{var r,i,s;function o(){iA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iA(),n($i(t,"network-request-failed"))},timeout:kK.get()})}if(!((i=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_s().gapi)===null||s===void 0)&&s.load)o();else{const a=bW("iframefcb");return _s()[a]=()=>{gapi.load?o():n($i(t,"network-request-failed"))},hM(`${EW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lm=null,e})}let lm=null;function NK(t){return lm=lm||OK(t),lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=new ah(5e3,15e3),LK="__/auth/iframe",MK="emulator/auth/iframe",FK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VK(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pS(e,MK):`https://${t.config.authDomain}/${LK}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},i=jK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function UK(t){const e=await NK(t),n=_s().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:VK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$i(t,"network-request-failed"),a=_s().setTimeout(()=>{s(o)},DK.get());function l(){_s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$K=500,zK=600,HK="_blank",qK="http://localhost";class sA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WK(t,e,n,r=$K,i=zK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},BK),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ur().toLowerCase();n&&(a=oM(u)?HK:n),iM(u)&&(e=e||qK,l.scrollbars="yes");const f=Object.entries(l).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(dW(u)&&a!=="_self")return KK(e||"",a),new sA(null);const p=window.open(e||"",a,f);Ke(p,t,"popup-blocked");try{p.focus()}catch{}return new sA(p)}function KK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK="__/auth/handler",QK="emulator/auth/handler",YK=encodeURIComponent("fac");async function oA(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:i};if(e instanceof _S){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof uh){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${YK}=${encodeURIComponent(l)}`:"";return`${XK(t)}?${Oc(a).slice(1)}${u}`}function XK({config:t}){return t.emulator?pS(t,QK):`https://${t.authDomain}/${GK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="webStorageSupport";class JK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bM,this._completeRedirectFn=bK,this._overrideRedirectResult=_K}async _openPopup(e,n,r,i){var s;uo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await oA(e,n,r,eb(),i);return WK(e,o,wS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await oA(e,n,r,eb(),i);return tK(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(uo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UK(e),r=new SK(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p_,{type:p_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[p_];o!==void 0&&n(!!o),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fM()||sM()||gS()}}const ZK=JK;var aA="@firebase/auth",lA="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nG(t){fa(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dM(t)},u=new vW(r,i,s,l);return IW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new ao("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new eG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(aA,lA,tG(t)),pi(aA,lA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=5*60,iG=BL("authIdTokenMaxAge")||rG;let uA=null;const sG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iG)return;const i=n==null?void 0:n.token;uA!==i&&(uA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oG(t=uy()){const e=oh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RW(t,{popupRedirectResolver:ZK,persistence:[cK,wM,bM]}),r=BL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sG(s.toString());GW(n,o,()=>o(n.currentUser)),KW(n,a=>o(a))}}const i=VL("auth");return i&&CW(n,`http://${i}`),n}function aG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_W({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nG("Browser");function PM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Wo(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PM(t))&&(r&&(r+=" "),r+=e);return r}const Dd=t=>typeof t=="number"&&!isNaN(t),dl=t=>typeof t=="string",qr=t=>typeof t=="function",um=t=>dl(t)||qr(t)?t:null,ib=t=>O.isValidElement(t)||dl(t)||qr(t)||Dd(t);function lG(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function hy(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:f,nodeRef:p,isIn:y,playToast:_}=o;const E=r?`${e}--${l}`:e,S=r?`${n}--${l}`:n,C=O.useRef(0);return O.useLayoutEffect(()=>{const x=p.current,w=E.split(" "),v=I=>{I.target===p.current&&(_(),x.removeEventListener("animationend",v),x.removeEventListener("animationcancel",v),C.current===0&&I.type!=="animationcancel"&&x.classList.remove(...w))};x.classList.add(...w),x.addEventListener("animationend",v),x.addEventListener("animationcancel",v)},[]),O.useEffect(()=>{const x=p.current,w=()=>{x.removeEventListener("animationend",w),i?lG(x,f,s):f()};y||(u?w():(C.current=1,x.className+=` ${S}`,x.addEventListener("animationend",w)))},[y]),Pe.createElement(Pe.Fragment,null,a)}}function cA(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const vr=new Map;let Ld=[];const sb=new Set,uG=t=>sb.forEach(e=>e(t)),kM=()=>vr.size>0;function OM(t,e){var n;if(e)return!((n=vr.get(e))==null||!n.isToastActive(t));let r=!1;return vr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function NM(t,e){ib(t)&&(kM()||Ld.push({content:t,options:e}),vr.forEach(n=>{n.buildToast(t,e)}))}function fA(t,e){vr.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function cG(t){const{subscribe:e,getSnapshot:n,setProps:r}=O.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(f,p,y){let _=1,E=0,S=[],C=[],x=[],w=p;const v=new Map,I=new Set,k=()=>{x=Array.from(v.values()),I.forEach(T=>T())},B=T=>{C=T==null?[]:C.filter(N=>N!==T),k()},D=T=>{const{toastId:N,onOpen:L,updateId:M,children:U}=T.props,F=M==null;T.staleId&&v.delete(T.staleId),v.set(N,T),C=[...C,T.props.toastId].filter(ie=>ie!==T.staleId),k(),y(cA(T,F?"added":"updated")),F&&qr(L)&&L(O.isValidElement(U)&&U.props)};return{id:f,props:w,observe:T=>(I.add(T),()=>I.delete(T)),toggle:(T,N)=>{v.forEach(L=>{N!=null&&N!==L.props.toastId||qr(L.toggle)&&L.toggle(T)})},removeToast:B,toasts:v,clearQueue:()=>{E-=S.length,S=[]},buildToast:(T,N)=>{if(($=>{let{containerId:K,toastId:Z,updateId:Ae}=$;const Ce=K?K!==f:f!==1,W=v.has(Z)&&Ae==null;return Ce||W})(N))return;const{toastId:L,updateId:M,data:U,staleId:F,delay:ie}=N,de=()=>{B(L)},ue=M==null;ue&&E++;const Y={...w,style:w.toastStyle,key:_++,...Object.fromEntries(Object.entries(N).filter($=>{let[K,Z]=$;return Z!=null})),toastId:L,updateId:M,data:U,closeToast:de,isIn:!1,className:um(N.className||w.toastClassName),bodyClassName:um(N.bodyClassName||w.bodyClassName),progressClassName:um(N.progressClassName||w.progressClassName),autoClose:!N.isLoading&&(Q=N.autoClose,ee=w.autoClose,Q===!1||Dd(Q)&&Q>0?Q:ee),deleteToast(){const $=v.get(L),{onClose:K,children:Z}=$.props;qr(K)&&K(O.isValidElement(Z)&&Z.props),y(cA($,"removed")),v.delete(L),E--,E<0&&(E=0),S.length>0?D(S.shift()):k()}};var Q,ee;Y.closeButton=w.closeButton,N.closeButton===!1||ib(N.closeButton)?Y.closeButton=N.closeButton:N.closeButton===!0&&(Y.closeButton=!ib(w.closeButton)||w.closeButton);let me=T;O.isValidElement(T)&&!dl(T.type)?me=O.cloneElement(T,{closeToast:de,toastProps:Y,data:U}):qr(T)&&(me=T({closeToast:de,toastProps:Y,data:U}));const ne={content:me,props:Y,staleId:F};w.limit&&w.limit>0&&E>w.limit&&ue?S.push(ne):Dd(ie)?setTimeout(()=>{D(ne)},ie):D(ne)},setProps(T){w=T},setToggle:(T,N)=>{v.get(T).toggle=N},isToastActive:T=>C.some(N=>N===T),getSnapshot:()=>w.newestOnTop?x.reverse():x}}(o,s,uG);vr.set(o,l);const u=l.observe(a);return Ld.forEach(f=>NM(f.content,f.options)),Ld=[],()=>{u(),vr.delete(o)}},setProps(a){var l;(l=vr.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=vr.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=O.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:OM,count:i==null?void 0:i.length}}function fG(t){const[e,n]=O.useState(!1),[r,i]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:f,closeOnClick:p}=t;var y,_;function E(){n(!0)}function S(){n(!1)}function C(v){const I=s.current;o.canDrag&&I&&(o.didMove=!0,e&&S(),o.delta=t.draggableDirection==="x"?v.clientX-o.start:v.clientY-o.start,o.start!==v.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",x);const v=s.current;if(o.canDrag&&o.didMove&&v){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();v.style.transition="transform 0.2s, opacity 0.2s",v.style.removeProperty("transform"),v.style.removeProperty("opacity")}}(_=vr.get((y={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||_.setToggle(y.id,y.fn),O.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||S(),window.addEventListener("focus",E),window.addEventListener("blur",S),()=>{window.removeEventListener("focus",E),window.removeEventListener("blur",S)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(v){if(t.draggable===!0||t.draggable===v.pointerType){o.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",x);const I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=v.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=v.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(v){const{top:I,bottom:k,left:B,right:D}=s.current.getBoundingClientRect();v.nativeEvent.type!=="touchend"&&t.pauseOnHover&&v.clientX>=B&&v.clientX<=D&&v.clientY>=I&&v.clientY<=k?S():E()}};return a&&l&&(w.onMouseEnter=S,t.stacked||(w.onMouseLeave=E)),p&&(w.onClick=v=>{f&&f(v),o.canCloseOnClick&&u()}),{playToast:E,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function dG(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:f,isIn:p,theme:y}=t;const _=s||l&&u===0,E={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(E.transform=`scaleX(${u})`);const S=Wo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),C=qr(o)?o({rtl:f,type:i,defaultClassName:S}):Wo(S,o),x={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&r()}};return Pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),Pe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:C,style:E,...x}))}let hG=1;const DM=()=>""+hG++;function pG(t){return t&&(dl(t.toastId)||Dd(t.toastId))?t.toastId:DM()}function Jf(t,e){return NM(t,e),e.toastId}function ug(t,e){return{...e,type:e&&e.type||t,toastId:pG(e)}}function Ap(t){return(e,n)=>Jf(e,ug(t,n))}function Lt(t,e){return Jf(t,ug("default",e))}Lt.loading=(t,e)=>Jf(t,ug("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Lt.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=dl(i)?Lt.loading(i,n):Lt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,p,y)=>{if(p==null)return void Lt.dismiss(r);const _={type:f,...a,...n,data:y},E=dl(p)?{render:p}:p;return r?Lt.update(r,{..._,...E}):Lt(E.render,{..._,...E}),y},u=qr(t)?t():t;return u.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),u},Lt.success=Ap("success"),Lt.info=Ap("info"),Lt.error=Ap("error"),Lt.warning=Ap("warning"),Lt.warn=Lt.warning,Lt.dark=(t,e)=>Jf(t,ug("default",{theme:"dark",...e})),Lt.dismiss=function(t){(function(e){var n;if(kM()){if(e==null||dl(n=e)||Dd(n))vr.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=vr.get(e.containerId);r?r.removeToast(e.id):vr.forEach(i=>{i.removeToast(e.id)})}}else Ld=Ld.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Lt.clearWaitingQueue=function(t){t===void 0&&(t={}),vr.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Lt.isActive=OM,Lt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=vr.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:DM()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Jf(o,s)}},Lt.done=t=>{Lt.update(t,{progress:1})},Lt.onChange=function(t){return sb.add(t),()=>{sb.delete(t)}},Lt.play=t=>fA(!0,t),Lt.pause=t=>fA(!1,t);const mG=typeof window<"u"?O.useLayoutEffect:O.useEffect,Pp=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},m_={info:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Pe.createElement(Pp,{...t},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}},gG=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=fG(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:f,hideProgressBar:p,closeToast:y,transition:_,position:E,className:S,style:C,bodyClassName:x,bodyStyle:w,progressClassName:v,progressStyle:I,updateId:k,role:B,progress:D,rtl:T,toastId:N,deleteToast:L,isIn:M,isLoading:U,closeOnClick:F,theme:ie}=t,de=Wo("Toastify__toast",`Toastify__toast-theme--${ie}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":F}),ue=qr(S)?S({rtl:T,position:E,type:f,defaultClassName:de}):Wo(de,S),Y=function(ne){let{theme:$,type:K,isLoading:Z,icon:Ae}=ne,Ce=null;const W={theme:$,type:K};return Ae===!1||(qr(Ae)?Ce=Ae({...W,isLoading:Z}):O.isValidElement(Ae)?Ce=O.cloneElement(Ae,W):Z?Ce=m_.spinner():(ce=>ce in m_)(K)&&(Ce=m_[K](W))),Ce}(t),Q=!!D||!l,ee={closeToast:y,type:f,theme:ie};let me=null;return o===!1||(me=qr(o)?o(ee):O.isValidElement(o)?O.cloneElement(o,ee):function(ne){let{closeToast:$,theme:K,ariaLabel:Z="close"}=ne;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${K}`,type:"button",onClick:Ae=>{Ae.stopPropagation(),$(Ae)},"aria-label":Z},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ee)),Pe.createElement(_,{isIn:M,done:L,position:E,preventExitTransition:n,nodeRef:r,playToast:s},Pe.createElement("div",{id:N,onClick:u,"data-in":M,className:ue,...i,style:C,ref:r},Pe.createElement("div",{...M&&{role:B},className:qr(x)?x({type:f}):Wo("Toastify__toast-body",x),style:w},Y!=null&&Pe.createElement("div",{className:Wo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},Y),Pe.createElement("div",null,a)),me,Pe.createElement(dG,{...k&&!Q?{key:`pb-${k}`}:{},rtl:T,theme:ie,delay:l,isRunning:e,isIn:M,closeToast:y,hide:p,type:f,style:I,className:v,controlledProgress:Q,progress:D||0})))},py=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},yG=hy(py("bounce",!0)),vG=hy(py("slide",!0));hy(py("zoom"));hy(py("flip"));const _G={position:"top-right",transition:yG,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function wG(t){let e={..._G,...t};const n=t.stacked,[r,i]=O.useState(!0),s=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=cG(e),{className:u,style:f,rtl:p,containerId:y}=e;function _(S){const C=Wo("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":p});return qr(u)?u({position:S,rtl:p,defaultClassName:C}):Wo(C,um(u))}function E(){n&&(i(!0),Lt.play())}return mG(()=>{if(n){var S;const C=s.current.querySelectorAll('[data-in="true"]'),x=12,w=(S=e.position)==null?void 0:S.includes("top");let v=0,I=0;Array.from(C).reverse().forEach((k,B)=>{const D=k;D.classList.add("Toastify__toast--stacked"),B>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=w?"top":"bot");const T=v*(r?.2:1)+(r?0:x*B);D.style.setProperty("--y",`${w?T:-1*T}px`),D.style.setProperty("--g",`${x}`),D.style.setProperty("--s",""+(1-(r?I:0))),v+=D.offsetHeight,I+=.025})}},[r,l,n]),Pe.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),Lt.pause())},onMouseLeave:E},o((S,C)=>{const x=C.length?{...f}:{...f,pointerEvents:"none"};return Pe.createElement("div",{className:_(S),style:x,key:`container-${S}`},C.map(w=>{let{content:v,props:I}=w;return Pe.createElement(gG,{...I,stacked:n,collapseAll:E,isIn:a(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},v)}))}))}var EG="firebase",bG="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(EG,bG,"app");var dA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hl,LM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function N(){}N.prototype=T.prototype,D.D=T.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(L,M,U){for(var F=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)F[ie-2]=arguments[ie];return T.prototype[M].apply(L,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,T,N){N||(N=0);var L=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)L[M]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(M=0;16>M;++M)L[M]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=D.g[0],N=D.g[1],M=D.g[2];var U=D.g[3],F=T+(U^N&(M^U))+L[0]+3614090360&4294967295;T=N+(F<<7&4294967295|F>>>25),F=U+(M^T&(N^M))+L[1]+3905402710&4294967295,U=T+(F<<12&4294967295|F>>>20),F=M+(N^U&(T^N))+L[2]+606105819&4294967295,M=U+(F<<17&4294967295|F>>>15),F=N+(T^M&(U^T))+L[3]+3250441966&4294967295,N=M+(F<<22&4294967295|F>>>10),F=T+(U^N&(M^U))+L[4]+4118548399&4294967295,T=N+(F<<7&4294967295|F>>>25),F=U+(M^T&(N^M))+L[5]+1200080426&4294967295,U=T+(F<<12&4294967295|F>>>20),F=M+(N^U&(T^N))+L[6]+2821735955&4294967295,M=U+(F<<17&4294967295|F>>>15),F=N+(T^M&(U^T))+L[7]+4249261313&4294967295,N=M+(F<<22&4294967295|F>>>10),F=T+(U^N&(M^U))+L[8]+1770035416&4294967295,T=N+(F<<7&4294967295|F>>>25),F=U+(M^T&(N^M))+L[9]+2336552879&4294967295,U=T+(F<<12&4294967295|F>>>20),F=M+(N^U&(T^N))+L[10]+4294925233&4294967295,M=U+(F<<17&4294967295|F>>>15),F=N+(T^M&(U^T))+L[11]+2304563134&4294967295,N=M+(F<<22&4294967295|F>>>10),F=T+(U^N&(M^U))+L[12]+1804603682&4294967295,T=N+(F<<7&4294967295|F>>>25),F=U+(M^T&(N^M))+L[13]+4254626195&4294967295,U=T+(F<<12&4294967295|F>>>20),F=M+(N^U&(T^N))+L[14]+2792965006&4294967295,M=U+(F<<17&4294967295|F>>>15),F=N+(T^M&(U^T))+L[15]+1236535329&4294967295,N=M+(F<<22&4294967295|F>>>10),F=T+(M^U&(N^M))+L[1]+4129170786&4294967295,T=N+(F<<5&4294967295|F>>>27),F=U+(N^M&(T^N))+L[6]+3225465664&4294967295,U=T+(F<<9&4294967295|F>>>23),F=M+(T^N&(U^T))+L[11]+643717713&4294967295,M=U+(F<<14&4294967295|F>>>18),F=N+(U^T&(M^U))+L[0]+3921069994&4294967295,N=M+(F<<20&4294967295|F>>>12),F=T+(M^U&(N^M))+L[5]+3593408605&4294967295,T=N+(F<<5&4294967295|F>>>27),F=U+(N^M&(T^N))+L[10]+38016083&4294967295,U=T+(F<<9&4294967295|F>>>23),F=M+(T^N&(U^T))+L[15]+3634488961&4294967295,M=U+(F<<14&4294967295|F>>>18),F=N+(U^T&(M^U))+L[4]+3889429448&4294967295,N=M+(F<<20&4294967295|F>>>12),F=T+(M^U&(N^M))+L[9]+568446438&4294967295,T=N+(F<<5&4294967295|F>>>27),F=U+(N^M&(T^N))+L[14]+3275163606&4294967295,U=T+(F<<9&4294967295|F>>>23),F=M+(T^N&(U^T))+L[3]+4107603335&4294967295,M=U+(F<<14&4294967295|F>>>18),F=N+(U^T&(M^U))+L[8]+1163531501&4294967295,N=M+(F<<20&4294967295|F>>>12),F=T+(M^U&(N^M))+L[13]+2850285829&4294967295,T=N+(F<<5&4294967295|F>>>27),F=U+(N^M&(T^N))+L[2]+4243563512&4294967295,U=T+(F<<9&4294967295|F>>>23),F=M+(T^N&(U^T))+L[7]+1735328473&4294967295,M=U+(F<<14&4294967295|F>>>18),F=N+(U^T&(M^U))+L[12]+2368359562&4294967295,N=M+(F<<20&4294967295|F>>>12),F=T+(N^M^U)+L[5]+4294588738&4294967295,T=N+(F<<4&4294967295|F>>>28),F=U+(T^N^M)+L[8]+2272392833&4294967295,U=T+(F<<11&4294967295|F>>>21),F=M+(U^T^N)+L[11]+1839030562&4294967295,M=U+(F<<16&4294967295|F>>>16),F=N+(M^U^T)+L[14]+4259657740&4294967295,N=M+(F<<23&4294967295|F>>>9),F=T+(N^M^U)+L[1]+2763975236&4294967295,T=N+(F<<4&4294967295|F>>>28),F=U+(T^N^M)+L[4]+1272893353&4294967295,U=T+(F<<11&4294967295|F>>>21),F=M+(U^T^N)+L[7]+4139469664&4294967295,M=U+(F<<16&4294967295|F>>>16),F=N+(M^U^T)+L[10]+3200236656&4294967295,N=M+(F<<23&4294967295|F>>>9),F=T+(N^M^U)+L[13]+681279174&4294967295,T=N+(F<<4&4294967295|F>>>28),F=U+(T^N^M)+L[0]+3936430074&4294967295,U=T+(F<<11&4294967295|F>>>21),F=M+(U^T^N)+L[3]+3572445317&4294967295,M=U+(F<<16&4294967295|F>>>16),F=N+(M^U^T)+L[6]+76029189&4294967295,N=M+(F<<23&4294967295|F>>>9),F=T+(N^M^U)+L[9]+3654602809&4294967295,T=N+(F<<4&4294967295|F>>>28),F=U+(T^N^M)+L[12]+3873151461&4294967295,U=T+(F<<11&4294967295|F>>>21),F=M+(U^T^N)+L[15]+530742520&4294967295,M=U+(F<<16&4294967295|F>>>16),F=N+(M^U^T)+L[2]+3299628645&4294967295,N=M+(F<<23&4294967295|F>>>9),F=T+(M^(N|~U))+L[0]+4096336452&4294967295,T=N+(F<<6&4294967295|F>>>26),F=U+(N^(T|~M))+L[7]+1126891415&4294967295,U=T+(F<<10&4294967295|F>>>22),F=M+(T^(U|~N))+L[14]+2878612391&4294967295,M=U+(F<<15&4294967295|F>>>17),F=N+(U^(M|~T))+L[5]+4237533241&4294967295,N=M+(F<<21&4294967295|F>>>11),F=T+(M^(N|~U))+L[12]+1700485571&4294967295,T=N+(F<<6&4294967295|F>>>26),F=U+(N^(T|~M))+L[3]+2399980690&4294967295,U=T+(F<<10&4294967295|F>>>22),F=M+(T^(U|~N))+L[10]+4293915773&4294967295,M=U+(F<<15&4294967295|F>>>17),F=N+(U^(M|~T))+L[1]+2240044497&4294967295,N=M+(F<<21&4294967295|F>>>11),F=T+(M^(N|~U))+L[8]+1873313359&4294967295,T=N+(F<<6&4294967295|F>>>26),F=U+(N^(T|~M))+L[15]+4264355552&4294967295,U=T+(F<<10&4294967295|F>>>22),F=M+(T^(U|~N))+L[6]+2734768916&4294967295,M=U+(F<<15&4294967295|F>>>17),F=N+(U^(M|~T))+L[13]+1309151649&4294967295,N=M+(F<<21&4294967295|F>>>11),F=T+(M^(N|~U))+L[4]+4149444226&4294967295,T=N+(F<<6&4294967295|F>>>26),F=U+(N^(T|~M))+L[11]+3174756917&4294967295,U=T+(F<<10&4294967295|F>>>22),F=M+(T^(U|~N))+L[2]+718787259&4294967295,M=U+(F<<15&4294967295|F>>>17),F=N+(U^(M|~T))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var N=T-this.blockSize,L=this.B,M=this.h,U=0;U<T;){if(M==0)for(;U<=N;)i(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<T;)if(L[M++]=D.charCodeAt(U++),M==this.blockSize){i(this,L),M=0;break}}else for(;U<T;)if(L[M++]=D[U++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var N=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=N&255,N/=256;for(this.u(D),D=Array(16),T=N=0;4>T;++T)for(var L=0;32>L;L+=8)D[N++]=this.g[T]>>>L&255;return D};function s(D,T){var N=a;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=T(D)}function o(D,T){this.h=T;for(var N=[],L=!0,M=D.length-1;0<=M;M--){var U=D[M]|0;L&&U==T||(N[M]=U,L=!1)}this.g=N}var a={};function l(D){return-128<=D&&128>D?s(D,function(T){return new o([T|0],0>T?-1:0)}):new o([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return C(u(-D));for(var T=[],N=1,L=0;D>=N;L++)T[L]=D/N|0,N*=4294967296;return new o(T,0)}function f(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return C(f(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(T,8)),L=p,M=0;M<D.length;M+=8){var U=Math.min(8,D.length-M),F=parseInt(D.substring(M,M+U),T);8>U?(U=u(Math.pow(T,U)),L=L.j(U).add(u(F))):(L=L.j(N),L=L.add(u(F)))}return L}var p=l(0),y=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var D=0,T=1,N=0;N<this.g.length;N++){var L=this.i(N);D+=(0<=L?L:4294967296+L)*T,T*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(S(this))return"-"+C(this).toString(D);for(var T=u(Math.pow(D,6)),N=this,L="";;){var M=I(N,T).g;N=x(N,M.j(T));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=M,E(N))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=x(this,D),S(D)?-1:E(D)?0:1};function C(D){for(var T=D.g.length,N=[],L=0;L<T;L++)N[L]=~D.g[L];return new o(N,~D.h).add(y)}t.abs=function(){return S(this)?C(this):this},t.add=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0,M=0;M<=T;M++){var U=L+(this.i(M)&65535)+(D.i(M)&65535),F=(U>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);L=F>>>16,U&=65535,F&=65535,N[M]=F<<16|U}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(D,T){return D.add(C(T))}t.j=function(D){if(E(this)||E(D))return p;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(0>this.l(_)&&0>D.l(_))return u(this.m()*D.m());for(var T=this.g.length+D.g.length,N=[],L=0;L<2*T;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<D.g.length;M++){var U=this.i(L)>>>16,F=this.i(L)&65535,ie=D.i(M)>>>16,de=D.i(M)&65535;N[2*L+2*M]+=F*de,w(N,2*L+2*M),N[2*L+2*M+1]+=U*de,w(N,2*L+2*M+1),N[2*L+2*M+1]+=F*ie,w(N,2*L+2*M+1),N[2*L+2*M+2]+=U*ie,w(N,2*L+2*M+2)}for(L=0;L<T;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=T;L<2*T;L++)N[L]=0;return new o(N,0)};function w(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function v(D,T){this.g=D,this.h=T}function I(D,T){if(E(T))throw Error("division by zero");if(E(D))return new v(p,p);if(S(D))return T=I(C(D),T),new v(C(T.g),C(T.h));if(S(T))return T=I(D,C(T)),new v(C(T.g),T.h);if(30<D.g.length){if(S(D)||S(T))throw Error("slowDivide_ only works with positive integers.");for(var N=y,L=T;0>=L.l(D);)N=k(N),L=k(L);var M=B(N,1),U=B(L,1);for(L=B(L,2),N=B(N,2);!E(L);){var F=U.add(L);0>=F.l(D)&&(M=M.add(N),U=F),L=B(L,1),N=B(N,1)}return T=x(D,M.j(T)),new v(M,T)}for(M=p;0<=D.l(T);){for(N=Math.max(1,Math.floor(D.m()/T.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=u(N),F=U.j(T);S(F)||0<F.l(D);)N-=L,U=u(N),F=U.j(T);E(U)&&(U=y),M=M.add(U),D=x(D,F)}return new v(M,D)}t.A=function(D){return I(this,D).h},t.and=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)&D.i(L);return new o(N,this.h&D.h)},t.or=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)|D.i(L);return new o(N,this.h|D.h)},t.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),N=[],L=0;L<T;L++)N[L]=this.i(L)^D.i(L);return new o(N,this.h^D.h)};function k(D){for(var T=D.g.length+1,N=[],L=0;L<T;L++)N[L]=D.i(L)<<1|D.i(L-1)>>>31;return new o(N,D.h)}function B(D,T){var N=T>>5;T%=32;for(var L=D.g.length-N,M=[],U=0;U<L;U++)M[U]=0<T?D.i(U+N)>>>T|D.i(U+N+1)<<32-T:D.i(U+N);return new o(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,hl=o}).apply(typeof dA<"u"?dA:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MM,FM,Df,jM,cm,ob,VM,UM,BM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,A){return d==Array.prototype||d==Object.prototype||(d[b]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var A=r;d=d.split(".");for(var V=0;V<d.length-1;V++){var X=d[V];if(!(X in A))break e;A=A[X]}d=d[d.length-1],V=A[d],b=b(V),b!=V&&b!=null&&e(A,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var A=0,V=!1,X={next:function(){if(!V&&A<d.length){var se=A++;return{value:b(se,d[se]),done:!1}}return V=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function f(d,b,A){return d.call.apply(d.bind,arguments)}function p(d,b,A){if(!d)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,V),d.apply(b,X)}}return function(){return d.apply(b,arguments)}}function y(d,b,A){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function _(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),d.apply(this,V)}}function E(d,b){function A(){}A.prototype=b.prototype,d.aa=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(V,X,se){for(var Te=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Te[Tt-2]=arguments[Tt];return b.prototype[X].apply(V,Te)}}function S(d){const b=d.length;if(0<b){const A=Array(b);for(let V=0;V<b;V++)A[V]=d[V];return A}return[]}function C(d,b){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(l(V)){const X=d.length||0,se=V.length||0;d.length=X+se;for(let Te=0;Te<se;Te++)d[X+Te]=V[Te]}else d.push(V)}}class x{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function B(d,b,A){for(const V in d)b.call(A,d[V],V,d)}function D(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function T(d){const b={};for(const A in d)b[A]=d[A];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,b){let A,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(A in V)d[A]=V[A];for(let se=0;se<N.length;se++)A=N[se],Object.prototype.hasOwnProperty.call(V,A)&&(d[A]=V[A])}}function M(d){var b=1;d=d.split(":");const A=[];for(;0<b&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function U(d){a.setTimeout(()=>{throw d},0)}function F(){var d=ee;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ie{constructor(){this.h=this.g=null}add(b,A){const V=de.get();V.set(b,A),this.h?this.h.next=V:this.g=V,this.h=V}}var de=new x(()=>new ue,d=>d.reset());class ue{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Q=!1,ee=new ie,me=()=>{const d=a.Promise.resolve(void 0);Y=()=>{d.then(ne)}};var ne=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(A){U(A)}var b=de;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}Q=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};a.addEventListener("test",A,b),a.removeEventListener("test",A,b)}catch{}return d}();function Ae(d,b){if(K.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,V=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(k){e:{try{I(b.nodeName);var X=!0;break e}catch{}X=!1}X||(b=null)}}else A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}E(Ae,K);var Ce={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ce=0;function xe(d,b,A,V,X){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!V,this.ha=X,this.key=++ce,this.da=this.fa=!1}function Ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Se(d){this.src=d,this.g={},this.h=0}Se.prototype.add=function(d,b,A,V,X){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var Te=Et(d,b,V,X);return-1<Te?(b=d[Te],A||(b.fa=!1)):(b=new xe(b,this.src,se,!!V,X),b.fa=A,d.push(b)),b};function Ge(d,b){var A=b.type;if(A in d.g){var V=d.g[A],X=Array.prototype.indexOf.call(V,b,void 0),se;(se=0<=X)&&Array.prototype.splice.call(V,X,1),se&&(Ee(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Et(d,b,A,V){for(var X=0;X<d.length;++X){var se=d[X];if(!se.da&&se.listener==b&&se.capture==!!A&&se.ha==V)return X}return-1}var He="closure_lm_"+(1e6*Math.random()|0),We={};function Gt(d,b,A,V,X){if(Array.isArray(b)){for(var se=0;se<b.length;se++)Gt(d,b[se],A,V,X);return null}return A=Be(A),d&&d[W]?d.K(b,A,u(V)?!!V.capture:!!V,X):st(d,b,A,!1,V,X)}function st(d,b,A,V,X,se){if(!b)throw Error("Invalid event type");var Te=u(X)?!!X.capture:!!X,Tt=fe(d);if(Tt||(d[He]=Tt=new Se(d)),A=Tt.add(b,A,V,Te,se),A.proxy)return A;if(V=z(),A.proxy=V,V.src=d,V.listener=A,d.addEventListener)Z||(X=Te),X===void 0&&(X=!1),d.addEventListener(b.toString(),V,X);else if(d.attachEvent)d.attachEvent(ge(b.toString()),V);else if(d.addListener&&d.removeListener)d.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function z(){function d(A){return b.call(d.src,d.listener,A)}const b=_e;return d}function J(d,b,A,V,X){if(Array.isArray(b))for(var se=0;se<b.length;se++)J(d,b[se],A,V,X);else V=u(V)?!!V.capture:!!V,A=Be(A),d&&d[W]?(d=d.i,b=String(b).toString(),b in d.g&&(se=d.g[b],A=Et(se,A,V,X),-1<A&&(Ee(se[A]),Array.prototype.splice.call(se,A,1),se.length==0&&(delete d.g[b],d.h--)))):d&&(d=fe(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Et(b,A,V,X)),(A=-1<d?b[d]:null)&&le(A))}function le(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[W])Ge(b.i,d);else{var A=d.type,V=d.proxy;b.removeEventListener?b.removeEventListener(A,V,d.capture):b.detachEvent?b.detachEvent(ge(A),V):b.addListener&&b.removeListener&&b.removeListener(V),(A=fe(b))?(Ge(A,d),A.h==0&&(A.src=null,b[He]=null)):Ee(d)}}}function ge(d){return d in We?We[d]:We[d]="on"+d}function _e(d,b){if(d.da)d=!0;else{b=new Ae(b,this);var A=d.listener,V=d.ha||d.src;d.fa&&le(d),d=A.call(V,b)}return d}function fe(d){return d=d[He],d instanceof Se?d:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(d){return typeof d=="function"?d:(d[ke]||(d[ke]=function(b){return d.handleEvent(b)}),d[ke])}function Qe(){$.call(this),this.i=new Se(this),this.M=this,this.F=null}E(Qe,$),Qe.prototype[W]=!0,Qe.prototype.removeEventListener=function(d,b,A,V){J(this,d,b,A,V)};function qe(d,b){var A,V=d.F;if(V)for(A=[];V;V=V.F)A.push(V);if(d=d.M,V=b.type||b,typeof b=="string")b=new K(b,d);else if(b instanceof K)b.target=b.target||d;else{var X=b;b=new K(V,d),L(b,X)}if(X=!0,A)for(var se=A.length-1;0<=se;se--){var Te=b.g=A[se];X=Wt(Te,V,!0,b)&&X}if(Te=b.g=d,X=Wt(Te,V,!0,b)&&X,X=Wt(Te,V,!1,b)&&X,A)for(se=0;se<A.length;se++)Te=b.g=A[se],X=Wt(Te,V,!1,b)&&X}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var A=d.g[b],V=0;V<A.length;V++)Ee(A[V]);delete d.g[b],d.h--}}this.F=null},Qe.prototype.K=function(d,b,A,V){return this.i.add(String(d),b,!1,A,V)},Qe.prototype.L=function(d,b,A,V){return this.i.add(String(d),b,!0,A,V)};function Wt(d,b,A,V){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var X=!0,se=0;se<b.length;++se){var Te=b[se];if(Te&&!Te.da&&Te.capture==A){var Tt=Te.listener,rn=Te.ha||Te.src;Te.fa&&Ge(d.i,Te),X=Tt.call(rn,V)!==!1&&X}}return X&&!V.defaultPrevented}function Kn(d,b,A){if(typeof d=="function")A&&(d=y(d,A));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function dn(d){d.g=Kn(()=>{d.g=null,d.i&&(d.i=!1,dn(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class nt extends ${constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(d){$.call(this),this.h=d,this.g={}}E(fr,$);var nn=[];function En(d){B(d.g,function(b,A){this.g.hasOwnProperty(A)&&le(b)},d),d.g={}}fr.prototype.N=function(){fr.aa.N.call(this),En(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=a.JSON.stringify,Na=a.JSON.parse,Hl=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Eo(){}Eo.prototype.h=null;function ql(d){return d.h||(d.h=d.i())}function bo(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){K.call(this,"d")}E(As,K);function Gi(){K.call(this,"c")}E(Gi,K);var Gn={},Ps=null;function Qi(){return Ps=Ps||new Qe}Gn.La="serverreachability";function ks(d){K.call(this,Gn.La,d)}E(ks,K);function Yi(d){const b=Qi();qe(b,new ks(b))}Gn.STAT_EVENT="statevent";function Da(d,b){K.call(this,Gn.STAT_EVENT,d),this.stat=b}E(Da,K);function Qt(d){const b=Qi();qe(b,new Da(b,d))}Gn.Ma="timingevent";function Ei(d,b){K.call(this,Gn.Ma,d),this.size=b}E(Ei,K);function ti(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function To(d,b,A,V,X,se){d.info(function(){if(d.g)if(se)for(var Te="",Tt=se.split("&"),rn=0;rn<Tt.length;rn++){var gt=Tt[rn].split("=");if(1<gt.length){var hn=gt[0];gt=gt[1];var Pn=hn.split("_");Te=2<=Pn.length&&Pn[1]=="type"?Te+(hn+"="+gt+"&"):Te+(hn+"=redacted&")}}else Te=null;else Te=se;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+b+`
`+A+`
`+Te})}function H(d,b,A,V,X,se,Te){d.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+b+`
`+A+`
`+se+" "+Te})}function G(d,b,A,V){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+he(d,A)+(V?" "+V:"")})}function re(d,b){d.info(function(){return"TIMEOUT: "+b})}bi.prototype.info=function(){};function he(d,b){if(!d.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var V=A[d];if(!(2>V.length)){var X=V[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var Te=1;Te<X.length;Te++)X[Te]=""}}}}return Cn(A)}catch{return b}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ze;function be(){}E(be,Eo),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ze=new be;function je(d,b,A,V){this.j=d,this.i=b,this.l=A,this.R=V||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Me={},ot={};function at(d,b,A){d.L=1,d.v=ii(ri(b)),d.m=A,d.P=!0,ct(d,null)}function ct(d,b){d.F=Date.now(),kt(d),d.A=ri(d.v);var A=d.A,V=d.R;Array.isArray(V)||(V=[String(V)]),an(A.i,"t",V),d.C=0,A=d.j.J,d.h=new Le,d.g=Qh(d.j,A?b:null,!d.m),0<d.O&&(d.M=new nt(y(d.Y,d,d.g),d.O)),b=d.U,A=d.g,V=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(nn[0]=X.toString()),X=nn);for(var se=0;se<X.length;se++){var Te=Gt(A,X[se],V||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Yi(),To(d.i,d.u,d.A,d.l,d.R,d.m)}je.prototype.ca=function(d){d=d.target;const b=this.M;b&&Ri(d)==3?b.j():this.Y(d)},je.prototype.Y=function(d){try{if(d==this.g)e:{const Pn=Ri(this.g);var b=this.g.Ba();const ss=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Uh(this.g)))){this.J||Pn!=4||b==7||(b==8||0>=ss?Yi(3):Yi(2)),Qn(this);var A=this.g.Z();this.X=A;t:if(it(this)){var V=Uh(this.g);d="";var X=V.length,se=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Yn(this);var Te="";break t}this.h.i=new a.TextDecoder}for(b=0;b<X;b++)this.h.h=!0,d+=this.h.i.decode(V[b],{stream:!(se&&b==X-1)});V.length=0,this.h.g+=d,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,H(this.i,this.u,this.A,this.l,this.R,Pn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,rn=this.g;if((Tt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Tt)){var gt=Tt;break t}}gt=null}if(A=gt)G(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,A);else{this.o=!1,this.s=3,Qt(12),bn(this),Yn(this);break e}}if(this.P){A=!0;let kn;for(;!this.J&&this.C<Te.length;)if(kn=Yt(this,Te),kn==ot){Pn==4&&(this.s=4,Qt(14),A=!1),G(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Me){this.s=4,Qt(15),G(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else G(this.i,this.l,kn,null),Si(this,kn);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Te.length!=0||this.h.h||(this.s=1,Qt(16),A=!1),this.o=this.o&&A,!A)G(this.i,this.l,Te,"[Invalid Chunked Response]"),bn(this),Yn(this);else if(0<Te.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),is(hn),hn.M=!0,Qt(11))}}else G(this.i,this.l,Te,null),Si(this,Te);Pn==4&&bn(this),this.o&&!this.J&&(Pn==4?qh(this.j,this):(this.o=!1,kt(this)))}else av(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),bn(this),Yn(this)}}}catch{}finally{}};function it(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yt(d,b){var A=d.C,V=b.indexOf(`
`,A);return V==-1?ot:(A=Number(b.substring(A,V)),isNaN(A)?Me:(V+=1,V+A>b.length?ot:(b=b.slice(V,V+A),d.C=V+A,b)))}je.prototype.cancel=function(){this.J=!0,bn(this)};function kt(d){d.S=Date.now()+d.I,Ti(d,d.I)}function Ti(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ti(y(d.ba,d),b)}function Qn(d){d.B&&(a.clearTimeout(d.B),d.B=null)}je.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(re(this.i,this.A),this.L!=2&&(Yi(),Qt(17)),bn(this),this.s=2,Yn(this)):Ti(this,this.S-d)};function Yn(d){d.j.G==0||d.J||qh(d.j,d)}function bn(d){Qn(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,En(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Si(d,b){try{var A=d.j;if(A.G!=0&&(A.g==d||Ye(A.h,d))){if(!d.K&&Ye(A.h,d)&&A.G==3){try{var V=A.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Zl(A),Jl(A);else break e;ef(A),Qt(18)}}else A.za=X[1],0<A.za-A.T&&37500>X[2]&&A.F&&A.v==0&&!A.C&&(A.C=ti(y(A.Za,A),6e3));if(1>=xi(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ns(A,11)}else if((d.K||A.g==d)&&Zl(A),!w(b))for(X=A.Da.g.parse(b),b=0;b<X.length;b++){let gt=X[b];if(A.T=gt[0],gt=gt[1],A.G==2)if(gt[0]=="c"){A.K=gt[1],A.ia=gt[2];const hn=gt[3];hn!=null&&(A.la=hn,A.j.info("VER="+A.la));const Pn=gt[4];Pn!=null&&(A.Aa=Pn,A.j.info("SVER="+A.Aa));const ss=gt[5];ss!=null&&typeof ss=="number"&&0<ss&&(V=1.5*ss,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const kn=d.g;if(kn){const tu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var se=V.h;se.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Rt(se,se.h),se.h=null))}if(V.D){const tf=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(V.ya=tf,It(V.I,V.D,tf))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var Te=d;if(V.qa=Gh(V,V.J?V.ia:null,V.W),Te.K){Tn(V.h,Te);var Tt=Te,rn=V.L;rn&&(Tt.I=rn),Tt.B&&(Qn(Tt),kt(Tt)),V.g=Te}else Hh(V);0<A.i.length&&rs(A)}else gt[0]!="stop"&&gt[0]!="close"||Ns(A,7);else A.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Ns(A,7):Xl(A):gt[0]!="noop"&&A.l&&A.l.ta(gt),A.v=0)}}Yi(4)}catch{}}var Je=class{constructor(d,b){this.g=d,this.map=b}};function ni(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xi(d){return d.h?1:d.g?d.g.size:0}function Ye(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Rt(d,b){d.g?d.g.add(b):d.h=b}function Tn(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}ni.prototype.cancel=function(){if(this.i=mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function mt(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.D);return b}return S(d.i)}function Xn(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],A=d.length,V=0;V<A;V++)b.push(d[V]);return b}b=[],A=0;for(V in d)b[A++]=d[V];return b}function Wl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var A=0;A<d;A++)b.push(A);return b}b=[],A=0;for(const V in d)b[A++]=V;return b}}}function Ji(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var A=Wl(d),V=Xn(d),X=V.length,se=0;se<X;se++)b.call(void 0,V[se],A&&A[se],d)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zy(d,b){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var V=d[A].indexOf("="),X=null;if(0<=V){var se=d[A].substring(0,V);X=d[A].substring(V+1)}else se=d[A];b(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Zi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Zi){this.h=d.h,So(this,d.j),this.o=d.o,this.g=d.g,Kl(this,d.s),this.l=d.l;var b=d.i,A=new ja;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),Qc(this,A),this.m=d.m}else d&&(b=String(d).match(La))?(this.h=!1,So(this,b[1]||"",!0),this.o=xo(b[2]||""),this.g=xo(b[3]||"",!0),Kl(this,b[4]),this.l=xo(b[5]||"",!0),Qc(this,b[6]||"",!0),this.m=xo(b[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}Zi.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Ma(b,Yc,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Ma(b,Yc,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Ma(A,A.charAt(0)=="/"?Fa:Dh,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Ma(A,Lh)),d.join("")};function ri(d){return new Zi(d)}function So(d,b,A){d.j=A?xo(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Kl(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function Qc(d,b,A){b instanceof ja?(d.i=b,tv(d.i,d.h)):(A||(b=Ma(b,ev)),d.i=new ja(b,d.h))}function It(d,b,A){d.i.set(b,A)}function ii(d){return It(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xo(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ma(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,Nh),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Yc=/[#\/\?@]/g,Dh=/[#\?:]/g,Fa=/[#\?]/g,ev=/[#\?@]/g,Lh=/#/g;function ja(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function es(d){d.g||(d.g=new Map,d.h=0,d.i&&Zy(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=ja.prototype,t.add=function(d,b){es(this),this.i=null,d=Ur(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function Mh(d,b){es(d),b=Ur(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Va(d,b){return es(d),b=Ur(d,b),d.g.has(b)}t.forEach=function(d,b){es(this),this.g.forEach(function(A,V){A.forEach(function(X){d.call(b,X,V,this)},this)},this)},t.na=function(){es(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let V=0;V<b.length;V++){const X=d[V];for(let se=0;se<X.length;se++)A.push(b[V])}return A},t.V=function(d){es(this);let b=[];if(typeof d=="string")Va(this,d)&&(b=b.concat(this.g.get(Ur(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)b=b.concat(d[A])}return b},t.set=function(d,b){return es(this),this.i=null,d=Ur(this,d),Va(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function an(d,b,A){Mh(d,b),0<A.length&&(d.i=null,d.g.set(Ur(d,b),S(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var V=b[A];const se=encodeURIComponent(String(V)),Te=this.V(V);for(V=0;V<Te.length;V++){var X=se;Te[V]!==""&&(X+="="+encodeURIComponent(String(Te[V]))),d.push(X)}}return this.i=d.join("&")};function Ur(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function tv(d,b){b&&!d.j&&(es(d),d.i=null,d.g.forEach(function(A,V){var X=V.toLowerCase();V!=X&&(Mh(this,V),an(this,X,A))},d)),d.j=b}function nv(d,b){const A=new bi;if(a.Image){const V=new Image;V.onload=_(ts,A,"TestLoadImage: loaded",!0,b,V),V.onerror=_(ts,A,"TestLoadImage: error",!1,b,V),V.onabort=_(ts,A,"TestLoadImage: abort",!1,b,V),V.ontimeout=_(ts,A,"TestLoadImage: timeout",!1,b,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=d}else b(!1)}function rv(d,b){const A=new bi,V=new AbortController,X=setTimeout(()=>{V.abort(),ts(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:V.signal}).then(se=>{clearTimeout(X),se.ok?ts(A,"TestPingServer: ok",!0,b):ts(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),ts(A,"TestPingServer: error",!1,b)})}function ts(d,b,A,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(A)}catch{}}function iv(){this.g=new Hl}function sv(d,b,A){const V=A||"";try{Ji(d,function(X,se){let Te=X;u(X)&&(Te=Cn(X)),b.push(V+se+"="+encodeURIComponent(Te))})}catch(X){throw b.push(V+"type="+encodeURIComponent("_badmap")),X}}function Ua(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Ua,Eo),Ua.prototype.g=function(){return new Gl(this.l,this.j)},Ua.prototype.i=function(d){return function(){return d}}({});function Gl(d,b){Qe.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Gl,Qe),t=Gl.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,Ba(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ns(this):Ba(this),this.readyState==3&&Xc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ns(this))},t.Qa=function(d){this.g&&(this.response=d,ns(this))},t.ga=function(){this.g&&ns(this)};function ns(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ba(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function Ba(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ql(d){let b="";return B(d,function(A,V){b+=V,b+=":",b+=A,b+=`\r
`}),b}function Jc(d,b,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Ql(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):It(d,b,A))}function Ot(d){Qe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ot,Qe);var $a=/^https?$/i,ov=["POST","PUT"];t=Ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?ql(this.o):ql(ze),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(se){Fh(this,se);return}if(d=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)A.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())A.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(se=>se.toLowerCase()=="content-type"),X=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ov,b,void 0))||V||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Te]of A)this.g.setRequestHeader(se,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vh(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){Fh(this,se)}};function Fh(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,jh(d),Yl(d)}function jh(d){d.A||(d.A=!0,qe(d,"complete"),qe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,qe(this,"complete"),qe(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ri(d)!=4||d.Z()!=2)){if(d.u&&Ri(d)==4)Kn(d.Ea,0,d);else if(qe(d,"readystatechange"),Ri(d)==4){d.h=!1;try{const Te=d.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var V;if(V=Te===0){var X=String(d.D).match(La)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),V=!$a.test(X?X.toLowerCase():"")}A=V}if(A)qe(d,"complete"),qe(d,"success");else{d.m=6;try{var se=2<Ri(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",jh(d)}}finally{Yl(d)}}}}function Yl(d,b){if(d.g){Vh(d);const A=d.g,V=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||qe(d,"ready");try{A.onreadystatechange=V}catch{}}}function Vh(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ri(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Na(b)}};function Uh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function av(d){const b={};d=(d.g&&2<=Ri(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<d.length;V++){if(w(d[V]))continue;var A=M(d[V]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const se=b[X]||[];b[X]=se,se.push(A)}D(b,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function Bh(d){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,d),this.cb=za("retryDelaySeedMs",1e4,d),this.Wa=za("forwardChannelMaxRetries",2,d),this.wa=za("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(d&&d.concurrentRequestLimit),this.Da=new iv,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bh.prototype,t.la=8,t.G=1,t.connect=function(d,b,A,V){Qt(0),this.W=d,this.H=b||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=Gh(this,null,this.W),rs(this)};function Xl(d){if(Ha(d),d.G==3){var b=d.U++,A=ri(d.I);if(It(A,"SID",d.K),It(A,"RID",b),It(A,"TYPE","terminate"),qa(d,A),b=new je(d,d.j,b),b.L=2,b.v=ii(ri(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=b.v,A=!0),A||(b.g=Qh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),kt(b)}Kh(d)}function Jl(d){d.g&&(is(d),d.g.cancel(),d.g=null)}function Ha(d){Jl(d),d.u&&(a.clearTimeout(d.u),d.u=null),Zl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function rs(d){if(!Xi(d.h)&&!d.s){d.s=!0;var b=d.Ga;Y||me(),Q||(Y(),Q=!0),ee.add(b,d),d.B=0}}function lv(d,b){return xi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ti(y(d.Ga,d,b),Wh(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new je(this,this.j,d);let se=this.o;if(this.S&&(se?(se=T(se),L(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=zh(this,X,b),A=ri(this.I),It(A,"RID",d),It(A,"CVER",22),this.D&&It(A,"X-HTTP-Session-Id",this.D),qa(this,A),se&&(this.O?b="headers="+encodeURIComponent(String(Ql(se)))+"&"+b:this.m&&Jc(A,this.m,se)),Rt(this.h,X),this.Ua&&It(A,"TYPE","init"),this.P?(It(A,"$req",b),It(A,"SID","null"),X.T=!0,at(X,A,null)):at(X,A,b),this.G=2}}else this.G==3&&(d?$h(this,d):this.i.length==0||Xi(this.h)||$h(this))};function $h(d,b){var A;b?A=b.l:A=d.U++;const V=ri(d.I);It(V,"SID",d.K),It(V,"RID",A),It(V,"AID",d.T),qa(d,V),d.m&&d.o&&Jc(V,d.m,d.o),A=new je(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),b&&(d.i=b.D.concat(d.i)),b=zh(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Rt(d.h,A),at(A,V,b)}function qa(d,b){d.H&&B(d.H,function(A,V){It(b,V,A)}),d.l&&Ji({},function(A,V){It(b,V,A)})}function zh(d,b,A){A=Math.min(d.i.length,A);var V=d.l?y(d.l.Na,d.l,d):null;e:{var X=d.i;let se=-1;for(;;){const Te=["count="+A];se==-1?0<A?(se=X[0].g,Te.push("ofs="+se)):se=0:Te.push("ofs="+se);let Tt=!0;for(let rn=0;rn<A;rn++){let gt=X[rn].g;const hn=X[rn].map;if(gt-=se,0>gt)se=Math.max(0,X[rn].g-100),Tt=!1;else try{sv(hn,Te,"req"+gt+"_")}catch{V&&V(hn)}}if(Tt){V=Te.join("&");break e}}}return d=d.i.splice(0,A),b.D=d,V}function Hh(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;Y||me(),Q||(Y(),Q=!0),ee.add(b,d),d.v=0}}function ef(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ti(y(d.Fa,d),Wh(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Os(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ti(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Jl(this),Os(this))};function is(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Os(d){d.g=new je(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=ri(d.qa);It(b,"RID","rpc"),It(b,"SID",d.K),It(b,"AID",d.T),It(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&It(b,"TO",d.ja),It(b,"TYPE","xmlhttp"),qa(d,b),d.m&&d.o&&Jc(b,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=ii(ri(b)),A.m=null,A.P=!0,ct(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),ef(this),Qt(19))};function Zl(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function qh(d,b){var A=null;if(d.g==b){Zl(d),is(d),d.g=null;var V=2}else if(Ye(d.h,b))A=b.D,Tn(d.h,b),V=1;else return;if(d.G!=0){if(b.o)if(V==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var X=d.B;V=Qi(),qe(V,new Ei(V,A)),rs(d)}else Hh(d);else if(X=b.s,X==3||X==0&&0<b.X||!(V==1&&lv(d,b)||V==2&&ef(d)))switch(A&&0<A.length&&(b=d.h,b.i=b.i.concat(A)),X){case 1:Ns(d,5);break;case 4:Ns(d,10);break;case 3:Ns(d,6);break;default:Ns(d,2)}}}function Wh(d,b){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*b}function Ns(d,b){if(d.j.info("Error code "+b),b==2){var A=y(d.fb,d),V=d.Xa;const X=!V;V=new Zi(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||So(V,"https"),ii(V),X?nv(V.toString(),A):rv(V.toString(),A)}else Qt(2);d.G=0,d.l&&d.l.sa(b),Kh(d),Ha(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Kh(d){if(d.G=0,d.ka=[],d.l){const b=mt(d.h);(b.length!=0||d.i.length!=0)&&(C(d.ka,b),C(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function Gh(d,b,A){var V=A instanceof Zi?ri(A):new Zi(A);if(V.g!="")b&&(V.g=b+"."+V.g),Kl(V,V.s);else{var X=a.location;V=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;var se=new Zi(null);V&&So(se,V),b&&(se.g=b),X&&Kl(se,X),A&&(se.l=A),V=se}return A=d.D,b=d.ya,A&&b&&It(V,A,b),It(V,"VER",d.la),qa(d,V),V}function Qh(d,b,A){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Ot(new Ua({eb:A})):new Ot(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(d,b){return new An(d,b)};function An(d,b){Qe.call(this),this.g=new Bh(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!w(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ro(this)}E(An,Qe),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Xl(this.g)},An.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Cn(d),d=A);b.i.push(new Je(b.Ya++,d)),b.G==3&&rs(b)},An.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,An.aa.N.call(this)};function Xh(d){As.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const A in b){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}E(Xh,As);function eu(){Gi.call(this),this.status=1}E(eu,Gi);function Ro(d){this.g=d}E(Ro,Yh),Ro.prototype.ua=function(){qe(this.g,"a")},Ro.prototype.ta=function(d){qe(this.g,new Xh(d))},Ro.prototype.sa=function(d){qe(this.g,new eu)},Ro.prototype.ra=function(){qe(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,BM=function(){return new Wa},UM=function(){return Qi()},VM=Gn,ob={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,cm=Re,Oe.COMPLETE="complete",jM=Oe,bo.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Df=bo,FM=Ua,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,MM=Ot}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});const hA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new ly("@firebase/firestore");function wf(){return xl.logLevel}function Ve(t,...e){if(xl.logLevel<=dt.DEBUG){const n=e.map(bS);xl.debug(`Firestore (${Dc}): ${t}`,...n)}}function co(t,...e){if(xl.logLevel<=dt.ERROR){const n=e.map(bS);xl.error(`Firestore (${Dc}): ${t}`,...n)}}function mc(t,...e){if(xl.logLevel<=dt.WARN){const n=e.map(bS);xl.warn(`Firestore (${Dc}): ${t}`,...n)}}function bS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: `+t;throw co(e),new Error(e)}function Nt(t,e){t||Xe()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class SG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xG{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string"),new $M(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new tr(e)}}class RG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt(typeof n.token=="string"),this.R=n.token,new CG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function gc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new In(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new In(0,0))}static max(){return new et(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(),r===void 0?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends Md{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const kG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Md{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return kG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new De(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new De(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e($t.fromString(e))}static fromName(e){return new $e($t.fromString(e).popFirst(5))}static empty(){return new $e($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new $t(e.slice()))}}function OG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new In(n+1,0):new In(n,r));return new da(i,$e.empty(),e)}function NG(t){return new da(t.readTime,t.key,-1)}class da{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new da(et.min(),$e.empty(),-1)}static max(){return new da(et.max(),$e.empty(),-1)}}function DG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==LG)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ye((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function FG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}TS.oe=-1;function my(t){return t==null}function cg(t){return t===0&&1/t==-1/0}function jG(t){return typeof t=="number"&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class ab{constructor(e,n){this.comparator=e,this.root=n||oa.EMPTY}insert(e,n){return new ab(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oa.BLACK,null,null))}remove(e){return new ab(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}},Op=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},oa=class Vs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vs.RED,this.left=i??Vs.EMPTY,this.right=s??Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}};oa.EMPTY=null,oa.RED=!0,oa.BLACK=!1;oa.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new oa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mA(this.data.getIterator())}getIteratorFrom(e){return new mA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class mA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new Hn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qM("Invalid base64 string: "+s):s}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const VG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(Nt(!!t),typeof t=="string"){let e=0;const n=VG.exec(t);if(Nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rl(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xS(t){const e=t.mapValue.fields.__previous_value__;return SS(e)?xS(e):e}function Fd(t){const e=ha(t.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class jd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SS(t)?4:$G(t)?9007199254740991:BG(t)?10:11:Xe()}function Ts(t,e){if(t===e)return!0;const n=Il(t);if(n!==Il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ha(i.timestampValue),a=ha(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rl(i.bytesValue).isEqual(Rl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return un(i.geoPointValue.latitude)===un(s.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return un(i.integerValue)===un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=un(i.doubleValue),a=un(s.doubleValue);return o===a?cg(o)===cg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return gc(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pA(o)!==pA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ts(o[l],a[l])))return!1;return!0}(t,e);default:return Xe()}}function Vd(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function yc(t,e){if(t===e)return 0;const n=Il(t),r=Il(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=un(s.integerValue||s.doubleValue),l=un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gA(t.timestampValue,e.timestampValue);case 4:return gA(Fd(t),Fd(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Rl(s),l=Rl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=bt(a[u],l[u]);if(f!==0)return f}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(un(s.latitude),un(o.latitude));return a!==0?a:bt(un(s.longitude),un(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const p=s.fields||{},y=o.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(l=y.value)===null||l===void 0?void 0:l.arrayValue,S=bt(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return S!==0?S:yA(_,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Np.mapValue&&o===Np.mapValue)return 0;if(s===Np.mapValue)return 1;if(o===Np.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const y=bt(l[p],f[p]);if(y!==0)return y;const _=yc(a[l[p]],u[f[p]]);if(_!==0)return _}return bt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function gA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=ha(t),r=ha(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function yA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=yc(n[i],r[i]);if(s)return s}return bt(n.length,r.length)}function vc(t){return lb(t)}function lb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lb(n.fields[o])}`;return i+"}"}(t.mapValue):Xe()}function vA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ub(t){return!!t&&"integerValue"in t}function RS(t){return!!t&&"arrayValue"in t}function _A(t){return!!t&&"nullValue"in t}function wA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fm(t){return!!t&&"mapValue"in t}function BG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $G(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ar(Zf(this.value))}}function WM(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new $n([n]);if(fm(r)){const s=WM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,et.min(),et.min(),et.min(),Ar.empty(),0)}static newFoundDocument(e,n,r,i){return new rr(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new rr(e,2,n,et.min(),et.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,et.min(),et.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.position=e,this.inclusive=n}}function EA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),n.key):r=yc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function zG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class yn extends KM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qG(e,n,r):n==="array-contains"?new GG(e,r):n==="in"?new QG(e,r):n==="not-in"?new YG(e,r):n==="array-contains-any"?new XG(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WG(e,r):new KG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yc(n,this.value)):n!==null&&Il(this.value)===Il(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends KM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qi(e,n)}matches(e){return GM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GM(t){return t.op==="and"}function QM(t){return HG(t)&&GM(t)}function HG(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function cb(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(QM(t))return t.filters.map(e=>cb(e)).join(",");{const e=t.filters.map(n=>cb(n)).join(",");return`${t.op}(${e})`}}function YM(t,e){return t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)}(t,e):t instanceof qi?function(r,i){return i instanceof qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YM(o,i.filters[a]),!0):!1}(t,e):void Xe()}function XM(t){return t instanceof yn?function(n){return`${n.field.canonicalString()} ${n.op} ${vc(n.value)}`}(t):t instanceof qi?function(n){return n.op.toString()+" {"+n.getFilters().map(XM).join(" ,")+"}"}(t):"Filter"}class qG extends yn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class WG extends yn{constructor(e,n){super(e,"in",n),this.keys=JM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KG extends yn{constructor(e,n){super(e,"not-in",n),this.keys=JM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class GG extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RS(n)&&Vd(n.arrayValue,this.value)}}class QG extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vd(this.value.arrayValue,n)}}class YG extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vd(this.value.arrayValue,n)}}class XG extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function TA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JG(t,e,n,r,i,s,o)}function IS(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),my(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vc(r)).join(",")),e.ue=n}return e.ue}function CS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bA(t.startAt,e.startAt)&&bA(t.endAt,e.endAt)}function fb(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZG(t,e,n,r,i,s,o,a){return new Lc(t,e,n,r,i,s,o,a)}function AS(t){return new Lc(t)}function SA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZM(t){return t.collectionGroup!==null}function ed(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Hn($n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ud(s,r))}),n.has($n.keyField().canonicalString())||e.ce.push(new Ud($n.keyField(),r))}return e.ce}function ws(t){const e=tt(t);return e.le||(e.le=eQ(e,ed(t))),e.le}function eQ(t,e){if(t.limitType==="F")return TA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ud(i.field,s)});const n=t.endAt?new fg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fg(t.startAt.position,t.startAt.inclusive):null;return TA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function db(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gy(t,e){return CS(ws(t),ws(e))&&t.limitType===e.limitType}function e3(t){return`${IS(ws(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XM(i)).join(", ")}]`),my(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`}(ws(t))}; limitType=${t.limitType})`}function yy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ed(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=EA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ed(r),i)||r.endAt&&!function(o,a,l){const u=EA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ed(r),i))}(t,e)}function tQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t3(t){return(e,n)=>{let r=!1;for(const i of ed(t)){const s=nQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nQ(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?yc(l,u):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new wn($e.comparator);function fo(){return rQ}const n3=new wn($e.comparator);function Lf(...t){let e=n3;for(const n of t)e=e.insert(n.key,n);return e}function r3(t){let e=n3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sl(){return td()}function i3(){return td()}function td(){return new Mc(t=>t.toString(),(t,e)=>t.isEqual(e))}const iQ=new wn($e.comparator),sQ=new Hn($e.comparator);function ht(...t){let e=sQ;for(const n of t)e=e.add(n);return e}const oQ=new Hn(bt);function aQ(){return oQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function s3(t){return{integerValue:""+t}}function lQ(t,e){return jG(e)?s3(e):PS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._=void 0}}function uQ(t,e,n){return t instanceof hg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SS(s)&&(s=xS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bd?a3(t,e):t instanceof $d?l3(t,e):function(i,s){const o=o3(i,s),a=xA(o)+xA(i.Pe);return ub(o)&&ub(i.Pe)?s3(a):PS(i.serializer,a)}(t,e)}function cQ(t,e,n){return t instanceof Bd?a3(t,e):t instanceof $d?l3(t,e):n}function o3(t,e){return t instanceof pg?function(r){return ub(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hg extends vy{}class Bd extends vy{constructor(e){super(),this.elements=e}}function a3(t,e){const n=u3(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class $d extends vy{constructor(e){super(),this.elements=e}}function l3(t,e){let n=u3(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class pg extends vy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xA(t){return un(t.integerValue||t.doubleValue)}function u3(t){return RS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bd&&i instanceof Bd||r instanceof $d&&i instanceof $d?gc(r.elements,i.elements,Ts):r instanceof pg&&i instanceof pg?Ts(r.Pe,i.Pe):r instanceof hg&&i instanceof hg}(t.transform,e.transform)}class dQ{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _y{}function c3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d3(t.key,Es.none()):new hh(t.key,t.data,Es.none());{const n=t.data,r=Ar.empty();let i=new Hn($n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pa(t.key,r,new Wr(i.toArray()),Es.none())}}function hQ(t,e,n){t instanceof hh?function(i,s,o){const a=i.value.clone(),l=IA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pa?function(i,s,o){if(!dm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=IA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(f3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof hh?function(s,o,a,l){if(!dm(s.precondition,o))return a;const u=s.value.clone(),f=CA(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pa?function(s,o,a,l){if(!dm(s.precondition,o))return a;const u=CA(s.fieldTransforms,l,o),f=o.data;return f.setAll(f3(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return dm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=o3(r.transform,i||null);s!=null&&(n===null&&(n=Ar.empty()),n.set(r.field,s))}return n||null}function RA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gc(r,i,(s,o)=>fQ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends _y{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pa extends _y{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IA(t,e,n){const r=new Map;Nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cQ(o,a,n[i]))}return r}function CA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uQ(s,o,e))}return r}class d3 extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mQ extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=c3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(n,r)=>RA(n,r))&&gc(this.baseMutations,e.baseMutations,(n,r)=>RA(n,r))}}class kS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Nt(e.mutations.length===r.length);let i=function(){return iQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,yt;function _Q(t){switch(t){default:return Xe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function h3(t){if(t===void 0)return co("GRPC error has no .code"),pe.UNKNOWN;switch(t){case pn.OK:return pe.OK;case pn.CANCELLED:return pe.CANCELLED;case pn.UNKNOWN:return pe.UNKNOWN;case pn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case pn.INTERNAL:return pe.INTERNAL;case pn.UNAVAILABLE:return pe.UNAVAILABLE;case pn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case pn.NOT_FOUND:return pe.NOT_FOUND;case pn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case pn.ABORTED:return pe.ABORTED;case pn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case pn.DATA_LOSS:return pe.DATA_LOSS;default:return Xe()}}(yt=pn||(pn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=new hl([4294967295,4294967295],0);function AA(t){const e=wQ().encode(t),n=new LM;return n.update(e),new Uint8Array(n.digest())}function PA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hl([n,r],0),new hl([i,s],0)]}class OS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mf(`Invalid padding: ${n}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hl.fromNumber(r)));return i.compare(EQ)===1&&(i=new hl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=AA(e),[r,i]=PA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new OS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=AA(e),[r,i]=PA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wy(et.min(),i,new wn(bt),fo(),ht())}}class ph{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class p3{constructor(e,n){this.targetId=e,this.me=n}}class m3{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kA{constructor(){this.fe=0,this.ge=NA(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new ph(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bQ{constructor(e){this.Le=e,this.Be=new Map,this.ke=fo(),this.qe=OA(),this.Qe=new wn(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fb(s))if(r===0){const o=new $e(s.path);this.Ue(n,o,rr.newNoDocument(o,et.min()))}else Nt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Rl(r).toUint8Array()}catch(l){if(l instanceof qM)return mc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new OS(o,i,s)}catch(l){return mc(l instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fb(a.target)){const l=new $e(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ht();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new wy(e,n,this.Qe,this.ke,r);return this.ke=fo(),this.qe=OA(),this.Qe=new wn(bt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Hn(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function OA(){return new wn($e.comparator)}function NA(){return new wn($e.comparator)}const TQ={asc:"ASCENDING",desc:"DESCENDING"},SQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xQ={and:"AND",or:"OR"};class RQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||my(e)?e:{value:e}}function mg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IQ(t,e){return mg(t,e.toTimestamp())}function bs(t){return Nt(!!t),et.fromTimestamp(function(n){const r=ha(n);return new In(r.seconds,r.nanos)}(t))}function NS(t,e){return pb(t,e).canonicalString()}function pb(t,e){const n=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function y3(t){const e=$t.fromString(t);return Nt(b3(e)),e}function mb(t,e){return NS(t.databaseId,e.path)}function g_(t,e){const n=y3(e);if(n.get(1)!==t.databaseId.projectId)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(_3(n))}function v3(t,e){return NS(t.databaseId,e)}function CQ(t){const e=y3(t);return e.length===4?$t.emptyPath():_3(e)}function gb(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _3(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DA(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function AQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Nt(f===void 0||typeof f=="string"),Wn.fromBase64String(f||"")):(Nt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Wn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?pe.UNKNOWN:h3(u.code);return new De(f,u.message||"")}(o);n=new m3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g_(t,r.document.name),s=bs(r.document.updateTime),o=r.document.createTime?bs(r.document.createTime):et.min(),a=new Ar({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new hm(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g_(t,r.document),s=r.readTime?bs(r.readTime):et.min(),o=rr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g_(t,r.document),s=r.removedTargetIds||[];n=new hm([],s,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new vQ(i,s),a=r.targetId;n=new p3(a,o)}}return n}function PQ(t,e){let n;if(e instanceof hh)n={update:DA(t,e.key,e.value)};else if(e instanceof d3)n={delete:mb(t,e.key)};else if(e instanceof Pa)n={update:DA(t,e.key,e.data),updateMask:VQ(e.fieldMask)};else{if(!(e instanceof mQ))return Xe();n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $d)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:IQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe()}(t,e.precondition)),n}function kQ(t,e){return t&&t.length>0?(Nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?bs(i.updateTime):bs(s);return o.isEqual(et.min())&&(o=bs(s)),new dQ(o,i.transformResults||[])}(n,e))):[]}function OQ(t,e){return{documents:[v3(t,e.path)]}}function NQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v3(t,i);const s=function(u){if(u.length!==0)return E3(qi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(y){return{field:Ru(y.field),direction:MQ(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function DQ(t){let e=CQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const y=w3(p);return y instanceof qi&&QM(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new Ud(Iu(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,my(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){const y=!!p.before,_=p.values||[];return new fg(_,y)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const y=!p.before,_=p.values||[];return new fg(_,y)}(n.endAt)),ZG(e,i,o,s,a,"F",l,u)}function LQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Iu(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(n.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Iu(n.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(n){return yn.create(Iu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qi.create(n.compositeFilter.filters.map(r=>w3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(t):Xe()}function MQ(t){return TQ[t]}function FQ(t){return SQ[t]}function jQ(t){return xQ[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Iu(t){return $n.fromServerFormat(t.fieldPath)}function E3(t){return t instanceof yn?function(n){if(n.op==="=="){if(wA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(_A(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(_A(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:FQ(n.op),value:n.value}}}(t):t instanceof qi?function(n){const r=n.getFilters().map(i=>E3(i));return r.length===1?r[0]:{compositeFilter:{op:jQ(n.op),filters:r}}}(t):Xe()}function VQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,i,s=et.min(),o=et.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.ct=e}}function BQ(t){const e=DQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.un=new zQ}addToCollectionParentIndex(e,n){return this.un.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(da.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(da.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class zQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Hn($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _c(0)}static kn(){return new _c(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(){this.changes=new Mc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nd(r.mutation,i,Wr.empty(),In.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=sl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=sl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fo();const o=td(),a=function(){return td()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Pa)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),nd(f.mutation,u,f.mutation.getFieldMask(),In.now())):o.set(u.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var p;return a.set(u,new qQ(f,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=td();let i=new wn((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Wr.empty();f=a.applyToLocalView(u,f),r.set(l,f);const p=(i.get(a.batchId)||ht()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,p=i3();f.forEach(y=>{if(!s.has(y)){const _=c3(n.get(y),r.get(y));_!==null&&p.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(sl());let a=-1,l=s;return o.next(u=>ye.forEach(u,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?ye.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ht())).next(f=>({batchId:a,changes:r3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let i=Lf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Lf();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,l=>{const u=function(p,y){return new Lc(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,rr.newInvalidDocument(f)))});let a=Lf();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&nd(f.mutation,u,Wr.empty(),In.now()),yy(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ye.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:BQ(i.bundledQuery),readTime:bs(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this.overlays=new wn($e.comparator),this.Ir=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sl();return ye.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=sl(),s=n.length+1,o=new $e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wn((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=sl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=sl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ye.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yQ(n,r));let s=this.Ir.get(n);s===void 0&&(s=ht(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Tr=new Hn(Nn.Er),this.dr=new Hn(Nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Nn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new $e(new $t([])),r=new Nn(n,e),i=new Nn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new $e(new $t([])),r=new Nn(n,e),i=new Nn(n,e+1);let s=ht();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $e.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Hn(Nn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gQ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(bt);return n.forEach(i=>{const s=new Nn(i,0),o=new Nn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ye.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;$e.isDocumentKey(s)||(s=s.child(""));const o=new Nn(new $e(s),0);let a=new Hn(bt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ye.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ye.forEach(n.mutations,i=>{const s=new Nn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Nn(n,0),i=this.br.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e){this.Mr=e,this.docs=function(){return new wn($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fo();const o=n.path,a=new $e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DG(NG(f),r)<=0||(i.has(f.key)||yy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Xe()}Or(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JQ(this)}getSize(e){return ye.resolve(this.size)}}class JQ extends HQ{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.persistence=e,this.Nr=new Mc(n=>IS(n),CS),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DS,this.targetCount=0,this.kr=_c.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new _c(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Kn(n),ye.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n){this.qr={},this.overlays={},this.Qr=new TS(0),this.Kr=!1,this.Kr=!0,this.$r=new QQ,this.referenceDelegate=e(this),this.Ur=new ZQ(this),this.indexManager=new $Q,this.remoteDocumentCache=function(i){return new XQ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UQ(n),this.Gr=new KQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YQ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new tY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ye.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tY extends MG{constructor(e){super(),this.currentSequenceNumber=e}}class LS{constructor(e){this.persistence=e,this.Jr=new DS,this.Yr=null}static Zr(e){return new LS(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,r=>{const i=$e.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,et.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ye.or([()=>ye.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ht(),i=ht();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new MS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RH()?8:FG(ur())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nY;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wf()<=dt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(wf()<=dt.DEBUG&&Ve("QueryEngine","Query:",xu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wf()<=dt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):ye.resolve())}Yi(e,n){if(SA(n))return ye.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dg(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,dg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return SA(n)||i.isEqual(et.min())?ye.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ye.resolve(null):(wf()<=dt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xu(n)),this.rs(e,o,n,OG(i,-1)).next(a=>a))})}ts(e,n){let r=new Hn(t3(e));return n.forEach((i,s)=>{yy(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return wf()<=dt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",xu(n)),this.Ji.getDocumentsMatchingQuery(e,n,da.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new wn(bt),this._s=new Mc(s=>IS(s),CS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sY(t,e,n,r){return new iY(t,e,n,r)}async function T3(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ht();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function oY(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const p=u.batch,y=p.keys();let _=ye.resolve();return y.forEach(E=>{_=_.next(()=>f.getEntry(l,E)).next(S=>{const C=u.docVersions.get(E);Nt(C!==null),S.version.compareTo(C)<0&&(p.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),f.addEntry(S)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function S3(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aY(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,p)=>{const y=i.get(p);if(!y)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Wn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(y,_,f)&&a.push(n.Ur.updateTargetData(s,_))});let l=fo(),u=ht();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(lY(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(et.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function lY(t,e,n){let r=ht(),i=ht();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function uY(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cY(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yb(t,e,n){const r=tt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dh(o))throw o;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function LA(t,e,n){const r=tt(t);let i=et.min(),s=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const p=tt(l),y=p._s.get(f);return y!==void 0?ye.resolve(p.os.get(y)):p.Ur.getTargetData(u,f)}(r,o,ws(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:et.min(),n?s:ht())).next(a=>(fY(r,tQ(e),a),{documents:a,Ts:s})))}function fY(t,e,n){let r=t.us.get(e)||et.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class MA{constructor(){this.activeTargetIds=aQ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dY{constructor(){this.so=new MA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new MA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function y_(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class gY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=y_(),l=this.xo(n,r.toUriEncodedString());Ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>(Ve("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw mc("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=pY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=y_();return new Promise((o,a)=>{const l=new MM;l.setWithCredentials(!0),l.listenOnce(jM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cm.NO_ERROR:const f=l.getResponseJson();Ve(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case cm.TIMEOUT:Ve(er,`RPC '${e}' ${s} timed out`),a(new De(pe.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const p=l.getStatus();if(Ve(er,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const E=function(C){const x=C.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(x)>=0?x:pe.UNKNOWN}(_.status);a(new De(E,_.message))}else a(new De(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new De(pe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ve(er,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ve(er,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=y_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BM(),a=UM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new FM({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Ve(er,`Creating RPC '${e}' stream ${i}: ${f}`,l);const p=o.createWebChannel(f,l);let y=!1,_=!1;const E=new mY({Io:C=>{_?Ve(er,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(Ve(er,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Ve(er,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},To:()=>p.close()}),S=(C,x,w)=>{C.listen(x,v=>{try{w(v)}catch(I){setTimeout(()=>{throw I},0)}})};return S(p,Df.EventType.OPEN,()=>{_||(Ve(er,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),S(p,Df.EventType.CLOSE,()=>{_||(_=!0,Ve(er,`RPC '${e}' stream ${i} transport closed`),E.So())}),S(p,Df.EventType.ERROR,C=>{_||(_=!0,mc(er,`RPC '${e}' stream ${i} transport errored:`,C),E.So(new De(pe.UNAVAILABLE,"The operation could not be completed")))}),S(p,Df.EventType.MESSAGE,C=>{var x;if(!_){const w=C.data[0];Nt(!!w);const v=w,I=v.error||((x=v[0])===null||x===void 0?void 0:x.error);if(I){Ve(er,`RPC '${e}' stream ${i} received error:`,I);const k=I.status;let B=function(N){const L=pn[N];if(L!==void 0)return h3(L)}(k),D=I.message;B===void 0&&(B=pe.INTERNAL,D="Unknown error status: "+k+" with message "+I.message),_=!0,E.So(new De(B,D)),p.close()}else Ve(er,`RPC '${e}' stream ${i} received:`,w),E.bo(w)}}),S(a,VM.STAT_EVENT,C=>{C.stat===ob.PROXY?Ve(er,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===ob.NOPROXY&&Ve(er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function v_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){return new RQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new x3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new De(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yY extends R3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?bs(o.readTime):et.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=fb(l)?{documents:OQ(s,l)}:{query:NQ(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=g3(s,o.resumeToken);const u=hb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=mg(s,o.snapshotVersion.toTimestamp());const u=hb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=LQ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.a_(n)}}class vY extends R3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=kQ(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(pe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(co(n),this.D_=!1):Ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{jl(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=tt(l);u.L_.add(4),await mh(u),u.q_.set("Unknown"),u.L_.delete(4),await by(u)}(this))})}),this.q_=new wY(r,i)}}async function by(t){if(jl(t))for(const e of t.B_)await e(!0)}async function mh(t){for(const e of t.B_)await e(!1)}function I3(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),US(n)?VS(n):Fc(n).r_()&&jS(n,e))}function FS(t,e){const n=tt(t),r=Fc(n);n.N_.delete(e),r.r_()&&C3(n,e),n.N_.size===0&&(r.r_()?r.o_():jl(n)&&n.q_.set("Unknown"))}function jS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).A_(e)}function C3(t,e){t.Q_.xe(e),Fc(t).R_(e)}function VS(t){t.Q_=new bQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function US(t){return jl(t)&&!Fc(t).n_()&&t.N_.size>0}function jl(t){return tt(t).L_.size===0}function A3(t){t.Q_=void 0}async function bY(t){t.q_.set("Online")}async function TY(t){t.N_.forEach((e,n)=>{jS(t,e)})}async function SY(t,e){A3(t),US(t)?(t.q_.M_(e),VS(t)):t.q_.set("Unknown")}async function xY(t,e,n){if(t.q_.set("Online"),e instanceof m3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gg(t,r)}else if(e instanceof hm?t.Q_.Ke(e):e instanceof p3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(et.min()))try{const r=await S3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Wn.EMPTY_BYTE_STRING,f.snapshotVersion)),C3(s,l);const p=new Ko(f.target,l,u,f.sequenceNumber);jS(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),await gg(t,r)}}async function gg(t,e,n){if(!dh(e))throw e;t.L_.add(1),await mh(t),t.q_.set("Offline"),n||(n=()=>S3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await by(t)})}function P3(t,e){return e().catch(n=>gg(t,n,e))}async function Ty(t){const e=tt(t),n=pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RY(e);)try{const i=await uY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,IY(e,i)}catch(i){await gg(e,i)}k3(e)&&O3(e)}function RY(t){return jl(t)&&t.O_.length<10}function IY(t,e){t.O_.push(e);const n=pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function k3(t){return jl(t)&&!pa(t).n_()&&t.O_.length>0}function O3(t){pa(t).start()}async function CY(t){pa(t).p_()}async function AY(t){const e=pa(t);for(const n of t.O_)e.m_(n.mutations)}async function PY(t,e,n){const r=t.O_.shift(),i=kS.from(r,e,n);await P3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ty(t)}async function kY(t,e){e&&pa(t).V_&&await async function(r,i){if(function(o){return _Q(o)&&o!==pe.ABORTED}(i.code)){const s=r.O_.shift();pa(r).s_(),await P3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ty(r)}}(t,e),k3(t)&&O3(t)}async function jA(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=jl(n);n.L_.add(3),await mh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await by(n)}async function OY(t,e){const n=tt(t);e?(n.L_.delete(2),await by(n)):e||(n.L_.add(2),await mh(n),n.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=function(n,r,i){const s=tt(n);return s.w_(),new yY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bY.bind(null,t),Ro:TY.bind(null,t),mo:SY.bind(null,t),d_:xY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),US(t)?VS(t):t.q_.set("Unknown")):(await t.K_.stop(),A3(t))})),t.K_}function pa(t){return t.U_||(t.U_=function(n,r,i){const s=tt(n);return s.w_(),new vY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CY.bind(null,t),mo:kY.bind(null,t),f_:AY.bind(null,t),g_:PY.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ty(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new BS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $S(t,e){if(co("AsyncQueue",`${e}: ${t}`),dh(t))return new De(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Lf(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new ec(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.W_=new wn($e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,n,ec.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DY{constructor(){this.queries=UA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=tt(n),s=i.queries;i.queries=UA(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new De(pe.ABORTED,"Firestore shutting down"))}}function UA(){return new Mc(t=>e3(t),gy)}async function N3(t,e){const n=tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new NY,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=$S(o,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&zS(n)}async function D3(t,e){const n=tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LY(t,e){const n=tt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&zS(n)}function MY(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function zS(t){t.Y_.forEach(e=>{e.next()})}var vb,BA;(BA=vb||(vb={})).ea="default",BA.Cache="cache";class L3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.key=e}}class F3{constructor(e){this.key=e}}class FY{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=t3(e),this.Ra=new ec(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new VA,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const y=i.get(f),_=yy(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;y&&_?y.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),C=!0):this.ga(y,_)||(r.track({type:2,doc:_}),C=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!y&&_?(r.track({type:0,doc:_}),C=!0):y&&!_&&(r.track({type:1,doc:y}),C=!0,(l||u)&&(a=!0)),C&&(_?(o=o.add(_),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,p)=>function(_,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return S(_)-S(E)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new wc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new VA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new F3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new M3(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VY{constructor(e){this.key=e,this.va=!1}}class UY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Mc(a=>e3(a),gy),this.Ma=new Map,this.xa=new Set,this.Oa=new wn($e.comparator),this.Na=new Map,this.La=new DS,this.Ba={},this.ka=new Map,this.qa=_c.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BY(t,e,n=!0){const r=z3(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await j3(r,e,n,!0),i}async function $Y(t,e){const n=z3(t);await j3(n,e,!0,!1)}async function j3(t,e,n,r){const i=await cY(t.localStore,ws(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await zY(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&I3(t.remoteStore,i),a}async function zY(t,e,n,r,i){t.Ka=(p,y,_)=>async function(S,C,x,w){let v=C.view.ma(x);v.ns&&(v=await LA(S.localStore,C.query,!1).then(({documents:D})=>C.view.ma(D,v)));const I=w&&w.targetChanges.get(C.targetId),k=w&&w.targetMismatches.get(C.targetId)!=null,B=C.view.applyChanges(v,S.isPrimaryClient,I,k);return zA(S,C.targetId,B.wa),B.snapshot}(t,p,y,_);const s=await LA(t.localStore,e,!0),o=new FY(e,s.Ts),a=o.ma(s.documents),l=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);zA(t,n,u.wa);const f=new jY(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function HY(t,e,n){const r=tt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!gy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FS(r.remoteStore,i.targetId),_b(r,i.targetId)}).catch(fh)):(_b(r,i.targetId),await yb(r.localStore,i.targetId,!0))}async function qY(t,e){const n=tt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FS(n.remoteStore,r.targetId))}async function WY(t,e,n){const r=ZY(t);try{const i=await function(o,a){const l=tt(o),u=In.now(),f=a.reduce((_,E)=>_.add(E.key),ht());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=fo(),S=ht();return l.cs.getEntries(_,f).next(C=>{E=C,E.forEach((x,w)=>{w.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,E)).next(C=>{p=C;const x=[];for(const w of a){const v=pQ(w,p.get(w.key).overlayedDocument);v!=null&&x.push(new Pa(w.key,v,WM(v.value.mapValue),Es.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,x,a)}).next(C=>{y=C;const x=C.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(_,C.batchId,x)})}).then(()=>({batchId:y.batchId,changes:r3(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new wn(bt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await gh(r,i.changes),await Ty(r.remoteStore)}catch(i){const s=$S(i,"Failed to persist write");n.reject(s)}}async function V3(t,e){const n=tt(t);try{const r=await aY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Nt(o.va):i.removedDocuments.size>0&&(Nt(o.va),o.va=!1))}),await gh(n,r,e)}catch(r){await fh(r)}}function $A(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=tt(o);l.onlineState=a;let u=!1;l.queries.forEach((f,p)=>{for(const y of p.j_)y.Z_(a)&&(u=!0)}),u&&zS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KY(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new wn($e.comparator);o=o.insert(s,rr.newNoDocument(s,et.min()));const a=ht().add(s),l=new wy(et.min(),new Map,new wn(bt),o,a);await V3(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),HS(r)}else await yb(r.localStore,e,!1).then(()=>_b(r,e,n)).catch(fh)}async function GY(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await oY(n.localStore,e);B3(n,r,null),U3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gh(n,i)}catch(i){await fh(i)}}async function QY(t,e,n){const r=tt(t);try{const i=await function(o,a){const l=tt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Nt(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);B3(r,e,n),U3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gh(r,i)}catch(i){await fh(i)}}function U3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function B3(t,e,n){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$3(t,r)})}function $3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(FS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),HS(t))}function zA(t,e,n){for(const r of n)r instanceof M3?(t.La.addReference(r.key,e),YY(t,r)):r instanceof F3?(Ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$3(t,r.key)):Xe()}function YY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),HS(t))}function HS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new $e($t.fromString(e)),r=t.qa.next();t.Na.set(r,new VY(n)),t.Oa=t.Oa.insert(n,r),I3(t.remoteStore,new Ko(ws(AS(n.path)),r,"TargetPurposeLimboResolution",TS.oe))}}async function gh(t,e,n){const r=tt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=MS.Wi(l.targetId,u);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=tt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ye.forEach(u,y=>ye.forEach(y.$i,_=>f.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>ye.forEach(y.Ui,_=>f.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!dh(p))throw p;Ve("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const _=f.os.get(y),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(y,S)}}}(r.localStore,s))}async function XY(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=await T3(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new De(pe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gh(n,r.hs)}}function JY(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function z3(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KY.bind(null,e),e.Ca.d_=LY.bind(null,e.eventManager),e.Ca.$a=MY.bind(null,e.eventManager),e}function ZY(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QY.bind(null,e),e}class HA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ey(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sY(this.persistence,new rY,e.initialUser,this.serializer)}createPersistence(e){return new eY(LS.Zr,this.serializer)}createSharedClientState(e){return new dY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$A(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XY.bind(null,this.syncEngine),await OY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DY}()}createDatastore(e){const n=Ey(e.databaseInfo.databaseId),r=function(s){return new gY(s)}(e.databaseInfo);return function(s,o,a,l){return new _Y(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new EY(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$A(this.syncEngine,n,0),function(){return FA.D()?new FA:new hY}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const p=new UY(i,s,o,a,l,u);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=tt(i);Ve("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tr.UNAUTHENTICATED,this.clientId=zM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$S(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function __(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await T3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rX(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jA(e.remoteStore,i)),t._onlineComponents=e}function nX(t){return t.name==="FirebaseError"?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function rX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await __(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nX(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),await __(t,new HA)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await __(t,new HA);return t._offlineComponents}async function q3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await qA(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await qA(t,new eX))),t._onlineComponents}function iX(t){return q3(t).then(e=>e.syncEngine)}async function wb(t){const e=await q3(t),n=e.eventManager;return n.onListen=BY.bind(null,e.syncEngine),n.onUnlisten=HY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$Y.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qY.bind(null,e.syncEngine),n}function sX(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new H3({next:y=>{o.enqueueAndForget(()=>D3(s,p)),y.fromCache&&l.source==="server"?u.reject(new De(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new L3(a,f,{includeMetadataChanges:!0,_a:!0});return N3(s,p)}(await wb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e,n){if(!n)throw new De(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oX(t,e,n,r){if(e===!0&&r===!0)throw new De(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KA(t){if(!$e.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GA(t){if($e.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new De(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new De(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TG;switch(r.type){case"firstParty":return new IG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WA.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),WA.delete(n),r.terminate())}(this),Promise.resolve()}}function aX(t,e,n,r={}){var i;const s=(t=Zs(t,xy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tr.MOCK_USER;else{a=lS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new De(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tr(u)}t._authCredentials=new SG(new $M(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}}class aa extends vo{constructor(e,n,r){super(e,n,AS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new $e(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Ln(t,e,...n){if(t=Dt(t),K3("collection","path",e),t instanceof xy){const r=$t.fromString(e,...n);return GA(r),new aa(t,null,r)}{if(!(t instanceof jr||t instanceof aa))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return GA(r),new aa(t.firestore,null,r)}}function fs(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=zM.newId()),K3("doc","path",e),t instanceof xy){const r=$t.fromString(e,...n);return KA(r),new jr(t,null,new $e(r))}{if(!(t instanceof jr||t instanceof aa))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return KA(r),new jr(t.firestore,t instanceof aa?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new x3(this,"async_queue_retry"),this.Eu=()=>{const n=v_();n&&Ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=v_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=v_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new sa;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!dh(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw co("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=BS.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Xe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function YA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ec extends xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lX}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G3(this),this._firestoreClient.terminate()}}function uX(t,e){const n=typeof t=="object"?t:uy(),r=typeof t=="string"?t:"(default)",i=oh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oS("firestore");s&&aX(i,...s)}return i}function qS(t){return t._firestoreClient||G3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function G3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new UG(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,W3(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new tX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(Wn.fromBase64String(e))}catch(n){throw new De(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=/^__.*__$/;class fX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}class Q3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Y3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class QS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new QS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return yg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Y3(this.wu)&&cX.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class dX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ey(e)}Nu(e,n,r,i=!1){return new QS({wu:e,methodName:n,Ou:r,path:$n.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YS(t){const e=t._freezeSettings(),n=Ey(t._databaseId);return new dX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hX(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);XS("Data must be an object, but it was:",o,r);const a=X3(r,o);let l,u;if(s.merge)l=new Wr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const y=Eb(e,p,n);if(!o.contains(y))throw new De(pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Z3(f,y)||f.push(y)}l=new Wr(f),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new fX(new Ar(a),l,u)}class Iy extends WS{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}function pX(t,e,n,r){const i=t.Nu(1,e,n);XS("Data must be an object, but it was:",i,r);const s=[],o=Ar.empty();Fl(r,(l,u)=>{const f=JS(e,l,n);u=Dt(u);const p=i.Cu(f);if(u instanceof Iy)s.push(f);else{const y=yh(u,p);y!=null&&(s.push(f),o.set(f,y))}});const a=new Wr(s);return new Q3(o,a,i.fieldTransforms)}function mX(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[Eb(e,r,n)],l=[i];if(s.length%2!=0)throw new De(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Eb(e,s[y])),l.push(s[y+1]);const u=[],f=Ar.empty();for(let y=a.length-1;y>=0;--y)if(!Z3(u,a[y])){const _=a[y];let E=l[y];E=Dt(E);const S=o.Cu(_);if(E instanceof Iy)u.push(_);else{const C=yh(E,S);C!=null&&(u.push(_),f.set(_,C))}}const p=new Wr(u);return new Q3(f,p,o.fieldTransforms)}function gX(t,e,n,r=!1){return yh(n,t.Nu(r?4:3,e))}function yh(t,e){if(J3(t=Dt(t)))return XS("Unsupported field value:",e,t),X3(t,e);if(t instanceof WS)return function(r,i){if(!Y3(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yh(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=In.fromDate(r);return{timestampValue:mg(i.serializer,s)}}if(r instanceof In){const s=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mg(i.serializer,s)}}if(r instanceof KS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:g3(i.serializer,r._byteString)};if(r instanceof jr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof GS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return PS(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Sy(r)}`)}(t,e)}function X3(t,e){const n={};return HM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=yh(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function J3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof In||t instanceof KS||t instanceof bc||t instanceof jr||t instanceof WS||t instanceof GS)}function XS(t,e,n){if(!J3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sy(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Eb(t,e,n){if((e=Dt(e))instanceof Ry)return e._internalPath;if(typeof e=="string")return JS(t,e);throw yg("Field path arguments must be of type string or ",t,!1,void 0,n)}const yX=new RegExp("[~\\*/\\[\\]]");function JS(t,e,n){if(e.search(yX)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ry(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new De(pe.INVALID_ARGUMENT,a+t+l)}function Z3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vX extends e6{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?JS(t,e):e instanceof Ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZS{}class ex extends ZS{}function Ir(t,e,...n){let r=[];e instanceof ZS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof tx).length,a=s.filter(l=>l instanceof Ay).length;if(o>1||o>0&&a>0)throw new De(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ay extends ex{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){const n=this._parse(e);return n6(e._query,n),new vo(e.firestore,e.converter,db(e._query,n))}_parse(e){const n=YS(e.firestore);return function(s,o,a,l,u,f,p){let y;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new De(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){JA(p,f);const _=[];for(const E of p)_.push(XA(l,s,E));y={arrayValue:{values:_}}}else y=XA(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||JA(p,f),y=gX(a,o,p,f==="in"||f==="not-in");return yn.create(u,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ui(t,e,n){const r=e,i=Cy("where",t);return Ay._create(i,r,n)}class tx extends ZS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)n6(o,l),o=db(o,l)}(e._query,n),new vo(e.firestore,e.converter,db(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nx extends ex{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nx(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ud(s,o)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Lc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _X(t,e="asc"){const n=e,r=Cy("orderBy",t);return nx._create(r,n)}class rx extends ex{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rx(e,n,r)}_apply(e){return new vo(e.firestore,e.converter,dg(e._query,this._limit,this._limitType))}}function wX(t){return rx._create("limit",t,"F")}function XA(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new De(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZM(e)&&n.indexOf("/")!==-1)throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!$e.isDocumentKey(r))throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vA(t,new $e(r))}if(n instanceof jr)return vA(t,n._key);throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sy(n)}.`)}function JA(t,e){if(!Array.isArray(t)||t.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EX{convertValue(e,n="none"){switch(Il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>un(o.doubleValue));return new GS(s)}convertGeoPoint(e){return new KS(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=ha(e);return new In(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Nt(b3(r));const i=new jd(r.get(1),r.get(3)),s=new $e(r.popFirst(5));return i.isEqual(n)||co(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r6 extends e6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pm extends r6{data(e={}){return super.data(e)}}class i6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pm(this._firestore,this._userDataWriter,r.key,r,new Ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:TX(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class ix extends EX{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,n)}}function gr(t){t=Zs(t,vo);const e=Zs(t.firestore,Ec),n=qS(e),r=new ix(e);return t6(t._query),sX(n,t._query).then(i=>new i6(e,r,t,i))}function $s(t,e,n,...r){t=Zs(t,jr);const i=Zs(t.firestore,Ec),s=YS(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Ry?mX(s,"updateDoc",t._key,e,n,r):pX(s,"updateDoc",t._key,e),s6(i,[o.toMutation(t._key,Es.exists(!0))])}function ZA(t,e){const n=Zs(t.firestore,Ec),r=fs(t),i=bX(t.converter,e);return s6(n,[hX(YS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then(()=>r)}function SX(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YA(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,f;if(t instanceof jr)u=Zs(t.firestore,Ec),f=AS(t._key.path),l={next:p=>{e[o]&&e[o](xX(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Zs(t,vo);u=Zs(p.firestore,Ec),f=p._query;const y=new ix(u);l={next:_=>{e[o]&&e[o](new i6(u,y,p,_))},error:e[o+1],complete:e[o+2]},t6(t._query)}return function(y,_,E,S){const C=new H3(S),x=new L3(_,C,E);return y.asyncQueue.enqueueAndForget(async()=>N3(await wb(y),x)),()=>{C.za(),y.asyncQueue.enqueueAndForget(async()=>D3(await wb(y),x))}}(qS(u),f,a,l)}function s6(t,e){return function(r,i){const s=new sa;return r.asyncQueue.enqueueAndForget(async()=>WY(await iX(r),i,s)),s.promise}(qS(t),e)}function xX(t,e,n){const r=n.docs.get(e._key),i=new ix(t);return new r6(t,i,e._key,r,new Ff(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Dc=i})(Ia),fa(new ao("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ec(new xG(r.getProvider("auth-internal")),new AG(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new De(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pi(hA,"4.7.1",e),pi(hA,"4.7.1","esm2017")})();var e2={};const t2="@firebase/database",n2="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o6="";function RX(t){o6=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return go(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IX(e)}}catch{}return new CX},ol=a6("localStorage"),AX=a6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new ly("@firebase/database"),PX=function(){let t=1;return function(){return t++}}(),l6=function(t){const e=VH(t),n=new DH;n.update(e);const r=n.digest();return sS.encodeByteArray(r)},vh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vh.apply(null,r):typeof r=="object"?e+=Bn(r):e+=r,e+=" "}return e};let rd=null,r2=!0;const kX=function(t,e){Ie(!e,"Can't turn on custom loggers persistently."),tc.logLevel=dt.VERBOSE,rd=tc.log.bind(tc)},ir=function(...t){if(r2===!0&&(r2=!1,rd===null&&AX.get("logging_enabled")===!0&&kX()),rd){const e=vh.apply(null,t);rd(e)}},_h=function(t){return function(...e){ir(t,...e)}},bb=function(...t){const e="FIREBASE INTERNAL ERROR: "+vh(...t);tc.error(e)},ho=function(...t){const e=`FIREBASE FATAL ERROR: ${vh(...t)}`;throw tc.error(e),new Error(e)},Yr=function(...t){const e="FIREBASE WARNING: "+vh(...t);tc.warn(e)},OX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},u6=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},NX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tc="[MIN_NAME]",Cl="[MAX_NAME]",jc=function(t,e){if(t===e)return 0;if(t===Tc||e===Cl)return-1;if(e===Tc||t===Cl)return 1;{const n=i2(t),r=i2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},DX=function(t,e){return t===e?0:t<e?-1:1},Ef=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Bn(e))},sx=function(t){if(typeof t!="object"||t===null)return Bn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Bn(e[r]),n+=":",n+=sx(t[e[r]]);return n+="}",n},c6=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const f6=function(t){Ie(!u6(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let p="";for(l=0;l<64;l+=8){let y=parseInt(f.substr(l,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},LX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},FX=new RegExp("^-?(0*)\\d{1,10}$"),jX=-2147483648,VX=2147483647,i2=function(t){if(FX.test(t)){const e=Number(t);if(e>=jX&&e<=VX)return e}return null},wh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yr("Exception was thrown by user callback.",n),e},Math.floor(0))}},UX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},id=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yr(e)}}class mm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="5",d6="v",h6="s",p6="r",m6="f",g6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y6="ls",v6="p",Tb="ac",_6="websocket",w6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ol.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ol.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function zX(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function b6(t,e,n){Ie(typeof e=="string","typeof type must == string"),Ie(typeof n=="object","typeof params must == object");let r;if(e===_6)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===w6)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zX(t)&&(n.ns=t.namespace);const i=[];return vi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(){this.counters_={}}incrementCounter(e,n=1){go(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={},E_={};function ax(t){const e=t.toString();return w_[e]||(w_[e]=new HX),w_[e]}function qX(t,e){const n=t.toString();return E_[n]||(E_[n]=e()),E_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="start",KX="close",GX="pLPCommand",QX="pRTLPCB",T6="id",S6="pw",x6="ser",YX="cb",XX="seg",JX="ts",ZX="d",eJ="dframe",R6=1870,I6=30,tJ=R6-I6,nJ=25e3,rJ=3e4;class zu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_h(e),this.stats_=ax(n),this.urlFn=l=>(this.appCheckToken&&(l[Tb]=this.appCheckToken),b6(n,w6,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new WX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rJ)),NX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lx((...s)=>{const[o,a,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===s2)this.id=a,this.password=l;else if(o===KX)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[s2]="t",r[x6]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[YX]=this.scriptTagHolder.uniqueCallbackIdentifier),r[d6]=ox,this.transportSessionId&&(r[h6]=this.transportSessionId),this.lastSessionId&&(r[y6]=this.lastSessionId),this.applicationId&&(r[v6]=this.applicationId),this.appCheckToken&&(r[Tb]=this.appCheckToken),typeof location<"u"&&location.hostname&&g6.test(location.hostname)&&(r[p6]=m6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zu.forceAllow_=!0}static forceDisallow(){zu.forceDisallow_=!0}static isAvailable(){return zu.forceAllow_?!0:!zu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LX()&&!MX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Bn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=FL(n),i=c6(r,tJ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[eJ]="t",r[T6]=e,r[S6]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Bn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lx{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PX(),window[GX+this.uniqueCallbackIdentifier]=e,window[QX+this.uniqueCallbackIdentifier]=n,this.myIFrame=lx.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ir("frame writing exception"),a.stack&&ir(a.stack),ir(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ir("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[T6]=this.myID,e[S6]=this.myPW,e[x6]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+I6+r.length<=R6;){const o=this.pendingSegs.shift();r=r+"&"+XX+i+"="+o.seg+"&"+JX+i+"="+o.ts+"&"+ZX+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(nJ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ir("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ=16384,sJ=45e3;let vg=null;typeof MozWebSocket<"u"?vg=MozWebSocket:typeof WebSocket<"u"&&(vg=WebSocket);class Mi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_h(this.connId),this.stats_=ax(n),this.connURL=Mi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[d6]=ox,typeof location<"u"&&location.hostname&&g6.test(location.hostname)&&(o[p6]=m6),n&&(o[h6]=n),r&&(o[y6]=r),i&&(o[Tb]=i),s&&(o[v6]=s),b6(e,_6,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ol.set("previous_websocket_failure",!0);try{let r;zL(),this.mySock=new vg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Mi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&vg!==null&&!Mi.forceDisallow_}static previouslyFailed(){return ol.isInMemoryStorage||ol.get("previous_websocket_failure")===!0}markConnectionHealthy(){ol.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Bn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c6(n,iJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mi.responsesRequiredToBeHealthy=2;Mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[zu,Mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Mi&&Mi.isAvailable();let r=n&&!Mi.previouslyFailed();if(e.webSocketOnly&&(n||Yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mi];else{const i=this.transports_=[];for(const s of zd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);zd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ=6e4,aJ=5e3,lJ=10*1024,uJ=100*1024,b_="t",o2="d",cJ="s",a2="r",fJ="e",l2="o",u2="a",c2="n",f2="p",dJ="h";class hJ{constructor(e,n,r,i,s,o,a,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_h("c:"+this.id+":"),this.transportManager_=new zd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(b_ in e){const n=e[b_];n===u2?this.upgradeIfSecondaryHealthy_():n===a2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===l2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:f2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:u2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:c2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ef(b_,e);if(o2 in e){const r=e[o2];if(n===dJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===c2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cJ?this.onConnectionShutdown_(r):n===a2?this.onReset_(r):n===fJ?bb("Server Error: "+r):n===l2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ox!==r&&Yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:f2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ol.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.allowedEvents_=e,this.listeners_={},Ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ie(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends A6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _g}getInitialEvent(e){return Ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=32,h2=768;class Ht{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Pt(){return new Ht("")}function vt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ma(t){return t.pieces_.length-t.pieceNum_}function Bt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ht(t.pieces_,e)}function P6(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function k6(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function O6(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ht(e,0)}function Fn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ht)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ht(n,0)}function pt(t){return t.pieceNum_>=t.pieces_.length}function di(t,e){const n=vt(t),r=vt(e);if(n===null)return e;if(n===r)return di(Bt(t),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function N6(t,e){if(ma(t)!==ma(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Vi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ma(t)>ma(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class mJ{constructor(e,n){this.errorPrefix_=n,this.parts_=k6(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ay(this.parts_[r]);D6(this)}}function gJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ay(e),D6(t)}function yJ(t){const e=t.parts_.pop();t.byteLength_-=ay(e),t.parts_.length>0&&(t.byteLength_-=1)}function D6(t){if(t.byteLength_>h2)throw new Error(t.errorPrefix_+"has a key path longer than "+h2+" bytes ("+t.byteLength_+").");if(t.parts_.length>d2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+d2+") or object contains a cycle "+Xa(t))}function Xa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends A6{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ux}getInitialEvent(e){return Ie(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=1e3,vJ=60*5*1e3,p2=30*1e3,_J=1.3,wJ=3e4,EJ="server_kill",m2=3;class eo extends C6{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=eo.nextPersistentConnectionId_++,this.log_=_h("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bf,this.maxReconnectDelay_=vJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!zL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ux.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_g.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Bn(s)),Ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new aS,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ie(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;eo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&go(e,"w")){const r=hc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||NH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=p2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=OH(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Bn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bb("Unrecognized action received from server: "+Bn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wJ&&(this.reconnectDelay_=bf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_J)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+eo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(p){Ie(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,y]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=y&&y.token,a=new hJ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Yr(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(EJ)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Yr(p),l())}}}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],GE(this.interruptReasons_)&&(this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>sx(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ht(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ir("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=m2&&(this.reconnectDelay_=p2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ir("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=m2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+o6.replace(/\./g,"-")]=1,uS()?e["framework.cordova"]=1:$L()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_g.getInstance().currentlyOnline();return GE(this.interruptReasons_)&&e}}eo.nextPersistentConnectionId_=0;eo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _t(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _t(Tc,e),i=new _t(Tc,n);return this.compare(r,i)!==0}minPost(){return _t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;class L6 extends Py{static get __EMPTY_NODE(){return Lp}static set __EMPTY_NODE(e){Lp=e}compare(e,n){return jc(e.name,n.name)}isDefinedOn(e){throw kc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Cl,Lp)}makePost(e,n){return Ie(typeof e=="string","KeyIndex indexValue must always be a string."),new _t(e,Lp)}toString(){return".key"}}const nc=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mn.RED,this.left=i??kr.EMPTY_NODE,this.right=s??kr.EMPTY_NODE}copy(e,n,r,i,s){return new Mn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return kr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return kr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mn.RED=!0;Mn.BLACK=!1;class bJ{copy(e,n,r,i,s){return this}insert(e,n,r){return new Mn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kr{constructor(e,n=kr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new kr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mn.BLACK,null,null))}remove(e){return new kr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mp(this.root_,null,this.comparator_,!0,e)}}kr.EMPTY_NODE=new bJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t,e){return jc(t.name,e.name)}function cx(t,e){return jc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sb;function SJ(t){Sb=t}const M6=function(t){return typeof t=="number"?"number:"+f6(t):"string:"+t},F6=function(t){if(t.isLeafNode()){const e=t.val();Ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&go(e,".sv"),"Priority must be a string or number.")}else Ie(t===Sb||t.isEmpty(),"priority of unexpected type.");Ie(t===Sb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g2;class On{constructor(e,n=On.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),F6(this.priorityNode_)}static set __childrenNodeConstructor(e){g2=e}static get __childrenNodeConstructor(){return g2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new On(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:On.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pt(e)?this:vt(e)===".priority"?this.priorityNode_:On.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:On.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=vt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ie(r!==".priority"||ma(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,On.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M6(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=f6(this.value_):e+=this.value_,this.lazyHash_=l6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===On.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof On.__childrenNodeConstructor?-1:(Ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=On.VALUE_TYPE_ORDER.indexOf(n),s=On.VALUE_TYPE_ORDER.indexOf(r);return Ie(i>=0,"Unknown leaf type: "+n),Ie(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}On.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j6,V6;function xJ(t){j6=t}function RJ(t){V6=t}class IJ extends Py{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?jc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Cl,new On("[PRIORITY-POST]",V6))}makePost(e,n){const r=j6(e);return new _t(n,new On("[PRIORITY-POST]",r))}toString(){return".priority"}}const ar=new IJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=Math.log(2);class AJ{constructor(e){const n=s=>parseInt(Math.log(s)/CJ,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wg=function(t,e,n,r){t.sort(e);const i=function(l,u){const f=u-l;let p,y;if(f===0)return null;if(f===1)return p=t[l],y=n?n(p):p,new Mn(y,p.node,Mn.BLACK,null,null);{const _=parseInt(f/2,10)+l,E=i(l,_),S=i(_+1,u);return p=t[_],y=n?n(p):p,new Mn(y,p.node,Mn.BLACK,E,S)}},s=function(l){let u=null,f=null,p=t.length;const y=function(E,S){const C=p-E,x=p;p-=E;const w=i(C+1,x),v=t[C],I=n?n(v):v;_(new Mn(I,v.node,S,null,w))},_=function(E){u?(u.left=E,u=E):(f=E,u=E)};for(let E=0;E<l.count;++E){const S=l.nextBitIsOne(),C=Math.pow(2,l.count-(E+1));S?y(C,Mn.BLACK):(y(C,Mn.BLACK),y(C,Mn.RED))}return f},o=new AJ(t.length),a=s(o);return new kr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_;const Eu={};class Qs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ie(Eu&&ar,"ChildrenNode.ts has not been loaded"),T_=T_||new Qs({".priority":Eu},{".priority":ar}),T_}get(e){const n=hc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kr?n:null}hasIndex(e){return go(this.indexSet_,e.toString())}addIndex(e,n){Ie(e!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(_t.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=wg(r,e.getCompare()):a=Eu;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new Qs(f,u)}addToIndexes(e,n){const r=tg(this.indexes_,(i,s)=>{const o=hc(this.indexSet_,s);if(Ie(o,"Missing index implementation for "+s),i===Eu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_t.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),wg(a,o.getCompare())}else return Eu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _t(e.name,a))),l.insert(e,e.node)}});return new Qs(r,this.indexSet_)}removeFromIndexes(e,n){const r=tg(this.indexes_,i=>{if(i===Eu)return i;{const s=n.get(e.name);return s?i.remove(new _t(e.name,s)):i}});return new Qs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;class xt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&F6(this.priorityNode_),this.children_.isEmpty()&&Ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tf||(Tf=new xt(new kr(cx),null,Qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tf}updatePriority(e){return this.children_.isEmpty()?this:new xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tf:n}}getChild(e){const n=vt(e);return n===null?this:this.getImmediateChild(n).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new _t(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Tf:this.priorityNode_;return new xt(i,o,s)}}updateChild(e,n){const r=vt(e);if(r===null)return n;{Ie(vt(e)!==".priority"||ma(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Bt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ar,(o,a)=>{n[o]=a.val(e),r++,s&&xt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+M6(this.getPriority().val())+":"),this.forEachChild(ar,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":l6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new _t(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _t(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _t(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_t.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eh?-1:0}withIndex(e){if(e===nc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===nc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ar),i=n.getIterator(ar);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===nc?null:this.indexMap_.get(e.toString())}}xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PJ extends xt{constructor(){super(new kr(cx),xt.EMPTY_NODE,Qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xt.EMPTY_NODE}isEmpty(){return!1}}const Eh=new PJ;Object.defineProperties(_t,{MIN:{value:new _t(Tc,xt.EMPTY_NODE)},MAX:{value:new _t(Cl,Eh)}});L6.__EMPTY_NODE=xt.EMPTY_NODE;On.__childrenNodeConstructor=xt;SJ(Eh);RJ(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=!0;function sr(t,e=null){if(t===null)return xt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new On(n,sr(e))}if(!(t instanceof Array)&&kJ){const n=[];let r=!1;if(vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=sr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _t(o,l)))}}),n.length===0)return xt.EMPTY_NODE;const s=wg(n,TJ,o=>o.name,cx);if(r){const o=wg(n,ar.getCompare());return new xt(s,sr(e),new Qs({".priority":o},{".priority":ar}))}else return new xt(s,sr(e),Qs.Default)}else{let n=xt.EMPTY_NODE;return vi(t,(r,i)=>{if(go(t,r)&&r.substring(0,1)!=="."){const s=sr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(sr(e))}}xJ(sr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ extends Py{constructor(e){super(),this.indexPath_=e,Ie(!pt(e)&&vt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?jc(e.name,n.name):s}makePost(e,n){const r=sr(e),i=xt.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(n,i)}maxPost(){const e=xt.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new _t(Cl,e)}toString(){return k6(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ extends Py{compare(e,n){const r=e.node.compareTo(n.node);return r===0?jc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,n){const r=sr(e);return new _t(n,r)}toString(){return".value"}}const DJ=new NJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(t){return{type:"value",snapshotNode:t}}function MJ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function FJ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function y2(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ar}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ar}copy(){const e=new fx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function v2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ar?n="$priority":t.index_===DJ?n="$value":t.index_===nc?n="$key":(Ie(t.index_ instanceof OJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Bn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Bn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Bn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Bn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Bn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ar&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends C6{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_h("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Eg.getListenId_(e,r),a={};this.listens_[o]=a;const l=v2(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),hc(this.listens_,o)===a){let y;u?u===401?y="permission_denied":y="rest_error:"+u:y="ok",i(y,null)}})}unlisten(e,n){const r=Eg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=v2(e._queryParams),r=e._path.toString(),i=new aS;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=kd(a.responseText)}catch{Yr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Yr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(){this.rootNode_=xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return{value:null,children:new Map}}function U6(t,e,n){if(pt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=vt(e);t.children.has(r)||t.children.set(r,bg());const i=t.children.get(r);e=Bt(e),U6(i,e,n)}}function xb(t,e,n){t.value!==null?n(e,t.value):UJ(t,(r,i)=>{const s=new Ht(e.toString()+"/"+r);xb(i,s,n)})}function UJ(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=10*1e3,$J=30*1e3,zJ=5*60*1e3;class HJ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new BJ(e);const r=w2+($J-w2)*Math.random();id(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vi(e,(i,s)=>{s>0&&go(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),id(this.reportStats_.bind(this),Math.floor(Math.random()*2*zJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ms||(ms={}));function B6(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $6(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z6(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ms.ACK_USER_WRITE,this.source=B6()}operationForChild(e){if(pt(this.path)){if(this.affectedTree.value!=null)return Ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ht(e));return new Tg(Pt(),n,this.revert)}}else return Ie(vt(this.path)===e,"operationForChild called for unrelated child."),new Tg(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ms.OVERWRITE}operationForChild(e){return pt(this.path)?new Al(this.source,Pt(),this.snap.getImmediateChild(e)):new Al(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ms.MERGE}operationForChild(e){if(pt(this.path)){const n=this.children.subtree(new Ht(e));return n.isEmpty()?null:n.value?new Al(this.source,Pt(),n.value):new Hd(this.source,Pt(),n)}else return Ie(vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hd(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pt(e))return this.isFullyInitialized()&&!this.filtered_;const n=vt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function qJ(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(jJ(o.childName,o.snapshotNode))}),Sf(t,i,"child_removed",e,r,n),Sf(t,i,"child_added",e,r,n),Sf(t,i,"child_moved",s,r,n),Sf(t,i,"child_changed",e,r,n),Sf(t,i,"value",e,r,n),i}function Sf(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>KJ(t,a,l)),o.forEach(a=>{const l=WJ(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function WJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function KJ(t,e,n){if(e.childName==null||n.childName==null)throw kc("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){return{eventCache:t,serverCache:e}}function sd(t,e,n,r){return H6(new dx(e,n,r),t.serverCache)}function q6(t,e,n,r){return H6(t.eventCache,new dx(e,n,r))}function Rb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Pl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;const GJ=()=>(S_||(S_=new kr(DX)),S_);class Ut{constructor(e,n=GJ()){this.value=e,this.children=n}static fromObject(e){let n=new Ut(null);return vi(e,(r,i)=>{n=n.set(new Ht(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Pt(),value:this.value};if(pt(e))return null;{const r=vt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Bt(e),n);return s!=null?{path:Fn(new Ht(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pt(e))return this;{const n=vt(e),r=this.children.get(n);return r!==null?r.subtree(Bt(e)):new Ut(null)}}set(e,n){if(pt(e))return new Ut(n,this.children);{const r=vt(e),s=(this.children.get(r)||new Ut(null)).set(Bt(e),n),o=this.children.insert(r,s);return new Ut(this.value,o)}}remove(e){if(pt(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const n=vt(e),r=this.children.get(n);if(r){const i=r.remove(Bt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ut(null):new Ut(this.value,s)}else return this}}get(e){if(pt(e))return this.value;{const n=vt(e),r=this.children.get(n);return r?r.get(Bt(e)):null}}setTree(e,n){if(pt(e))return n;{const r=vt(e),s=(this.children.get(r)||new Ut(null)).setTree(Bt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ut(this.value,o)}}fold(e){return this.fold_(Pt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Pt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(pt(e))return null;{const s=vt(e),o=this.children.get(s);return o?o.findOnPath_(Bt(e),Fn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Pt(),n)}foreachOnPath_(e,n,r){if(pt(e))return this;{this.value&&r(n,this.value);const i=vt(e),s=this.children.get(i);return s?s.foreachOnPath_(Bt(e),Fn(n,i),r):new Ut(null)}}foreach(e){this.foreach_(Pt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.writeTree_=e}static empty(){return new zi(new Ut(null))}}function od(t,e,n){if(pt(e))return new zi(new Ut(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=di(i,e);return s=s.updateChild(o,n),new zi(t.writeTree_.set(i,s))}else{const i=new Ut(n),s=t.writeTree_.setTree(e,i);return new zi(s)}}}function E2(t,e,n){let r=t;return vi(n,(i,s)=>{r=od(r,Fn(e,i),s)}),r}function b2(t,e){if(pt(e))return zi.empty();{const n=t.writeTree_.setTree(e,new Ut(null));return new zi(n)}}function Ib(t,e){return Vl(t,e)!=null}function Vl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(di(n.path,e)):null}function T2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ar,(r,i)=>{e.push(new _t(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _t(r,i.value))}),e}function la(t,e){if(pt(e))return t;{const n=Vl(t,e);return n!=null?new zi(new Ut(n)):new zi(t.writeTree_.subtree(e))}}function Cb(t){return t.writeTree_.isEmpty()}function Sc(t,e){return W6(Pt(),t.writeTree_,e)}function W6(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ie(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=W6(Fn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t,e){return J6(e,t)}function QJ(t,e,n,r,i){Ie(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=od(t.visibleWrites,e,n)),t.lastWriteId=r}function YJ(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function XJ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ie(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&JJ(a,r.path)?i=!1:Vi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return ZJ(t),!0;if(r.snap)t.visibleWrites=b2(t.visibleWrites,r.path);else{const a=r.children;vi(a,l=>{t.visibleWrites=b2(t.visibleWrites,Fn(r.path,l))})}return!0}else return!1}function JJ(t,e){if(t.snap)return Vi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Vi(Fn(t.path,n),e))return!0;return!1}function ZJ(t){t.visibleWrites=G6(t.allWrites,eZ,Pt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function eZ(t){return t.visible}function G6(t,e,n){let r=zi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Vi(n,o)?(a=di(n,o),r=od(r,a,s.snap)):Vi(o,n)&&(a=di(o,n),r=od(r,Pt(),s.snap.getChild(a)));else if(s.children){if(Vi(n,o))a=di(n,o),r=E2(r,a,s.children);else if(Vi(o,n))if(a=di(o,n),pt(a))r=E2(r,Pt(),s.children);else{const l=hc(s.children,vt(a));if(l){const u=l.getChild(Bt(a));r=od(r,Pt(),u)}}}else throw kc("WriteRecord should have .snap or .children")}}return r}function Q6(t,e,n,r,i){if(!r&&!i){const s=Vl(t.visibleWrites,e);if(s!=null)return s;{const o=la(t.visibleWrites,e);if(Cb(o))return n;if(n==null&&!Ib(o,Pt()))return null;{const a=n||xt.EMPTY_NODE;return Sc(o,a)}}}else{const s=la(t.visibleWrites,e);if(!i&&Cb(s))return n;if(!i&&n==null&&!Ib(s,Pt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Vi(u.path,e)||Vi(e,u.path))},a=G6(t.allWrites,o,e),l=n||xt.EMPTY_NODE;return Sc(a,l)}}}function tZ(t,e,n){let r=xt.EMPTY_NODE;const i=Vl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ar,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=la(t.visibleWrites,e);return n.forEachChild(ar,(o,a)=>{const l=Sc(la(s,new Ht(o)),a);r=r.updateImmediateChild(o,l)}),T2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=la(t.visibleWrites,e);return T2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function nZ(t,e,n,r,i){Ie(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fn(e,n);if(Ib(t.visibleWrites,s))return null;{const o=la(t.visibleWrites,s);return Cb(o)?i.getChild(n):Sc(o,i.getChild(n))}}function rZ(t,e,n,r){const i=Fn(e,n),s=Vl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=la(t.visibleWrites,i);return Sc(o,r.getNode().getImmediateChild(n))}else return null}function iZ(t,e){return Vl(t.visibleWrites,e)}function sZ(t,e,n,r,i,s,o){let a;const l=la(t.visibleWrites,e),u=Vl(l,Pt());if(u!=null)a=u;else if(n!=null)a=Sc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],p=o.getCompare(),y=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=y.getNext();for(;_&&f.length<i;)p(_,r)!==0&&f.push(_),_=y.getNext();return f}else return[]}function oZ(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}function Ab(t,e,n,r){return Q6(t.writeTree,t.treePath,e,n,r)}function Y6(t,e){return tZ(t.writeTree,t.treePath,e)}function S2(t,e,n,r){return nZ(t.writeTree,t.treePath,e,n,r)}function Sg(t,e){return iZ(t.writeTree,Fn(t.treePath,e))}function aZ(t,e,n,r,i,s){return sZ(t.writeTree,t.treePath,e,n,r,i,s)}function hx(t,e,n){return rZ(t.writeTree,t.treePath,e,n)}function X6(t,e){return J6(Fn(t.treePath,e),t.writeTree)}function J6(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ie(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,y2(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,FJ(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,MJ(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,y2(r,e.snapshotNode,i.oldSnap));else throw kc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Z6=new uZ;class px{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new dx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pl(this.viewCache_),s=aZ(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function cZ(t,e){Ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fZ(t,e,n,r,i){const s=new lZ;let o,a;if(n.type===ms.OVERWRITE){const u=n;u.source.fromUser?o=Pb(t,e,u.path,u.snap,r,i,s):(Ie(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!pt(u.path),o=xg(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===ms.MERGE){const u=n;u.source.fromUser?o=hZ(t,e,u.path,u.children,r,i,s):(Ie(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=kb(t,e,u.path,u.children,r,i,a,s))}else if(n.type===ms.ACK_USER_WRITE){const u=n;u.revert?o=gZ(t,e,u.path,r,i,s):o=pZ(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===ms.LISTEN_COMPLETE)o=mZ(t,e,n.path,r,s);else throw kc("Unknown operation type: "+n.type);const l=s.getChanges();return dZ(e,o,l),{viewCache:o,changes:l}}function dZ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(LJ(Rb(e)))}}function eF(t,e,n,r,i,s){const o=e.eventCache;if(Sg(r,n)!=null)return e;{let a,l;if(pt(n))if(Ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Pl(e),f=u instanceof xt?u:xt.EMPTY_NODE,p=Y6(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const u=Ab(r,Pl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=vt(n);if(u===".priority"){Ie(ma(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const p=S2(r,n,f,l);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{const f=Bt(n);let p;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const y=S2(r,n,o.getNode(),l);y!=null?p=o.getNode().getImmediateChild(u).updateChild(f,y):p=o.getNode().getImmediateChild(u)}else p=hx(r,u,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),u,p,f,i,s):a=o.getNode()}}return sd(e,a,o.isFullyInitialized()||pt(n),t.filter.filtersNodes())}}function xg(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(pt(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),_,null)}else{const _=vt(n);if(!l.isCompleteForPath(n)&&ma(n)>1)return e;const E=Bt(n),C=l.getNode().getImmediateChild(_).updateChild(E,r);_===".priority"?u=f.updatePriority(l.getNode(),C):u=f.updateChild(l.getNode(),_,C,E,Z6,null)}const p=q6(e,u,l.isFullyInitialized()||pt(n),f.filtersNodes()),y=new px(i,p,s);return eF(t,p,n,i,y,a)}function Pb(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const f=new px(i,e,s);if(pt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=sd(e,u,!0,t.filter.filtersNodes());else{const p=vt(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=sd(e,u,a.isFullyInitialized(),a.isFiltered());else{const y=Bt(n),_=a.getNode().getImmediateChild(p);let E;if(pt(y))E=r;else{const S=f.getCompleteChild(p);S!=null?P6(y)===".priority"&&S.getChild(O6(y)).isEmpty()?E=S:E=S.updateChild(y,r):E=xt.EMPTY_NODE}if(_.equals(E))l=e;else{const S=t.filter.updateChild(a.getNode(),p,E,y,f,o);l=sd(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function x2(t,e){return t.eventCache.isCompleteForChild(e)}function hZ(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const f=Fn(n,l);x2(e,vt(f))&&(a=Pb(t,a,f,u,i,s,o))}),r.foreach((l,u)=>{const f=Fn(n,l);x2(e,vt(f))||(a=Pb(t,a,f,u,i,s,o))}),a}function R2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function kb(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;pt(n)?u=r:u=new Ut(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((p,y)=>{if(f.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),E=R2(t,_,y);l=xg(t,l,new Ht(p),E,i,s,o,a)}}),u.children.inorderTraversal((p,y)=>{const _=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!f.hasChild(p)&&!_){const E=e.serverCache.getNode().getImmediateChild(p),S=R2(t,E,y);l=xg(t,l,new Ht(p),S,i,s,o,a)}}),l}function pZ(t,e,n,r,i,s,o){if(Sg(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(pt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(pt(n)){let u=new Ut(null);return l.getNode().forEachChild(nc,(f,p)=>{u=u.set(new Ht(f),p)}),kb(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ut(null);return r.foreach((f,p)=>{const y=Fn(n,f);l.isCompleteForPath(y)&&(u=u.set(f,l.getNode().getChild(y)))}),kb(t,e,n,u,i,s,a,o)}}function mZ(t,e,n,r,i){const s=e.serverCache,o=q6(e,s.getNode(),s.isFullyInitialized()||pt(n),s.isFiltered());return eF(t,o,n,r,Z6,i)}function gZ(t,e,n,r,i,s){let o;if(Sg(r,n)!=null)return e;{const a=new px(r,e,i),l=e.eventCache.getNode();let u;if(pt(n)||vt(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Ab(r,Pl(e));else{const p=e.serverCache.getNode();Ie(p instanceof xt,"serverChildren would be complete if leaf node"),f=Y6(r,p)}f=f,u=t.filter.updateFullNode(l,f,s)}else{const f=vt(n);let p=hx(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?u=t.filter.updateChild(l,f,p,Bt(n),a,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,xt.EMPTY_NODE,Bt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ab(r,Pl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Sg(r,Pt())!=null,sd(e,u,o,t.filter.filtersNodes())}}function yZ(t,e){const n=Pl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pt(e)&&!n.getImmediateChild(vt(e)).isEmpty())?n.getChild(e):null}function I2(t,e,n,r){e.type===ms.MERGE&&e.source.queryId!==null&&(Ie(Pl(t.viewCache_),"We should always have a full cache before handling merges"),Ie(Rb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=fZ(t.processor_,i,e,n,r);return cZ(t.processor_,s.viewCache),Ie(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,vZ(t,s.changes,s.viewCache.eventCache.getNode())}function vZ(t,e,n,r){const i=t.eventRegistrations_;return qJ(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C2;function _Z(t){Ie(!C2,"__referenceConstructor has already been defined"),C2=t}function mx(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ie(s!=null,"SyncTree gave us an op for an invalid query."),I2(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(I2(o,e,n,r));return s}}function gx(t,e){let n=null;for(const r of t.views.values())n=n||yZ(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A2;function wZ(t){Ie(!A2,"__referenceConstructor has already been defined"),A2=t}class P2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=oZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EZ(t,e,n,r,i){return QJ(t.pendingWriteTree_,e,n,r,i),i?Oy(t,new Al(B6(),e,n)):[]}function Hu(t,e,n=!1){const r=YJ(t.pendingWriteTree_,e);if(XJ(t.pendingWriteTree_,e)){let s=new Ut(null);return r.snap!=null?s=s.set(Pt(),!0):vi(r.children,o=>{s=s.set(new Ht(o),!0)}),Oy(t,new Tg(r.path,s,n))}else return[]}function ky(t,e,n){return Oy(t,new Al($6(),e,n))}function bZ(t,e,n){const r=Ut.fromObject(n);return Oy(t,new Hd($6(),e,r))}function TZ(t,e,n,r){const i=iF(t,r);if(i!=null){const s=sF(i),o=s.path,a=s.queryId,l=di(o,e),u=new Al(z6(a),l,n);return oF(t,o,u)}else return[]}function SZ(t,e,n,r){const i=iF(t,r);if(i){const s=sF(i),o=s.path,a=s.queryId,l=di(o,e),u=Ut.fromObject(n),f=new Hd(z6(a),l,u);return oF(t,o,f)}else return[]}function tF(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=di(o,e),u=gx(a,l);if(u)return u});return Q6(i,e,s,n,!0)}function Oy(t,e){return nF(e,t.syncPointTree_,null,K6(t.pendingWriteTree_,Pt()))}function nF(t,e,n,r){if(pt(t.path))return rF(t,e,n,r);{const i=e.get(Pt());n==null&&i!=null&&(n=gx(i,Pt()));let s=[];const o=vt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,f=X6(r,o);s=s.concat(nF(a,l,u,f))}return i&&(s=s.concat(mx(i,t,r,n))),s}}function rF(t,e,n,r){const i=e.get(Pt());n==null&&i!=null&&(n=gx(i,Pt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=X6(r,o),f=t.operationForChild(o);f&&(s=s.concat(rF(f,a,l,u)))}),i&&(s=s.concat(mx(i,t,r,n))),s}function iF(t,e){return t.tagToQueryMap.get(e)}function sF(t){const e=t.indexOf("$");return Ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ht(t.substr(0,e))}}function oF(t,e,n){const r=t.syncPointTree_.get(e);Ie(r,"Missing sync point for query tag that we're tracking");const i=K6(t.pendingWriteTree_,e);return mx(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yx(n)}node(){return this.node_}}class vx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fn(this.path_,e);return new vx(this.syncTree_,n)}node(){return tF(this.syncTree_,this.path_)}}const xZ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},k2=function(t,e,n){if(!t||typeof t!="object")return t;if(Ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return RZ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return IZ(t[".sv"],e);Ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},RZ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ie(!1,"Unexpected server value: "+t)}},IZ=function(t,e,n){t.hasOwnProperty("increment")||Ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ie(!1,"Unexpected increment value: "+r);const i=e.node();if(Ie(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},CZ=function(t,e,n,r){return _x(e,new vx(n,t),r)},AZ=function(t,e,n){return _x(t,new yx(e),n)};function _x(t,e,n){const r=t.getPriority().val(),i=k2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=k2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new On(a,sr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new On(i))),o.forEachChild(ar,(a,l)=>{const u=_x(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ex(t,e){let n=e instanceof Ht?e:new Ht(e),r=t,i=vt(n);for(;i!==null;){const s=hc(r.node.children,i)||{children:{},childCount:0};r=new wx(i,r,s),n=Bt(n),i=vt(n)}return r}function Vc(t){return t.node.value}function aF(t,e){t.node.value=e,Ob(t)}function lF(t){return t.node.childCount>0}function PZ(t){return Vc(t)===void 0&&!lF(t)}function Ny(t,e){vi(t.node.children,(n,r)=>{e(new wx(n,t,r))})}function uF(t,e,n,r){n&&!r&&e(t),Ny(t,i=>{uF(i,e,!0,r)}),n&&r&&e(t)}function kZ(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bh(t){return new Ht(t.parent===null?t.name:bh(t.parent)+"/"+t.name)}function Ob(t){t.parent!==null&&OZ(t.parent,t.name,t)}function OZ(t,e,n){const r=PZ(n),i=go(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ob(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ob(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=/[\[\].#$\/\u0000-\u001F\u007F]/,DZ=/[\[\].#$\u0000-\u001F\u007F]/,x_=10*1024*1024,cF=function(t){return typeof t=="string"&&t.length!==0&&!NZ.test(t)},LZ=function(t){return typeof t=="string"&&t.length!==0&&!DZ.test(t)},MZ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),LZ(t)},fF=function(t,e,n){const r=n instanceof Ht?new mJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Xa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Xa(r)+" with contents = "+e.toString());if(u6(e))throw new Error(t+"contains "+e.toString()+" "+Xa(r));if(typeof e=="string"&&e.length>x_/3&&ay(e)>x_)throw new Error(t+"contains a string greater than "+x_+" utf8 bytes "+Xa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cF(o)))throw new Error(t+" contains an invalid key ("+o+") "+Xa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gJ(r,o),fF(t,a,r),yJ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Xa(r)+" in addition to actual children.")}},FZ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!MZ(n))throw new Error(jH(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function VZ(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!N6(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ul(t,e,n){VZ(t,n),UZ(t,r=>Vi(r,e)||Vi(e,r))}function UZ(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(BZ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function BZ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();rd&&ir("event: "+n.toString()),wh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z="repo_interrupt",zZ=25;class HZ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bg(),this.transactionQueueTree_=new wx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qZ(t,e,n){if(t.stats_=ax(t.repoInfo_),t.forceRestClient_||UX())t.server_=new Eg(t.repoInfo_,(r,i,s,o)=>{O2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>N2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new eo(t.repoInfo_,e,(r,i,s,o)=>{O2(t,r,i,s,o)},r=>{N2(t,r)},r=>{KZ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=qX(t.repoInfo_,()=>new HJ(t.stats_,t.server_)),t.infoData_=new VJ,t.infoSyncTree_=new P2({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ky(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),bx(t,"connected",!1),t.serverSyncTree_=new P2({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ul(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function WZ(t){const n=t.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dF(t){return xZ({timestamp:WZ(t)})}function O2(t,e,n,r,i){t.dataUpdateCount++;const s=new Ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=tg(n,u=>sr(u));o=SZ(t.serverSyncTree_,s,l,i)}else{const l=sr(n);o=TZ(t.serverSyncTree_,s,l,i)}else if(r){const l=tg(n,u=>sr(u));o=bZ(t.serverSyncTree_,s,l)}else{const l=sr(n);o=ky(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Sx(t,s)),Ul(t.eventQueue_,a,o)}function N2(t,e){bx(t,"connected",e),e===!1&&QZ(t)}function KZ(t,e){vi(e,(n,r)=>{bx(t,n,r)})}function bx(t,e,n){const r=new Ht("/.info/"+e),i=sr(n);t.infoData_.updateSnapshot(r,i);const s=ky(t.infoSyncTree_,r,i);Ul(t.eventQueue_,r,s)}function GZ(t){return t.nextWriteId_++}function QZ(t){hF(t,"onDisconnectEvents");const e=dF(t),n=bg();xb(t.onDisconnect_,Pt(),(i,s)=>{const o=CZ(i,s,t.serverSyncTree_,e);U6(n,i,o)});let r=[];xb(n,Pt(),(i,s)=>{r=r.concat(ky(t.serverSyncTree_,i,s));const o=ZZ(t,i);Sx(t,o)}),t.onDisconnect_=bg(),Ul(t.eventQueue_,Pt(),r)}function YZ(t){t.persistentConnection_&&t.persistentConnection_.interrupt($Z)}function hF(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ir(n,...e)}function pF(t,e,n){return tF(t.serverSyncTree_,e,n)||xt.EMPTY_NODE}function Tx(t,e=t.transactionQueueTree_){if(e||Dy(t,e),Vc(e)){const n=gF(t,e);Ie(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&XZ(t,bh(e),n)}else lF(e)&&Ny(e,n=>{Tx(t,n)})}function XZ(t,e,n){const r=n.map(u=>u.currentWriteId),i=pF(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];Ie(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=di(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{hF(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const p=[];for(let y=0;y<n.length;y++)n[y].status=2,f=f.concat(Hu(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Dy(t,Ex(t.transactionQueueTree_,e)),Tx(t,t.transactionQueueTree_),Ul(t.eventQueue_,e,f);for(let y=0;y<p.length;y++)wh(p[y])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Yr("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}Sx(t,e)}},o)}function Sx(t,e){const n=mF(t,e),r=bh(n),i=gF(t,n);return JZ(t,i,r),r}function JZ(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=di(n,l.path);let f=!1,p;if(Ie(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=zZ)f=!0,p="maxretry",i=i.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0));else{const y=pF(t,l.path,o);l.currentInputSnapshot=y;const _=e[a].update(y.val());if(_!==void 0){fF("transaction failed: Data returned ",_,l.path);let E=sr(_);typeof _=="object"&&_!=null&&go(_,".priority")||(E=E.updatePriority(y.getPriority()));const C=l.currentWriteId,x=dF(t),w=AZ(E,y,x);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=w,l.currentWriteId=GZ(t),o.splice(o.indexOf(C),1),i=i.concat(EZ(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Hu(t.serverSyncTree_,C,!0))}else f=!0,p="nodata",i=i.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0))}Ul(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(y){setTimeout(y,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Dy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)wh(r[a]);Tx(t,t.transactionQueueTree_)}function mF(t,e){let n,r=t.transactionQueueTree_;for(n=vt(e);n!==null&&Vc(r)===void 0;)r=Ex(r,n),e=Bt(e),n=vt(e);return r}function gF(t,e){const n=[];return yF(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yF(t,e,n){const r=Vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ny(e,i=>{yF(t,i,n)})}function Dy(t,e){const n=Vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aF(e,n.length>0?n:void 0)}Ny(e,r=>{Dy(t,r)})}function ZZ(t,e){const n=bh(mF(t,e)),r=Ex(t.transactionQueueTree_,e);return kZ(r,i=>{R_(t,i)}),R_(t,r),uF(r,i=>{R_(t,i)}),n}function R_(t,e){const n=Vc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ie(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ie(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Hu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aF(e,void 0):n.length=s+1,Ul(t.eventQueue_,bh(e),i);for(let o=0;o<r.length;o++)wh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yr(`Invalid query segment '${n}' in query '${t}'`)}return e}const D2=function(t,e){const n=nee(t),r=n.namespace;n.domain==="firebase.com"&&ho(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ho("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||OX();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new E6(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ht(n.pathString)}},nee=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=eee(t.substring(f,p)));const y=tee(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return pt(this._path)?null:P6(this._path)}get ref(){return new Uc(this._repo,this._path)}get _queryIdentifier(){const e=_2(this._queryParams),n=sx(e);return n==="{}"?"default":n}get _queryObject(){return _2(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof xx))return!1;const n=this._repo===e._repo,r=N6(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pJ(this._path)}}class Uc extends xx{constructor(e,n){super(e,n,new fx,!1)}get parent(){const e=O6(this._path);return e===null?null:new Uc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}_Z(Uc);wZ(Uc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree="FIREBASE_DATABASE_EMULATOR_HOST",Nb={};let iee=!1;function see(t,e,n,r){t.repoInfo_=new E6(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function oee(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ho("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=D2(s,i),a=o.repoInfo,l;typeof process<"u"&&e2&&(l=e2[ree]),l?(s=`http://${l}?ns=${a.namespace}`,o=D2(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new $X(t.name,t.options,e);FZ("Invalid Firebase Database URL",o),pt(o.path)||ho("Database URL must point to the root of a Firebase Database (not including a child path).");const f=lee(a,t,u,new BX(t.name,n));return new uee(f,t)}function aee(t,e){const n=Nb[e];(!n||n[t.key]!==t)&&ho(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YZ(t),delete n[t.key]}function lee(t,e,n,r){let i=Nb[e.name];i||(i={},Nb[e.name]=i);let s=i[t.toURLString()];return s&&ho("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new HZ(t,iee,n,r),i[t.toURLString()]=s,s}class uee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uc(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ho("Cannot call "+e+" on a deleted database.")}}function cee(t=uy(),e){const n=oh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=oS("database");r&&fee(n,...r)}return n}function fee(t,e,n,r={}){t=Dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ho("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ho('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mm(mm.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:lS(r.mockUserToken,t.app.options.projectId);s=new mm(o)}see(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t){RX(Ia),fa(new ao("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return oee(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pi(t2,n2,t),pi(t2,n2,"esm2017")}eo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};eo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dee();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebasestorage.googleapis.com",_F="storageBucket",hee=2*60*1e3,pee=10*60*1e3,mee=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends xs{constructor(e,n,r=0){super(I_(e),`Firebase Storage: ${n} (${I_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function I_(t){return"storage/"+t}function Rx(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(qt.UNKNOWN,t)}function gee(t){return new tn(qt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yee(t){return new tn(qt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(qt.UNAUTHENTICATED,t)}function _ee(){return new tn(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wee(t){return new tn(qt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wF(){return new tn(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EF(){return new tn(qt.CANCELED,"User canceled the upload/download.")}function Eee(t){return new tn(qt.INVALID_URL,"Invalid URL '"+t+"'.")}function bee(t){return new tn(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Tee(){return new tn(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_F+"' property when initializing the app?")}function bF(){return new tn(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function See(){return new tn(qt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function xee(){return new tn(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ree(t){return new tn(qt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Db(t){return new tn(qt.INVALID_ARGUMENT,t)}function TF(){return new tn(qt.APP_DELETED,"The Firebase app was deleted.")}function Iee(t){return new tn(qt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(t,e){return new tn(qt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xf(t){throw new tn(qt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw bee(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},S=n===vF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",x=new RegExp(`^https?://${S}/${i}/${C}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:_,indices:E,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<v.length;I++){const k=v[I],B=k.regex.exec(e);if(B){const D=B[k.indices.bucket];let T=B[k.indices.path];T||(T=""),r=new Kr(D,T),k.postModify(r);break}}if(r==null)throw Eee(e);return r}}class Cee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function f(...C){u||(u=!0,e.apply(null,C))}function p(C){i=setTimeout(()=>{i=null,t(_,l())},C)}function y(){s&&clearTimeout(s)}function _(C,...x){if(u){y();return}if(C){y(),f.call(null,C,...x);return}if(l()||o){y(),f.call(null,C,...x);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,p(v)}let E=!1;function S(C){E||(E=!0,y(),!u&&(i!==null?(C||(a=2),clearTimeout(i),p(0)):C||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function Pee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){return t!==void 0}function Oee(t){return typeof t=="function"}function Nee(t){return typeof t=="object"&&!Array.isArray(t)}function Ly(t){return typeof t=="string"||t instanceof String}function L2(t){return Ix()&&t instanceof Blob}function Ix(){return typeof Blob<"u"}function M2(t,e,n,r){if(r<e)throw Db(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Db(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var pl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pl||(pl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,i,s,o,a,l,u,f,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===pl.NO_ERROR,l=s.getStatus();if(!a||xF(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===pl.ABORT;r(!1,new Fp(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Fp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kee(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Rx();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?TF():EF();o(l)}else{const l=wF();o(l)}};this.canceled_?n(!1,new Fp(!1,null,!0)):this.backoffId_=Aee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vee(t,e,n,r,i,s,o=!0){const a=SF(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Fee(u,e),Lee(u,n),Mee(u,s),jee(u,r),new Dee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Bee(...t){const e=Uee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ix())return new Blob(t);throw new tn(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $ee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee(t){if(typeof atob>"u")throw Ree("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class C_{constructor(e,n){this.data=e,this.contentType=n||null}}function Hee(t,e){switch(t){case gs.RAW:return new C_(RF(e));case gs.BASE64:case gs.BASE64URL:return new C_(IF(t,e));case gs.DATA_URL:return new C_(Wee(e),Kee(e))}throw Rx()}function RF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qee(t){let e;try{e=decodeURIComponent(t)}catch{throw ad(gs.DATA_URL,"Malformed data URL.")}return RF(e)}function IF(t,e){switch(t){case gs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zee(e)}catch(i){throw i.message.includes("polyfill")?i:ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ad(gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Gee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Wee(t){const e=new CF(t);return e.base64?IF(gs.BASE64,e.rest):qee(e.rest)}function Kee(t){return new CF(t).contentType}function Gee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){let r=0,i="";L2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(L2(this.data_)){const r=this.data_,i=$ee(r,e,n);return i===null?null:new $o(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $o(r,!0)}}static getBlob(...e){if(Ix()){const n=e.map(r=>r instanceof $o?r.data_:r);return new $o(Bee.apply(null,n))}else{const n=e.map(o=>Ly(o)?Hee(gs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new $o(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){let e;try{e=JSON.parse(t)}catch{return null}return Nee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Yee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t,e){return e}class dr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Xee}}let jp=null;function Jee(t){return!Ly(t)||t.length<2?t:PF(t)}function kF(){if(jp)return jp;const t=[];t.push(new dr("bucket")),t.push(new dr("generation")),t.push(new dr("metageneration")),t.push(new dr("name","fullPath",!0));function e(s,o){return Jee(o)}const n=new dr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new dr("size");return i.xform=r,t.push(i),t.push(new dr("timeCreated")),t.push(new dr("updated")),t.push(new dr("md5Hash",null,!0)),t.push(new dr("cacheControl",null,!0)),t.push(new dr("contentDisposition",null,!0)),t.push(new dr("contentEncoding",null,!0)),t.push(new dr("contentLanguage",null,!0)),t.push(new dr("contentType",null,!0)),t.push(new dr("metadata","customMetadata",!0)),jp=t,jp}function Zee(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Kr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ete(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Zee(r,t),r}function OF(t,e,n){const r=AF(e);return r===null?null:ete(t,r,n)}function tte(t,e,n,r){const i=AF(e);if(i===null||!Ly(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,p=t.fullPath,y="/b/"+o(f)+"/o/"+o(p),_=Th(y,n,r),E=SF({alt:"media",token:u});return _+E})[0]}function NF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Bc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(!t)throw Rx()}function Cx(t,e){function n(r,i){const s=OF(t,i,e);return to(s!==null),s}return n}function nte(t,e){function n(r,i){const s=OF(t,i,e);return to(s!==null),tte(s,i,t.host,t._protocol)}return n}function Sh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_ee():i=vee():n.getStatus()===402?i=yee(t.bucket):n.getStatus()===403?i=wee(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function DF(t){const e=Sh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=gee(t.path)),s.serverResponse=i.serverResponse,s}return n}function rte(t,e,n){const r=e.fullServerUrl(),i=Th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Bc(i,s,Cx(t,n),o);return a.errorHandler=DF(e),a}function ite(t,e,n){const r=e.fullServerUrl(),i=Th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Bc(i,s,nte(t,n),o);return a.errorHandler=DF(e),a}function ste(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ste(null,e)),r}function ote(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let I=0;I<2;I++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=LF(e,r,i),f=NF(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+l+"--",_=$o.getBlob(p,r,y);if(_===null)throw bF();const E={name:u.fullPath},S=Th(s,t.host,t._protocol),C="POST",x=t.maxUploadRetryTime,w=new Bc(S,C,Cx(t,n),x);return w.urlParams=E,w.headers=o,w.body=_.uploadData(),w.errorHandler=Sh(e),w}class Rg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Ax(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{to(!1)}return to(!!n&&(e||["active"]).indexOf(n)!==-1),n}function ate(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=LF(e,r,i),a={name:o.fullPath},l=Th(s,t.host,t._protocol),u="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=NF(o,n),y=t.maxUploadRetryTime;function _(S){Ax(S);let C;try{C=S.getResponseHeader("X-Goog-Upload-URL")}catch{to(!1)}return to(Ly(C)),C}const E=new Bc(l,u,_,y);return E.urlParams=a,E.headers=f,E.body=p,E.errorHandler=Sh(e),E}function lte(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const f=Ax(u,["active","final"]);let p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{to(!1)}p||to(!1);const y=Number(p);return to(!isNaN(y)),new Rg(y,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Bc(n,o,s,a);return l.headers=i,l.errorHandler=Sh(e),l}const F2=256*1024;function ute(t,e,n,r,i,s,o,a){const l=new Rg(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw See();const u=l.total-l.current;let f=u;i>0&&(f=Math.min(f,i));const p=l.current,y=p+f;let _="";f===0?_="finalize":u===f?_="upload, finalize":_="upload";const E={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${l.current}`},S=r.slice(p,y);if(S===null)throw bF();function C(I,k){const B=Ax(I,["active","final"]),D=l.current+f,T=r.size();let N;return B==="final"?N=Cx(e,s)(I,k):N=null,new Rg(D,T,B==="final",N)}const x="POST",w=e.maxUploadRetryTime,v=new Bc(n,x,C,w);return v.headers=E,v.body=S.uploadData(),v.progressCallback=a||null,v.errorHandler=Sh(t),v}const Rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function A_(t){switch(t){case"running":case"pausing":case"canceling":return Rr.RUNNING;case"paused":return Rr.PAUSED;case"success":return Rr.SUCCESS;case"canceled":return Rr.CANCELED;case"error":return Rr.ERROR;default:return Rr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e,n,r){if(Oee(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class fte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dte extends fte{initXhr(){this.xhr_.responseType="text"}}function Cu(){return new dte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=kF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(qt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(xF(i.status,[]))if(s)i=wF();else{this.sleepTime=Math.max(this.sleepTime*2,mee),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(qt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=ate(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cu,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=lte(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Cu,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=F2*this._chunkMultiplier,n=new Rg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=ute(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Cu,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){F2*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=rte(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Cu,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ote(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cu,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=EF(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=A_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new cte(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(A_(this._state)){case Rr.SUCCESS:bu(this._resolve.bind(null,this.snapshot))();break;case Rr.CANCELED:case Rr.ERROR:const n=this._reject;bu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(A_(this._state)){case Rr.RUNNING:case Rr.PAUSED:e.next&&bu(e.next.bind(e,this.snapshot))();break;case Rr.SUCCESS:e.complete&&bu(e.complete.bind(e))();break;case Rr.CANCELED:case Rr.ERROR:e.error&&bu(e.error.bind(e,this._error))();break;default:e.error&&bu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kl(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PF(this._location.path)}get storage(){return this._service}get parent(){const e=Qee(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new kl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Iee(e)}}function pte(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new hte(t,new $o(e),n)}function mte(t){t._throwIfRoot("getDownloadURL");const e=ite(t.storage,t._location,kF());return t.storage.makeRequestWithTokens(e,Cu).then(n=>{if(n===null)throw xee();return n})}function gte(t,e){const n=Yee(t._location.path,e),r=new Kr(t._location.bucket,n);return new kl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t){return/^[A-Za-z]+:\/\//.test(t)}function vte(t,e){return new kl(t,e)}function MF(t,e){if(t instanceof Px){const n=t;if(n._bucket==null)throw Tee();const r=new kl(n,n._bucket);return e!=null?MF(r,e):r}else return e!==void 0?gte(t,e):t}function _te(t,e){if(e&&yte(e)){if(t instanceof Px)return vte(t,e);throw Db("To use ref(service, url), the first argument must be a Storage instance.")}else return MF(t,e)}function j2(t,e){const n=e==null?void 0:e[_F];return n==null?null:Kr.makeFromBucketSpec(n,t)}function wte(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lS(i,t.app.options.projectId))}class Px{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hee,this._maxUploadRetryTime=pee,this._requests=new Set,i!=null?this._bucket=Kr.makeFromBucketSpec(i,this._host):this._bucket=j2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=j2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Cee(TF());{const o=Vee(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V2="@firebase/storage",U2="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="storage";function Ete(t,e,n){return t=Dt(t),pte(t,e,n)}function bte(t){return t=Dt(t),mte(t)}function Tte(t,e){return t=Dt(t),_te(t,e)}function Ste(t=uy(),e){t=Dt(t);const r=oh(t,FF).getImmediate({identifier:e}),i=oS("storage");return i&&xte(r,...i),r}function xte(t,e,n,r={}){wte(t,e,n,r)}function Rte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Px(n,r,i,e,Ia)}function Ite(){fa(new ao(FF,Rte,"PUBLIC").setMultipleInstances(!0)),pi(V2,U2,""),pi(V2,U2,"esm2017")}Ite();const Cte={apiKey:"AIzaSyBI7getH_fChUe0QQDJdlx5Opsrrmnm9M0",authDomain:"r-social-f2ef8.firebaseapp.com",databaseURL:"https://r-social-f2ef8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"r-social-f2ef8",storageBucket:"r-social-f2ef8.appspot.com",messagingSenderId:"364260354059",appId:"1:364260354059:web:9861d4323431c776e7ff0e",measurementId:"G-L49PRTPQLR"},My=KL(Cte),B2=uX(My);cee(My);const Tu=oG(My),Ate=Ste(My),jF=O.createContext();function Pte({children:t}){const[e,n]=O.useState(null),r=new Li,i=async f=>{(await gr(Ir(Ln(B2,"users"),ui("uid","==",f)))).forEach(y=>{n(y.data())})};O.useEffect(()=>{const f=QW(Tu,p=>{p?i(p==null?void 0:p.uid):n(null)});return()=>{f()}},[]),O.useEffect(()=>{},[]);function s(f,p){return $W(Tu,f,p)}async function o(f,p){return WW(Tu,wM).then(()=>zW(Tu,f,p))}function a(){return YW(Tu)}function l(){return mK(Tu,r)}const u={currentUser:e,setCurrentUser:n,registerUzer:s,loginUzer:o,logoutUzer:a,loginWithProvider:l,db:B2};return R.jsx(jF.Provider,{value:u,children:t})}function cr(){return O.useContext(jF)}const hs=(t="Some msg",e="info",n="bottom-center",r=4e3)=>{Lt[e](`${t}`,{position:n,autoClose:r,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"light",transition:vG})};var VF={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Fi,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="/",i(i.s=7)}([function(n,r,i){function s(o,a,l,u,f,p,y,_){if(!o){var E;if(a===void 0)E=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[l,u,f,p,y,_],C=0;E=new Error(a.replace(/%s/g,function(){return S[C++]})),E.name="Invariant Violation"}throw E.framesToPop=1,E}}n.exports=s},function(n,r,i){function s(a){return function(){return a}}var o=function(){};o.thatReturns=s,o.thatReturnsFalse=s(!1),o.thatReturnsTrue=s(!0),o.thatReturnsNull=s(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(a){return a},n.exports=o},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function l(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}function u(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var p={},y=0;y<10;y++)p["_"+String.fromCharCode(y)]=y;var _=Object.getOwnPropertyNames(p).map(function(S){return p[S]});if(_.join("")!=="0123456789")return!1;var E={};return"abcdefghijklmnopqrst".split("").forEach(function(S){E[S]=S}),Object.keys(Object.assign({},E)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=u()?Object.assign:function(f,p){for(var y,_=l(f),E,S=1;S<arguments.length;S++){y=Object(arguments[S]);for(var C in y)o.call(y,C)&&(_[C]=y[C]);if(s){E=s(y);for(var x=0;x<E.length;x++)a.call(y,E[x])&&(_[E[x]]=y[E[x]])}}return _}},function(n,r,i){var s=i(1),o=s;n.exports=o},function(n,r,i){var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=s},function(n,r,i){var s={};n.exports=s},function(n,r,i){function s(o,a,l,u,f){}n.exports=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=Object.assign||function(I){for(var k=1;k<arguments.length;k++){var B=arguments[k];for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(I[D]=B[D])}return I},o=function(){function I(k,B){for(var D=0;D<B.length;D++){var T=B[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,B,D){return B&&I(k.prototype,B),D&&I(k,D),k}}(),a=i(8),l=E(a),u=i(11),f=E(u),p=i(14),y=_(p);function _(I){if(I&&I.__esModule)return I;var k={};if(I!=null)for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(k[B]=I[B]);return k.default=I,k}function E(I){return I&&I.__esModule?I:{default:I}}function S(I,k){var B={};for(var D in I)k.indexOf(D)>=0||Object.prototype.hasOwnProperty.call(I,D)&&(B[D]=I[D]);return B}function C(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function x(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function w(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var v=function(I){w(k,I);function k(){var B,D,T,N;C(this,k);for(var L=arguments.length,M=Array(L),U=0;U<L;U++)M[U]=arguments[U];return N=(D=(T=x(this,(B=k.__proto__||Object.getPrototypeOf(k)).call.apply(B,[this].concat(M))),T),T.state={delayed:T.props.delay>0},D),x(T,N)}return o(k,[{key:"componentDidMount",value:function(){var D=this,T=this.props.delay,N=this.state.delayed;N&&(this.timeout=setTimeout(function(){D.setState({delayed:!1})},T))}},{key:"componentWillUnmount",value:function(){var D=this.timeout;D&&clearTimeout(D)}},{key:"render",value:function(){var D=this.props,T=D.color;D.delay;var N=D.type,L=D.height,M=D.width,U=S(D,["color","delay","type","height","width"]),F=this.state.delayed?"blank":N,ie=y[F],de={fill:T,height:L,width:M};return l.default.createElement("div",s({style:de,dangerouslySetInnerHTML:{__html:ie}},U))}}]),k}(a.Component);v.propTypes={color:f.default.string,delay:f.default.number,type:f.default.string,height:f.default.oneOfType([f.default.string,f.default.number]),width:f.default.oneOfType([f.default.string,f.default.number])},v.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},r.default=v},function(n,r,i){n.exports=i(9)},function(n,r,i){/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=i(2),o=i(0),a=i(5),l=i(1),u=typeof Symbol=="function"&&Symbol.for,f=u?Symbol.for("react.element"):60103,p=u?Symbol.for("react.portal"):60106,y=u?Symbol.for("react.fragment"):60107,_=u?Symbol.for("react.strict_mode"):60108,E=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,C=u?Symbol.for("react.async_mode"):60111,x=u?Symbol.for("react.forward_ref"):60112,w=typeof Symbol=="function"&&Symbol.iterator;function v(W){for(var ce=arguments.length-1,xe="http://reactjs.org/docs/error-decoder.html?invariant="+W,Ee=0;Ee<ce;Ee++)xe+="&args[]="+encodeURIComponent(arguments[Ee+1]);o(!1,"Minified React error #"+W+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",xe)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function k(W,ce,xe){this.props=W,this.context=ce,this.refs=a,this.updater=xe||I}k.prototype.isReactComponent={},k.prototype.setState=function(W,ce){typeof W!="object"&&typeof W!="function"&&W!=null&&v("85"),this.updater.enqueueSetState(this,W,ce,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function B(){}B.prototype=k.prototype;function D(W,ce,xe){this.props=W,this.context=ce,this.refs=a,this.updater=xe||I}var T=D.prototype=new B;T.constructor=D,s(T,k.prototype),T.isPureReactComponent=!0;var N={current:null},L=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function U(W,ce,xe){var Ee=void 0,Se={},Ge=null,Et=null;if(ce!=null)for(Ee in ce.ref!==void 0&&(Et=ce.ref),ce.key!==void 0&&(Ge=""+ce.key),ce)L.call(ce,Ee)&&!M.hasOwnProperty(Ee)&&(Se[Ee]=ce[Ee]);var He=arguments.length-2;if(He===1)Se.children=xe;else if(1<He){for(var We=Array(He),Gt=0;Gt<He;Gt++)We[Gt]=arguments[Gt+2];Se.children=We}if(W&&W.defaultProps)for(Ee in He=W.defaultProps,He)Se[Ee]===void 0&&(Se[Ee]=He[Ee]);return{$$typeof:f,type:W,key:Ge,ref:Et,props:Se,_owner:N.current}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===f}function ie(W){var ce={"=":"=0",":":"=2"};return"$"+(""+W).replace(/[=:]/g,function(xe){return ce[xe]})}var de=/\/+/g,ue=[];function Y(W,ce,xe,Ee){if(ue.length){var Se=ue.pop();return Se.result=W,Se.keyPrefix=ce,Se.func=xe,Se.context=Ee,Se.count=0,Se}return{result:W,keyPrefix:ce,func:xe,context:Ee,count:0}}function Q(W){W.result=null,W.keyPrefix=null,W.func=null,W.context=null,W.count=0,10>ue.length&&ue.push(W)}function ee(W,ce,xe,Ee){var Se=typeof W;(Se==="undefined"||Se==="boolean")&&(W=null);var Ge=!1;if(W===null)Ge=!0;else switch(Se){case"string":case"number":Ge=!0;break;case"object":switch(W.$$typeof){case f:case p:Ge=!0}}if(Ge)return xe(Ee,W,ce===""?"."+me(W,0):ce),1;if(Ge=0,ce=ce===""?".":ce+":",Array.isArray(W))for(var Et=0;Et<W.length;Et++){Se=W[Et];var He=ce+me(Se,Et);Ge+=ee(Se,He,xe,Ee)}else if(W===null||typeof W>"u"?He=null:(He=w&&W[w]||W["@@iterator"],He=typeof He=="function"?He:null),typeof He=="function")for(W=He.call(W),Et=0;!(Se=W.next()).done;)Se=Se.value,He=ce+me(Se,Et++),Ge+=ee(Se,He,xe,Ee);else Se==="object"&&(xe=""+W,v("31",xe==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":xe,""));return Ge}function me(W,ce){return typeof W=="object"&&W!==null&&W.key!=null?ie(W.key):ce.toString(36)}function ne(W,ce){W.func.call(W.context,ce,W.count++)}function $(W,ce,xe){var Ee=W.result,Se=W.keyPrefix;W=W.func.call(W.context,ce,W.count++),Array.isArray(W)?K(W,Ee,xe,l.thatReturnsArgument):W!=null&&(F(W)&&(ce=Se+(!W.key||ce&&ce.key===W.key?"":(""+W.key).replace(de,"$&/")+"/")+xe,W={$$typeof:f,type:W.type,key:ce,ref:W.ref,props:W.props,_owner:W._owner}),Ee.push(W))}function K(W,ce,xe,Ee,Se){var Ge="";xe!=null&&(Ge=(""+xe).replace(de,"$&/")+"/"),ce=Y(ce,Ge,Ee,Se),W==null||ee(W,"",$,ce),Q(ce)}var Z={Children:{map:function(W,ce,xe){if(W==null)return W;var Ee=[];return K(W,Ee,null,ce,xe),Ee},forEach:function(W,ce,xe){if(W==null)return W;ce=Y(null,null,ce,xe),W==null||ee(W,"",ne,ce),Q(ce)},count:function(W){return W==null?0:ee(W,"",l.thatReturnsNull,null)},toArray:function(W){var ce=[];return K(W,ce,null,l.thatReturnsArgument),ce},only:function(W){return F(W)||v("143"),W}},createRef:function(){return{current:null}},Component:k,PureComponent:D,createContext:function(W,ce){return ce===void 0&&(ce=null),W={$$typeof:S,_calculateChangedBits:ce,_defaultValue:W,_currentValue:W,_changedBits:0,Provider:null,Consumer:null},W.Provider={$$typeof:E,_context:W},W.Consumer=W},forwardRef:function(W){return{$$typeof:x,render:W}},Fragment:y,StrictMode:_,unstable_AsyncMode:C,createElement:U,cloneElement:function(W,ce,xe){W==null&&v("267",W);var Ee=void 0,Se=s({},W.props),Ge=W.key,Et=W.ref,He=W._owner;if(ce!=null){ce.ref!==void 0&&(Et=ce.ref,He=N.current),ce.key!==void 0&&(Ge=""+ce.key);var We=void 0;W.type&&W.type.defaultProps&&(We=W.type.defaultProps);for(Ee in ce)L.call(ce,Ee)&&!M.hasOwnProperty(Ee)&&(Se[Ee]=ce[Ee]===void 0&&We!==void 0?We[Ee]:ce[Ee])}if(Ee=arguments.length-2,Ee===1)Se.children=xe;else if(1<Ee){We=Array(Ee);for(var Gt=0;Gt<Ee;Gt++)We[Gt]=arguments[Gt+2];Se.children=We}return{$$typeof:f,type:W.type,key:Ge,ref:Et,props:Se,_owner:He}},createFactory:function(W){var ce=U.bind(null,W);return ce.type=W,ce},isValidElement:F,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:s}},Ae=Object.freeze({default:Z}),Ce=Ae&&Z||Ae;n.exports=Ce.default?Ce.default:Ce},function(n,r,i){},function(n,r,i){n.exports=i(13)()},function(n,r,i){var s=i(1),o=i(0),a=i(3),l=i(2),u=i(4),f=i(6);n.exports=function(p,y){var _=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function S($){var K=$&&(_&&$[_]||$[E]);if(typeof K=="function")return K}var C="<<anonymous>>",x={array:k("array"),bool:k("boolean"),func:k("function"),number:k("number"),object:k("object"),string:k("string"),symbol:k("symbol"),any:B(),arrayOf:D,element:T(),instanceOf:N,node:F(),objectOf:M,oneOf:L,oneOfType:U,shape:ie,exact:de};function w($,K){return $===K?$!==0||1/$===1/K:$!==$&&K!==K}function v($){this.message=$,this.stack=""}v.prototype=Error.prototype;function I($){function K(Ae,Ce,W,ce,xe,Ee,Se){return ce=ce||C,Ee=Ee||W,Se!==u&&y&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),Ce[W]==null?Ae?Ce[W]===null?new v("The "+xe+" `"+Ee+"` is marked as required "+("in `"+ce+"`, but its value is `null`.")):new v("The "+xe+" `"+Ee+"` is marked as required in "+("`"+ce+"`, but its value is `undefined`.")):null:$(Ce,W,ce,xe,Ee)}var Z=K.bind(null,!1);return Z.isRequired=K.bind(null,!0),Z}function k($){function K(Z,Ae,Ce,W,ce,xe){var Ee=Z[Ae],Se=Q(Ee);if(Se!==$){var Ge=ee(Ee);return new v("Invalid "+W+" `"+ce+"` of type "+("`"+Ge+"` supplied to `"+Ce+"`, expected ")+("`"+$+"`."))}return null}return I(K)}function B(){return I(s.thatReturnsNull)}function D($){function K(Z,Ae,Ce,W,ce){if(typeof $!="function")return new v("Property `"+ce+"` of component `"+Ce+"` has invalid PropType notation inside arrayOf.");var xe=Z[Ae];if(!Array.isArray(xe)){var Ee=Q(xe);return new v("Invalid "+W+" `"+ce+"` of type "+("`"+Ee+"` supplied to `"+Ce+"`, expected an array."))}for(var Se=0;Se<xe.length;Se++){var Ge=$(xe,Se,Ce,W,ce+"["+Se+"]",u);if(Ge instanceof Error)return Ge}return null}return I(K)}function T(){function $(K,Z,Ae,Ce,W){var ce=K[Z];if(!p(ce)){var xe=Q(ce);return new v("Invalid "+Ce+" `"+W+"` of type "+("`"+xe+"` supplied to `"+Ae+"`, expected a single ReactElement."))}return null}return I($)}function N($){function K(Z,Ae,Ce,W,ce){if(!(Z[Ae]instanceof $)){var xe=$.name||C,Ee=ne(Z[Ae]);return new v("Invalid "+W+" `"+ce+"` of type "+("`"+Ee+"` supplied to `"+Ce+"`, expected ")+("instance of `"+xe+"`."))}return null}return I(K)}function L($){if(!Array.isArray($))return s.thatReturnsNull;function K(Z,Ae,Ce,W,ce){for(var xe=Z[Ae],Ee=0;Ee<$.length;Ee++)if(w(xe,$[Ee]))return null;var Se=JSON.stringify($);return new v("Invalid "+W+" `"+ce+"` of value `"+xe+"` "+("supplied to `"+Ce+"`, expected one of "+Se+"."))}return I(K)}function M($){function K(Z,Ae,Ce,W,ce){if(typeof $!="function")return new v("Property `"+ce+"` of component `"+Ce+"` has invalid PropType notation inside objectOf.");var xe=Z[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ce+"` of type "+("`"+Ee+"` supplied to `"+Ce+"`, expected an object."));for(var Se in xe)if(xe.hasOwnProperty(Se)){var Ge=$(xe,Se,Ce,W,ce+"."+Se,u);if(Ge instanceof Error)return Ge}return null}return I(K)}function U($){if(!Array.isArray($))return s.thatReturnsNull;for(var K=0;K<$.length;K++){var Z=$[K];if(typeof Z!="function")return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",me(Z),K),s.thatReturnsNull}function Ae(Ce,W,ce,xe,Ee){for(var Se=0;Se<$.length;Se++){var Ge=$[Se];if(Ge(Ce,W,ce,xe,Ee,u)==null)return null}return new v("Invalid "+xe+" `"+Ee+"` supplied to "+("`"+ce+"`."))}return I(Ae)}function F(){function $(K,Z,Ae,Ce,W){return ue(K[Z])?null:new v("Invalid "+Ce+" `"+W+"` supplied to "+("`"+Ae+"`, expected a ReactNode."))}return I($)}function ie($){function K(Z,Ae,Ce,W,ce){var xe=Z[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ce+"` of type `"+Ee+"` "+("supplied to `"+Ce+"`, expected `object`."));for(var Se in $){var Ge=$[Se];if(Ge){var Et=Ge(xe,Se,Ce,W,ce+"."+Se,u);if(Et)return Et}}return null}return I(K)}function de($){function K(Z,Ae,Ce,W,ce){var xe=Z[Ae],Ee=Q(xe);if(Ee!=="object")return new v("Invalid "+W+" `"+ce+"` of type `"+Ee+"` "+("supplied to `"+Ce+"`, expected `object`."));var Se=l({},Z[Ae],$);for(var Ge in Se){var Et=$[Ge];if(!Et)return new v("Invalid "+W+" `"+ce+"` key `"+Ge+"` supplied to `"+Ce+"`.\nBad object: "+JSON.stringify(Z[Ae],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys($),null,"  "));var He=Et(xe,Ge,Ce,W,ce+"."+Ge,u);if(He)return He}return null}return I(K)}function ue($){switch(typeof $){case"number":case"string":case"undefined":return!0;case"boolean":return!$;case"object":if(Array.isArray($))return $.every(ue);if($===null||p($))return!0;var K=S($);if(K){var Z=K.call($),Ae;if(K!==$.entries){for(;!(Ae=Z.next()).done;)if(!ue(Ae.value))return!1}else for(;!(Ae=Z.next()).done;){var Ce=Ae.value;if(Ce&&!ue(Ce[1]))return!1}}else return!1;return!0;default:return!1}}function Y($,K){return $==="symbol"||K["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&K instanceof Symbol}function Q($){var K=typeof $;return Array.isArray($)?"array":$ instanceof RegExp?"object":Y(K,$)?"symbol":K}function ee($){if(typeof $>"u"||$===null)return""+$;var K=Q($);if(K==="object"){if($ instanceof Date)return"date";if($ instanceof RegExp)return"regexp"}return K}function me($){var K=ee($);switch(K){case"array":case"object":return"an "+K;case"boolean":case"date":case"regexp":return"a "+K;default:return K}}function ne($){return!$.constructor||!$.constructor.name?C:$.constructor.name}return x.checkPropTypes=f,x.PropTypes=x,x}},function(n,r,i){var s=i(1),o=i(0),a=i(4);n.exports=function(){function l(p,y,_,E,S,C){C!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}l.isRequired=l;function u(){return l}var f={array:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return f.checkPropTypes=s,f.PropTypes=f,f}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(15);Object.defineProperty(r,"blank",{enumerable:!0,get:function(){return E(s).default}});var o=i(16);Object.defineProperty(r,"balls",{enumerable:!0,get:function(){return E(o).default}});var a=i(17);Object.defineProperty(r,"bars",{enumerable:!0,get:function(){return E(a).default}});var l=i(18);Object.defineProperty(r,"bubbles",{enumerable:!0,get:function(){return E(l).default}});var u=i(19);Object.defineProperty(r,"cubes",{enumerable:!0,get:function(){return E(u).default}});var f=i(20);Object.defineProperty(r,"cylon",{enumerable:!0,get:function(){return E(f).default}});var p=i(21);Object.defineProperty(r,"spin",{enumerable:!0,get:function(){return E(p).default}});var y=i(22);Object.defineProperty(r,"spinningBubbles",{enumerable:!0,get:function(){return E(y).default}});var _=i(23);Object.defineProperty(r,"spokes",{enumerable:!0,get:function(){return E(_).default}});function E(S){return S&&S.__esModule?S:{default:S}}},function(n,r){n.exports=`<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>
`},function(n,r){n.exports=`<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>
  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">
    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>
  </path>
</svg>
`}])})})(VF);var kte=VF.exports;const Ote=Kb(kte),Fy=({height:t,width:e})=>R.jsx(Ote,{type:"spokes",color:"white",height:t||"90%",width:e||"90%",className:"text-center mx-3 "});var Nte={exports:{}};function Dte(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var P_={exports:{}};const Lte={},Mte=Object.freeze(Object.defineProperty({__proto__:null,default:Lte},Symbol.toStringTag,{value:"Module"})),Fte=aU(Mte);var $2;function jte(){return $2||($2=1,function(t,e){(function(n,r){t.exports=r()})(Fi,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Fi<"u"&&Fi.crypto&&(s=Fi.crypto),!s&&typeof Dte=="function")try{s=Fte}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function w(){}return function(v){var I;return w.prototype=v,I=new w,w.prototype=null,I}}(),l={},u=l.lib={},f=u.Base=function(){return{extend:function(w){var v=a(this);return w&&v.mixIn(w),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var v in w)w.hasOwnProperty(v)&&(this[v]=w[v]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=u.WordArray=f.extend({init:function(w,v){w=this.words=w||[],v!=i?this.sigBytes=v:this.sigBytes=w.length*4},toString:function(w){return(w||_).stringify(this)},concat:function(w){var v=this.words,I=w.words,k=this.sigBytes,B=w.sigBytes;if(this.clamp(),k%4)for(var D=0;D<B;D++){var T=I[D>>>2]>>>24-D%4*8&255;v[k+D>>>2]|=T<<24-(k+D)%4*8}else for(var N=0;N<B;N+=4)v[k+N>>>2]=I[N>>>2];return this.sigBytes+=B,this},clamp:function(){var w=this.words,v=this.sigBytes;w[v>>>2]&=4294967295<<32-v%4*8,w.length=r.ceil(v/4)},clone:function(){var w=f.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var v=[],I=0;I<w;I+=4)v.push(o());return new p.init(v,w)}}),y=l.enc={},_=y.Hex={stringify:function(w){for(var v=w.words,I=w.sigBytes,k=[],B=0;B<I;B++){var D=v[B>>>2]>>>24-B%4*8&255;k.push((D>>>4).toString(16)),k.push((D&15).toString(16))}return k.join("")},parse:function(w){for(var v=w.length,I=[],k=0;k<v;k+=2)I[k>>>3]|=parseInt(w.substr(k,2),16)<<24-k%8*4;return new p.init(I,v/2)}},E=y.Latin1={stringify:function(w){for(var v=w.words,I=w.sigBytes,k=[],B=0;B<I;B++){var D=v[B>>>2]>>>24-B%4*8&255;k.push(String.fromCharCode(D))}return k.join("")},parse:function(w){for(var v=w.length,I=[],k=0;k<v;k++)I[k>>>2]|=(w.charCodeAt(k)&255)<<24-k%4*8;return new p.init(I,v)}},S=y.Utf8={stringify:function(w){try{return decodeURIComponent(escape(E.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return E.parse(unescape(encodeURIComponent(w)))}},C=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=S.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var v,I=this._data,k=I.words,B=I.sigBytes,D=this.blockSize,T=D*4,N=B/T;w?N=r.ceil(N):N=r.max((N|0)-this._minBufferSize,0);var L=N*D,M=r.min(L*4,B);if(L){for(var U=0;U<L;U+=D)this._doProcessBlock(k,U);v=k.splice(0,L),I.sigBytes-=M}return new p.init(v,M)},clone:function(){var w=f.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=C.extend({cfg:f.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(w){return function(v,I){return new w.init(I).finalize(v)}},_createHmacHelper:function(w){return function(v,I){return new x.HMAC.init(w,I).finalize(v)}}});var x=l.algo={};return l}(Math);return n})}(P_)),P_.exports}(function(t,e){(function(n,r){t.exports=r(jte())})(Fi,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var S=0;S<64;S++)u[S]=r.abs(r.sin(S+1))*4294967296|0})();var f=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,C){for(var x=0;x<16;x++){var w=C+x,v=S[w];S[w]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var I=this._hash.words,k=S[C+0],B=S[C+1],D=S[C+2],T=S[C+3],N=S[C+4],L=S[C+5],M=S[C+6],U=S[C+7],F=S[C+8],ie=S[C+9],de=S[C+10],ue=S[C+11],Y=S[C+12],Q=S[C+13],ee=S[C+14],me=S[C+15],ne=I[0],$=I[1],K=I[2],Z=I[3];ne=p(ne,$,K,Z,k,7,u[0]),Z=p(Z,ne,$,K,B,12,u[1]),K=p(K,Z,ne,$,D,17,u[2]),$=p($,K,Z,ne,T,22,u[3]),ne=p(ne,$,K,Z,N,7,u[4]),Z=p(Z,ne,$,K,L,12,u[5]),K=p(K,Z,ne,$,M,17,u[6]),$=p($,K,Z,ne,U,22,u[7]),ne=p(ne,$,K,Z,F,7,u[8]),Z=p(Z,ne,$,K,ie,12,u[9]),K=p(K,Z,ne,$,de,17,u[10]),$=p($,K,Z,ne,ue,22,u[11]),ne=p(ne,$,K,Z,Y,7,u[12]),Z=p(Z,ne,$,K,Q,12,u[13]),K=p(K,Z,ne,$,ee,17,u[14]),$=p($,K,Z,ne,me,22,u[15]),ne=y(ne,$,K,Z,B,5,u[16]),Z=y(Z,ne,$,K,M,9,u[17]),K=y(K,Z,ne,$,ue,14,u[18]),$=y($,K,Z,ne,k,20,u[19]),ne=y(ne,$,K,Z,L,5,u[20]),Z=y(Z,ne,$,K,de,9,u[21]),K=y(K,Z,ne,$,me,14,u[22]),$=y($,K,Z,ne,N,20,u[23]),ne=y(ne,$,K,Z,ie,5,u[24]),Z=y(Z,ne,$,K,ee,9,u[25]),K=y(K,Z,ne,$,T,14,u[26]),$=y($,K,Z,ne,F,20,u[27]),ne=y(ne,$,K,Z,Q,5,u[28]),Z=y(Z,ne,$,K,D,9,u[29]),K=y(K,Z,ne,$,U,14,u[30]),$=y($,K,Z,ne,Y,20,u[31]),ne=_(ne,$,K,Z,L,4,u[32]),Z=_(Z,ne,$,K,F,11,u[33]),K=_(K,Z,ne,$,ue,16,u[34]),$=_($,K,Z,ne,ee,23,u[35]),ne=_(ne,$,K,Z,B,4,u[36]),Z=_(Z,ne,$,K,N,11,u[37]),K=_(K,Z,ne,$,U,16,u[38]),$=_($,K,Z,ne,de,23,u[39]),ne=_(ne,$,K,Z,Q,4,u[40]),Z=_(Z,ne,$,K,k,11,u[41]),K=_(K,Z,ne,$,T,16,u[42]),$=_($,K,Z,ne,M,23,u[43]),ne=_(ne,$,K,Z,ie,4,u[44]),Z=_(Z,ne,$,K,Y,11,u[45]),K=_(K,Z,ne,$,me,16,u[46]),$=_($,K,Z,ne,D,23,u[47]),ne=E(ne,$,K,Z,k,6,u[48]),Z=E(Z,ne,$,K,U,10,u[49]),K=E(K,Z,ne,$,ee,15,u[50]),$=E($,K,Z,ne,L,21,u[51]),ne=E(ne,$,K,Z,Y,6,u[52]),Z=E(Z,ne,$,K,T,10,u[53]),K=E(K,Z,ne,$,de,15,u[54]),$=E($,K,Z,ne,B,21,u[55]),ne=E(ne,$,K,Z,F,6,u[56]),Z=E(Z,ne,$,K,me,10,u[57]),K=E(K,Z,ne,$,M,15,u[58]),$=E($,K,Z,ne,Q,21,u[59]),ne=E(ne,$,K,Z,N,6,u[60]),Z=E(Z,ne,$,K,ue,10,u[61]),K=E(K,Z,ne,$,D,15,u[62]),$=E($,K,Z,ne,ie,21,u[63]),I[0]=I[0]+ne|0,I[1]=I[1]+$|0,I[2]=I[2]+K|0,I[3]=I[3]+Z|0},_doFinalize:function(){var S=this._data,C=S.words,x=this._nDataBytes*8,w=S.sigBytes*8;C[w>>>5]|=128<<24-w%32;var v=r.floor(x/4294967296),I=x;C[(w+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C[(w+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,S.sigBytes=(C.length+1)*4,this._process();for(var k=this._hash,B=k.words,D=0;D<4;D++){var T=B[D];B[D]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return k},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function p(S,C,x,w,v,I,k){var B=S+(C&x|~C&w)+v+k;return(B<<I|B>>>32-I)+C}function y(S,C,x,w,v,I,k){var B=S+(C&w|x&~w)+v+k;return(B<<I|B>>>32-I)+C}function _(S,C,x,w,v,I,k){var B=S+(C^x^w)+v+k;return(B<<I|B>>>32-I)+C}function E(S,C,x,w,v,I,k){var B=S+(x^(C|~w))+v+k;return(B<<I|B>>>32-I)+C}i.MD5=a._createHelper(f),i.HmacMD5=a._createHmacHelper(f)}(Math),n.MD5})})(Nte);const UF=O.createContext({userArray:[]}),_i=()=>O.useContext(UF);function Vte({children:t}){const{db:e,currentUser:n,setCurrentUser:r}=cr(),[i,s]=O.useState([]),[o,a]=O.useState([]),[l,u]=O.useState([]),[f,p]=O.useState(!1);console.log(n==null?void 0:n.username);const y=[],[_,E]=O.useState([]),[S,C]=O.useState([]),[x,w]=O.useState(!1),v=async()=>{try{(await gr(Ir(Ln(e,"users")))).forEach(U=>{y.push(U.data())}),a(n==null?void 0:n.following)}catch{}finally{}},I=(M,U,F)=>{M.forEach(ie=>{if(U===ie.uid){r(ie);return}})},k=async M=>!(await gr(Ir(Ln(e,"users"),ui("email","==",M)))).empty,B=async M=>{(await gr(Ir(Ln(e,"users"),ui("uid","==",M)))).forEach(F=>{r(F.data()),a(F.data().following)})},D=()=>{i&&i.map((M,U,F)=>{let ie=[...S,{uid:M.uid,followers:M.followers,following:M.following}];C(ie)})};async function T(M,U){try{const F=await gr(Ir(Ln(e,"users"),ui("uid","==",M)));F.empty||F.forEach(async ie=>{const de=ie.data(),ue=de.posts.findIndex(Y=>Y.pid===U);if(ue!==-1)if(de.posts[ue].likes.includes(n==null?void 0:n.uid)){const Y=[...de.posts];Y[ue].likes=Y[ue].likes.filter(ee=>ee!==(n==null?void 0:n.uid));const Q=fs(e,"users",ie.id);await $s(Q,{posts:Y})}else{const Y=[...de.posts];Y[ue].likes.push(n==null?void 0:n.uid);const Q=fs(e,"users",ie.id);await $s(Q,{posts:Y})}})}catch(F){console.error("Error liking post:",F)}try{const F=await gr(Ir(Ln(e,"users"),ui("uid","==",n==null?void 0:n.uid)));F.empty||F.forEach(async ie=>{const de=ie.data();if(de.postsLiked.includes(U)){const ue=de.postsLiked.indexOf(U);let Y=de.postsLiked;Y.splice(ue,1);const Q=fs(e,"users",ie.id);await $s(Q,{postsLiked:Y})}else{const ue=fs(e,"users",ie.id);let Y=de.postsLiked;Y.push(U),await $s(ue,{postsLiked:Y})}})}catch(F){console.error("Error liking post:",F)}}async function N(M){try{const U=Ln(e,"users"),F=Ir(U,ui("uid","==",M)),ie=await gr(F);let de={};ie.empty||ie.forEach(async ue=>{let Y=ue.data().followers||[];Y.includes(n.uid)?Y=Y.filter(ee=>ee!==n.uid):Y.push(n.uid);const Q=fs(e,"users",ue.id);await $s(Q,{followers:Y}).then(()=>{}).catch(ee=>{console.error(ee)})})}catch(U){console.error(U)}try{const U=Ln(e,"users"),F=Ir(U,ui("uid","==",n.uid)),ie=await gr(F);ie.empty||ie.forEach(async de=>{let ue=de.data().following||[];ue.includes(M)?ue=ue.filter(Q=>Q!==M):(ue.push(M),a(ue));const Y=fs(e,"users",de.id);await $s(Y,{following:ue}).then(()=>{const Q={...n,following:ue};a(ue)}).catch(Q=>{console.error(Q)})})}catch{}}const L={userArray:i,setUserArray:s,users:y,getUsers:v,getUserDetailsById:B,isFirstLogin:f,setIsFirstLogin:p,setIsFollowing:a,isFollowing:o,handleFollow:N,userExists:k,uzerFollowArray:l,getValueByKey:I,isUsersFollowing:_,setUsersIsFollowing:E,userFollow:S,setUserFollow:C,handleLike:T,setPostsLoaded:w,postsLoaded:x};return O.useEffect(()=>{async function M(){await v()}M(),i&&D()},[n]),O.useEffect(()=>{const M=Ln(e,"users"),U=SX(M,F=>{const ie=F.docs.map(de=>({id:de.id,...de.data()}));s(ie),w(!0)});return()=>U()},[]),O.useEffect(()=>{p((n==null?void 0:n.username)==="")},[n]),R.jsx(UF.Provider,{value:L,children:t})}function Ute(){const{currentUser:t,loginUzer:e,setCurrentUser:n}=cr(),{getUserDetailsById:r}=_i(),i=Ra(),{register:s,handleSubmit:o,formState:{errors:a,isSubmitting:l,isSubmitted:u}}=eh(),f=async p=>{try{e(p.email,p.password).then(y=>{hs("Login Successful 🥳","success","bottom-center",1500),r(y.user.uid),i("/r-social/profile/me",{replace:!0}),n(y.user)}).catch(y=>{y.message==="Firebase: Error (auth/invalid-credential)."?hs("Invalid User Credentials","error","bottom-center",4e3):hs(y.message,"error","bottom-center",4e3)})}catch(y){console.error(y),hs(y.message,"error","bottom-center",4e3)}};return O.useEffect(()=>{t!==null&&i("/r-social/")},[t]),R.jsx(R.Fragment,{children:R.jsxs("div",{className:"flex bg-cyan-100 min-h-full  flex-1 flex-col border-2 border-cyan-200  shadow-2xl justify-center px-6 py-10 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[R.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[R.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"R-Social"}),R.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Login"})]}),R.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[R.jsxs("form",{onSubmit:o(f),className:"space-y-5",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email"}),R.jsx("div",{className:"mt-2",children:R.jsx("input",{autoFocus:!0,id:"email",name:"email",type:"email",required:!0,...s("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 "})})]}),R.jsxs("div",{children:[R.jsx("div",{className:"flex items-center justify-between",children:R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),R.jsx("div",{className:"mt-2",children:R.jsx("input",{...s("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),a.password&&R.jsx("p",{role:"alert",className:"text-red-600",children:a.password.message})]}),R.jsx("div",{children:R.jsxs("button",{disabled:l||t,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${t?"disabled disabled:bg-slate-500":""}`,children:["Sign in ",R.jsx("span",{children:l&&R.jsx(Fy,{type:"spin",color:"white"})})]})})]}),R.jsx("br",{}),!t&&R.jsxs("div",{children:[R.jsx("p",{children:"Not a Registered User?"}),R.jsx(yr,{to:"/r-social/register",children:R.jsx("p",{className:"text-blue-700 font-semibold",children:"Register"})})]})]})]})})}function Bte(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),{currentUser:o,registerUzer:a,loginWithProvider:l,setCurrentUser:u,db:f}=cr(),{isFirstLogin:p,setIsFirstLogin:y,getUserDetailsById:_,userExists:E}=_i(),S=v=>{if(v==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return v;const I="q_auto,f_auto,h_500,w_500,c_auto",k=v.indexOf("/upload")+7;return v.slice(0,k)+`/${I}`+v.slice(k)},C=()=>o&&o.profilePictureURL?S(o.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg",x=async()=>l().then(async v=>{Li.credentialFromResult(v).accessToken;const k=v.user;y(!k.email),_(k.uid);try{const B=await ZA(Ln(f,"users"),{uid:k.uid,username:"",email:k.email,profilePictureURL:k.providerData[0].photoURL,bio:"This is a bio",followers:[],following:[],accountPrivacy:"public",notificationPreferences:{email:!0,push:!0},twoFactorEnabled:!1,posts:[],accountStatus:"active",verificationStatus:"unverified",postsLiked:[]}).then(D=>{y(!0)}).catch(D=>{console.error(D)})}catch(B){console.error(B)}t("/r-social/profile/me")}).catch(v=>{v.code;const I=v.message;hs(I,"error","bottom-center",4e3),v.customData.email,Li.credentialFromError(v)}),w=async v=>{try{await a(v.email,v.password).then(async I=>{hs("User Registered Successfully 🥳","success","bottom-center",2e3);const k=I.user;try{await qW(k,{displayName:v.fname}),C();const B=await ZA(Ln(f,"users"),{uid:k.uid,username:"",email:k.email,profilePictureURL:C(),bio:"This is a bio",followers:[],following:[],accountPrivacy:"public",notificationPreferences:{email:!0,push:!0},twoFactorEnabled:!1,posts:[],accountStatus:"active",verificationStatus:"unverified",postsLiked:[]}).then(D=>{y(!0)}).catch(D=>{console.error(D)})}catch(B){console.error(B)}t("/r-social/login",{replace:!0})}).catch(I=>{I.message==="Firebase: Error (auth/email-already-in-use)."?hs("User with this Email already exists!","error","bottom-center",4e3):hs(I.message,"error","bottom-center",4e3)})}catch(I){hs(I.message,"error","bottom-center",4e3)}};return O.useEffect(()=>{o!==null&&t("/r-social/")},[o]),R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex bg-cyan-100 min-h-full  flex-1 flex-col border-2   border-cyan-200  shadow-2xl justify-center px-6 py-7 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[R.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[R.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"R-Social"}),R.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign Up"})]}),R.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[R.jsxs("form",{onSubmit:n(w),className:"space-y-5",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),R.jsx("div",{className:"mt-2",children:R.jsx("input",{id:"email",name:"email",type:"email",required:!0,...e("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"fname",className:"block text-sm font-medium leading-6 text-gray-900",children:"First Name"}),R.jsx("div",{className:"mt-2",children:R.jsx("input",{...e("fname",{required:!0}),id:"fname",name:"fname",type:"text",required:!0,autoComplete:"fname",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),R.jsxs("div",{children:[R.jsx("div",{className:"flex items-center justify-between",children:R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),R.jsx("div",{className:"mt-2",children:R.jsx("input",{...e("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),r.password&&R.jsx("p",{role:"alert",className:"text-red-600",children:r.password.message})]}),R.jsx("div",{children:R.jsxs("button",{disabled:i||o,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${i?"disabled":""} ${o?"disabled disabled:bg-slate-500":""}`,children:["Sign Up",R.jsx("span",{children:i&&R.jsx(Fy,{type:"spin",color:"white"})})]})})]}),R.jsx("br",{}),R.jsx("div",{className:"flex items-center justify-center ",children:R.jsxs("button",{disabled:o,onClick:x,className:`px-4 py-2 border flex gap-2 border-slate-200 dark:border-slate-700 rounded-lg text-blue-600 bg-white dark:text-slate-200 hover:border-slate-400 dark:hover:border-slate-500 hover:text-slate-900 dark:hover:text-slate-300 hover:shadow transition duration-150 ${o?"disabled disabled:bg-slate-500":""}`,children:[R.jsx("img",{className:"w-6 h-6",src:"https://www.svgrepo.com/show/475656/google-color.svg",loading:"lazy",alt:"google logo"}),R.jsx("span",{className:"text-slate-600 font-mono size-30 ",children:"Login with Google"})]})}),!o&&R.jsxs("div",{children:[R.jsx("p",{children:"Already a user?"}),R.jsx(yr,{to:"/r-social/login",children:R.jsx("p",{className:"text-blue-700 font-semibold",children:"Login"})})]})]})]}),R.jsx("h1",{className:"text-center",children:"Just a Demo Project website made by Rohit S Koujalagi"})]})}const BF=typeof document<"u"?Pe.useLayoutEffect:()=>{};function $te(t){const e=O.useRef(null);return BF(()=>{e.current=t},[t]),O.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const xh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},al=t=>t&&"window"in t&&t.window===t?t:xh(t).defaultView||window;function zte(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function Hte(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function $F(t){let e=null;return()=>(e==null&&(e=t()),e)}const qte=$F(function(){return Hte(/^Mac/i)}),Wte=$F(function(){return zte(/Android/i)});function Kte(t){return t.mozInputSource===0&&t.isTrusted?!0:Wte()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class Gte{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function zF(t){let e=O.useRef({isFocused:!1,observer:null});BF(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=$te(r=>{t==null||t(r)});return O.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&n(new Gte("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Qte(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=O.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=zF(s),a=O.useCallback(l=>{const u=xh(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let Rh=null,Lb=new Set,ld=new Map,Ol=!1,Mb=!1;const Yte={Tab:!0,Escape:!0};function kx(t,e){for(let n of Lb)n(t,e)}function Xte(t){return!(t.metaKey||!qte()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Ig(t){Ol=!0,Xte(t)&&(Rh="keyboard",kx("keyboard",t))}function ci(t){Rh="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Ol=!0,kx("pointer",t))}function HF(t){Kte(t)&&(Ol=!0,Rh="virtual")}function qF(t){t.target===window||t.target===document||(!Ol&&!Mb&&(Rh="virtual",kx("virtual",t)),Ol=!1,Mb=!1)}function WF(){Ol=!1,Mb=!0}function Fb(t){if(typeof window>"u"||ld.get(al(t)))return;const e=al(t),n=xh(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ol=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ig,!0),n.addEventListener("keyup",Ig,!0),n.addEventListener("click",HF,!0),e.addEventListener("focus",qF,!0),e.addEventListener("blur",WF,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",ci,!0),n.addEventListener("pointermove",ci,!0),n.addEventListener("pointerup",ci,!0)):(n.addEventListener("mousedown",ci,!0),n.addEventListener("mousemove",ci,!0),n.addEventListener("mouseup",ci,!0)),e.addEventListener("beforeunload",()=>{KF(t)},{once:!0}),ld.set(e,{focus:r})}const KF=(t,e)=>{const n=al(t),r=xh(t);e&&r.removeEventListener("DOMContentLoaded",e),ld.has(n)&&(n.HTMLElement.prototype.focus=ld.get(n).focus,r.removeEventListener("keydown",Ig,!0),r.removeEventListener("keyup",Ig,!0),r.removeEventListener("click",HF,!0),n.removeEventListener("focus",qF,!0),n.removeEventListener("blur",WF,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",ci,!0),r.removeEventListener("pointermove",ci,!0),r.removeEventListener("pointerup",ci,!0)):(r.removeEventListener("mousedown",ci,!0),r.removeEventListener("mousemove",ci,!0),r.removeEventListener("mouseup",ci,!0)),ld.delete(n))};function Jte(t){const e=xh(t);let n;return e.readyState!=="loading"?Fb(t):(n=()=>{Fb(t)},e.addEventListener("DOMContentLoaded",n)),()=>KF(t,n)}typeof document<"u"&&Jte();function GF(){return Rh!=="pointer"}const Zte=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ene(t,e,n){var r;const i=typeof window<"u"?al(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?al(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?al(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?al(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!Zte.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof s||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!Yte[n.key])}function tne(t,e,n){Fb(),O.useEffect(()=>{let r=(i,s)=>{ene(!!(n!=null&&n.isTextInput),i,s)&&t(GF())};return Lb.add(r),()=>{Lb.delete(r)}},e)}function nne(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=O.useRef({isFocusWithin:!1}),o=O.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,s]),a=zF(o),l=O.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),s.current.isFocusWithin=!0,a(u))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let Cg=!1,k_=0;function jb(){Cg=!0,setTimeout(()=>{Cg=!1},50)}function z2(t){t.pointerType==="touch"&&jb()}function rne(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",z2):document.addEventListener("touchend",jb),k_++,()=>{k_--,!(k_>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",z2):document.removeEventListener("touchend",jb))}}function QF(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=O.useState(!1),a=O.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;O.useEffect(rne,[]);let{hoverProps:l,triggerHoverEnd:u}=O.useMemo(()=>{let f=(_,E)=>{if(a.pointerType=E,i||E==="touch"||a.isHovered||!_.currentTarget.contains(_.target))return;a.isHovered=!0;let S=_.currentTarget;a.target=S,e&&e({type:"hoverstart",target:S,pointerType:E}),n&&n(!0),o(!0)},p=(_,E)=>{if(a.pointerType="",a.target=null,E==="touch"||!a.isHovered)return;a.isHovered=!1;let S=_.currentTarget;r&&r({type:"hoverend",target:S,pointerType:E}),n&&n(!1),o(!1)},y={};return typeof PointerEvent<"u"?(y.onPointerEnter=_=>{Cg&&_.pointerType==="mouse"||f(_,_.pointerType)},y.onPointerLeave=_=>{!i&&_.currentTarget.contains(_.target)&&p(_,_.pointerType)}):(y.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},y.onMouseEnter=_=>{!a.ignoreEmulatedMouseEvents&&!Cg&&f(_,"mouse"),a.ignoreEmulatedMouseEvents=!1},y.onMouseLeave=_=>{!i&&_.currentTarget.contains(_.target)&&p(_,"mouse")}),{hoverProps:y,triggerHoverEnd:p}},[e,n,r,i,a]);return O.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function YF(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=O.useRef({isFocused:!1,isFocusVisible:e||GF()}),[s,o]=O.useState(!1),[a,l]=O.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=O.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),f=O.useCallback(_=>{i.current.isFocused=_,o(_),u()},[u]);tne(_=>{i.current.isFocusVisible=_,u()},[],{isTextInput:n});let{focusProps:p}=Qte({isDisabled:r,onFocusChange:f}),{focusWithinProps:y}=nne({isDisabled:!r,onFocusWithinChange:f});return{isFocused:s,isFocusVisible:a,focusProps:r?y:p}}var ine=Object.defineProperty,sne=(t,e,n)=>e in t?ine(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O_=(t,e,n)=>(sne(t,typeof e!="symbol"?e+"":e,n),n);let one=class{constructor(){O_(this,"current",this.detect()),O_(this,"handoffState","pending"),O_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ml=new one;function Bl(t){return ml.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function XF(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Rs(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return XF(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Rs();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function jy(){let[t]=O.useState(Rs);return O.useEffect(()=>()=>t.dispose(),[t]),t}let vn=(t,e)=>{ml.isServer?O.useEffect(t,e):O.useLayoutEffect(t,e)};function Ih(t){let e=O.useRef(t);return vn(()=>{e.current=t},[t]),e}let St=function(t){let e=Ih(t);return Pe.useCallback((...n)=>e.current(...n),[e])};function ane(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function lne(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function JF({disabled:t=!1}={}){let e=O.useRef(null),[n,r]=O.useState(!1),i=jy(),s=St(()=>{e.current=null,r(!1),i.dispose()}),o=St(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Bl(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let f=ane(u);r(lne(f,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let une=O.createContext(void 0);function ZF(){return O.useContext(une)}function H2(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ka(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ka),r}var qd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qd||{}),cne=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(cne||{});function Tr({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??fne;let l=ej(e,t);if(s)return Vp(l,n,r,o,a);let u=i??0;if(u&2){let{static:f=!1,...p}=l;if(f)return Vp(p,n,r,o,a)}if(u&1){let{unmount:f=!0,...p}=l;return ka(f?0:1,{0(){return null},1(){return Vp({...p,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Vp(l,n,r,o,a)}function Vp(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=N_(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},f=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(e){let y=!1,_=[];for(let[E,S]of Object.entries(e))typeof S=="boolean"&&(y=!0),S===!0&&_.push(E.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(y){p["data-headlessui-state"]=_.join(" ");for(let E of _)p[`data-${E}`]=""}}if(s===O.Fragment&&(Object.keys(Su(l)).length>0||Object.keys(Su(p)).length>0))if(!O.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Su(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Su(l)).concat(Object.keys(Su(p))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=f.props,_=y==null?void 0:y.className,E=typeof _=="function"?(...x)=>H2(_(...x),l.className):H2(_,l.className),S=E?{className:E}:{},C=ej(f.props,Su(N_(l,["ref"])));for(let x in p)x in C&&delete p[x];return O.cloneElement(f,Object.assign({},C,p,u,{ref:i(f.ref,u.ref)},S))}return O.createElement(s,Object.assign({},N_(l,["ref"]),s!==O.Fragment&&u,s!==O.Fragment&&p),f)}function Ox(){let t=O.useRef([]),e=O.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function fne(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ej(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Ag(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function Sr(t){var e;return Object.assign(O.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Su(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function N_(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let dne=O.createContext(void 0);function hne(){return O.useContext(dne)}function tj(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&pne(n)?!1:r}function pne(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let nj=Symbol();function rj(t,e=!0){return Object.assign(t,{[nj]:e})}function wi(...t){let e=O.useRef(t);O.useEffect(()=>{e.current=t},[t]);let n=St(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[nj]))?void 0:n}let Nx=O.createContext(null);Nx.displayName="DescriptionContext";function ij(){let t=O.useContext(Nx);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ij),e}return t}function mne(){let[t,e]=O.useState([]);return[t.length>0?t.join(" "):void 0,O.useMemo(()=>function(n){let r=St(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=O.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Pe.createElement(Nx.Provider,{value:i},n.children)},[e])]}let gne="p";function yne(t,e){let n=O.useId(),r=ZF(),{id:i=`headlessui-description-${n}`,...s}=t,o=ij(),a=wi(e);vn(()=>o.register(i),[i,o.register]);let l=r||!1,u=O.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),f={ref:a,...o.props,id:i};return Tr({ourProps:f,theirProps:s,slot:u,defaultTag:gne,name:o.name||"Description"})}let vne=Sr(yne);Object.assign(vne,{});var sn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(sn||{});let Vy=O.createContext(null);Vy.displayName="LabelContext";function Dx(){let t=O.useContext(Vy);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Dx),e}return t}function _ne(t){var e,n,r;let i=(n=(e=O.useContext(Vy))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function sj({inherit:t=!1}={}){let e=_ne(),[n,r]=O.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,O.useMemo(()=>function(s){let o=St(l=>(r(u=>[...u,l]),()=>r(u=>{let f=u.slice(),p=f.indexOf(l);return p!==-1&&f.splice(p,1),f}))),a=O.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Pe.createElement(Vy.Provider,{value:a},s.children)},[r])]}let wne="label";function Ene(t,e){var n;let r=O.useId(),i=Dx(),s=hne(),o=ZF(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=t,p=wi(e);vn(()=>i.register(a),[a,i.register]);let y=St(C=>{let x=C.currentTarget;if(x instanceof HTMLLabelElement&&C.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(C),x instanceof HTMLLabelElement){let w=document.getElementById(x.htmlFor);if(w){let v=w.getAttribute("disabled");if(v==="true"||v==="")return;let I=w.getAttribute("aria-disabled");if(I==="true"||I==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),_=o||!1,E=O.useMemo(()=>({...i.slot,disabled:_}),[i.slot,_]),S={ref:p,...i.props,id:a,htmlFor:l,onClick:y};return u&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in f&&delete f.onClick),Tr({ourProps:S,theirProps:f,slot:E,defaultTag:l?wne:"div",name:i.name||"Label"})}let bne=Sr(Ene);Object.assign(bne,{});let Tne=O.createContext(()=>{});function Sne({value:t,children:e}){return Pe.createElement(Tne.Provider,{value:t},e)}function xne(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Rne(t,e=!1){let[n,r]=O.useReducer(()=>({}),{}),i=O.useMemo(()=>xne(t),[t,n]);return vn(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let Ine=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function oj(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function aj(t){return O.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let Cne=new Ine(()=>oj(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Lx(t,e){let n=Cne.get(e),r=O.useId(),i=aj(n);if(vn(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let Vb=new Map,ud=new Map;function q2(t){var e;let n=(e=ud.get(t))!=null?e:0;return ud.set(t,n+1),n!==0?()=>W2(t):(Vb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>W2(t))}function W2(t){var e;let n=(e=ud.get(t))!=null?e:1;if(n===1?ud.delete(t):ud.set(t,n-1),n!==1)return;let r=Vb.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Vb.delete(t))}function Ane(t,{allowed:e,disallowed:n}={}){let r=Lx(t,"inert-others");vn(()=>{var i,s;if(!r)return;let o=Rs();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(q2(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=Bl(l);if(!u)continue;let f=l.parentElement;for(;f&&f!==u.body;){for(let p of f.children)a.some(y=>p.contains(y))||o.add(q2(p));f=f.parentElement}}return o.dispose},[r,e,n])}function Pne(t,e,n){let r=Ih(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});O.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=Rs();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Ub=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),kne=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Bb=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Bb||{}),One=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(One||{}),Nne=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Nne||{});function lj(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ub)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Dne(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(kne)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Mx=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Mx||{});function Fx(t,e=0){var n;return t===((n=Bl(t))==null?void 0:n.body)?!1:ka(e,{0(){return t.matches(Ub)},1(){let r=t;for(;r!==null;){if(r.matches(Ub))return!0;r=r.parentElement}return!1}})}function uj(t){let e=Bl(t);Rs().nextFrame(()=>{e&&!Fx(e.activeElement,0)&&Mne(t)})}var Lne=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Lne||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Mne(t){t==null||t.focus({preventScroll:!0})}let Fne=["textarea","input"].join(",");function jne(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Fne))!=null?n:!1}function cj(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vne(t,e){return Une(lj(),e,{relativeTo:t})}function Une(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?cj(t):t:e&64?Dne(t):lj(t);i.length>0&&o.length>1&&(o=o.filter(_=>!i.some(E=>E!=null&&"current"in E?(E==null?void 0:E.current)===_:E===_))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},f=0,p=o.length,y;do{if(f>=p||f+p<=0)return 0;let _=l+f;if(e&16)_=(_+p)%p;else{if(_<0)return 3;if(_>=p)return 1}y=o[_],y==null||y.focus(u),f+=a}while(y!==s.activeElement);return e&6&&jne(y)&&y.select(),2}function fj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Bne(){return/Android/gi.test(window.navigator.userAgent)}function $ne(){return fj()||Bne()}function Rf(t,e,n,r){let i=Ih(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function zne(t,e,n,r){let i=Ih(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const K2=30;function Hne(t,e,n){let r=Lx(t,"outside-click"),i=Ih(n),s=O.useCallback(function(l,u){if(l.defaultPrevented)return;let f=u(l);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=function y(_){return typeof _=="function"?y(_()):Array.isArray(_)||_ instanceof Set?_:[_]}(e);for(let y of p)if(y!==null&&(y.contains(f)||l.composed&&l.composedPath().includes(y)))return;return!Fx(f,Mx.Loose)&&f.tabIndex!==-1&&l.preventDefault(),i.current(l,f)},[i,e]),o=O.useRef(null);Rf(r,"pointerdown",l=>{var u,f;o.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),Rf(r,"mousedown",l=>{var u,f;o.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),Rf(r,"click",l=>{$ne()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=O.useRef({x:0,y:0});Rf(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Rf(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=K2||Math.abs(u.y-a.current.y)>=K2))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),zne(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function jx(...t){return O.useMemo(()=>Bl(...t),[...t])}function dj(t,e){return O.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function qne(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Wne(){return fj()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Rs();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),f=t.querySelector(u);f&&!r(f)&&(o=f)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Kne(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Gne(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ll=oj(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Rs(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:Gne(n)},i=[Wne(),qne(),Kne()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ll.subscribe(()=>{let t=ll.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ll.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ll.dispatch("TEARDOWN",n)}});function Qne(t,e,n=()=>({containers:[]})){let r=aj(ll),i=e?r.get(e):void 0,s=i?i.count>0:!1;return vn(()=>{if(!(!e||!t))return ll.dispatch("PUSH",e,n),()=>ll.dispatch("POP",e,n)},[t,e]),s}function Yne(t,e,n=()=>[document.body]){let r=Lx(t,"scroll-lock");Qne(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function G2(t){return[t.screenX,t.screenY]}function Xne(){let t=O.useRef([-1,-1]);return{wasMoved(e){let n=G2(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=G2(e)}}}function Jne(t=0){let[e,n]=O.useState(t),r=O.useCallback(l=>n(l),[e]),i=O.useCallback(l=>n(u=>u|l),[e]),s=O.useCallback(l=>(e&l)===l,[e]),o=O.useCallback(l=>n(u=>u&~l),[n]),a=O.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Zne={},Q2;typeof process<"u"&&typeof globalThis<"u"&&((Q2=process==null?void 0:Zne)==null?void 0:Q2.NODE_ENV)==="test"&&typeof Element.prototype.getAnimations>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ere=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(ere||{});function hj(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function pj(t,e,n,r){let[i,s]=O.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=Jne(t&&i?3:0),u=O.useRef(!1),f=O.useRef(!1),p=jy();return vn(()=>{var y;if(t){if(n&&s(!0),!e){n&&a(3);return}return(y=void 0)==null||y.call(r,n),tre(e,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){f.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var _;f.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(_=void 0)==null||_.call(r,n))}})}},[t,n,e,p]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function tre(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Rs();return rre(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(nre(t,r))})}),s.dispose}function nre(t,e){var n,r;let i=Rs();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function rre(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function ire(t,{container:e,accept:n,walk:r}){let i=O.useRef(n),s=O.useRef(r);O.useEffect(()=>{i.current=n,s.current=r},[n,r]),vn(()=>{if(!e||!t)return;let o=Bl(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(p=>a(p),{acceptNode:a}),f=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)l(f.currentNode)},[e,t,i,s])}function $c(t){return mj(t)?(t.nodeName||"").toLowerCase():"#document"}function Xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _o(t){var e;return(e=(mj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mj(t){return t instanceof Node||t instanceof Xr(t).Node}function _r(t){return t instanceof Element||t instanceof Xr(t).Element}function Ss(t){return t instanceof HTMLElement||t instanceof Xr(t).HTMLElement}function Y2(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xr(t).ShadowRoot}function Ch(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Wi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sre(t){return["table","td","th"].includes($c(t))}function Uy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vx(t){const e=Ux(),n=_r(t)?Wi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ore(t){let e=ga(t);for(;Ss(e)&&!xc(e);){if(Vx(e))return e;if(Uy(e))return null;e=ga(e)}return null}function Ux(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xc(t){return["html","body","#document"].includes($c(t))}function Wi(t){return Xr(t).getComputedStyle(t)}function By(t){return _r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ga(t){if($c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Y2(t)&&t.host||_o(t);return Y2(e)?e.host:e}function gj(t){const e=ga(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ss(e)&&Ch(e)?e:gj(e)}function Wd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=gj(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Xr(i);if(s){const a=$b(o);return e.concat(o,o.visualViewport||[],Ch(i)?i:[],a&&n?Wd(a):[])}return e.concat(i,Wd(i,[],n))}function $b(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function are(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Go=Math.min,zr=Math.max,Pg=Math.round,Up=Math.floor,ya=t=>({x:t,y:t}),lre={left:"right",right:"left",bottom:"top",top:"bottom"},ure={start:"end",end:"start"};function X2(t,e,n){return zr(t,Go(e,n))}function zc(t,e){return typeof t=="function"?t(e):t}function va(t){return t.split("-")[0]}function Ah(t){return t.split("-")[1]}function yj(t){return t==="x"?"y":"x"}function vj(t){return t==="y"?"height":"width"}function Nl(t){return["top","bottom"].includes(va(t))?"y":"x"}function _j(t){return yj(Nl(t))}function cre(t,e,n){n===void 0&&(n=!1);const r=Ah(t),i=_j(t),s=vj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kg(o)),[o,kg(o)]}function fre(t){const e=kg(t);return[zb(t),e,zb(e)]}function zb(t){return t.replace(/start|end/g,e=>ure[e])}function dre(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function hre(t,e,n,r){const i=Ah(t);let s=dre(va(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(zb)))),s}function kg(t){return t.replace(/left|right|bottom|top/g,e=>lre[e])}function pre(t){return{top:0,right:0,bottom:0,left:0,...t}}function mre(t){return typeof t!="number"?pre(t):{top:t,right:t,bottom:t,left:t}}function Og(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function J2(t,e,n){let{reference:r,floating:i}=t;const s=Nl(e),o=_j(e),a=vj(o),l=va(e),u=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[a]/2-i[a]/2;let _;switch(l){case"top":_={x:f,y:r.y-i.height};break;case"bottom":_={x:f,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:p};break;case"left":_={x:r.x-i.width,y:p};break;default:_={x:r.x,y:r.y}}switch(Ah(e)){case"start":_[o]-=y*(n&&u?-1:1);break;case"end":_[o]+=y*(n&&u?-1:1);break}return _}const gre=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=J2(u,r,l),y=r,_={},E=0;for(let S=0;S<a.length;S++){const{name:C,fn:x}=a[S],{x:w,y:v,data:I,reset:k}=await x({x:f,y:p,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:u,platform:o,elements:{reference:t,floating:e}});f=w??f,p=v??p,_={..._,[C]:{..._[C],...I}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(y=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:f,y:p}=J2(u,y,l)),S=-1)}return{x:f,y:p,placement:y,strategy:i,middlewareData:_}};async function $y(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:y=!1,padding:_=0}=zc(e,t),E=mre(_),C=a[y?p==="floating"?"reference":"floating":p],x=Og(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),w=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},k=Og(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:v,strategy:l}):w);return{top:(x.top-k.top+E.top)/I.y,bottom:(k.bottom-x.bottom+E.bottom)/I.y,left:(x.left-k.left+E.left)/I.x,right:(k.right-x.right+E.right)/I.x}}const yre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...C}=zc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=va(i),w=Nl(a),v=va(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=y||(v||!S?[kg(a)]:fre(a)),B=E!=="none";!y&&B&&k.push(...hre(a,S,E,I));const D=[a,...k],T=await $y(e,C),N=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&N.push(T[x]),p){const ie=cre(i,o,I);N.push(T[ie[0]],T[ie[1]])}if(L=[...L,{placement:i,overflows:N}],!N.every(ie=>ie<=0)){var M,U;const ie=(((M=s.flip)==null?void 0:M.index)||0)+1,de=D[ie];if(de)return{data:{index:ie,overflows:L},reset:{placement:de}};let ue=(U=L.filter(Y=>Y.overflows[0]<=0).sort((Y,Q)=>Y.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!ue)switch(_){case"bestFit":{var F;const Y=(F=L.filter(Q=>{if(B){const ee=Nl(Q.placement);return ee===w||ee==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ee=>ee>0).reduce((ee,me)=>ee+me,0)]).sort((Q,ee)=>Q[1]-ee[1])[0])==null?void 0:F[0];Y&&(ue=Y);break}case"initialPlacement":ue=a;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};async function vre(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=va(n),a=Ah(n),l=Nl(n)==="y",u=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,p=zc(e,t);let{mainAxis:y,crossAxis:_,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof E=="number"&&(_=a==="end"?E*-1:E),l?{x:_*f,y:y*u}:{x:y*u,y:_*f}}const _re=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await vre(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},wre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x,y:w}=C;return{x,y:w}}},...l}=zc(t,e),u={x:n,y:r},f=await $y(e,l),p=Nl(va(i)),y=yj(p);let _=u[y],E=u[p];if(s){const C=y==="y"?"top":"left",x=y==="y"?"bottom":"right",w=_+f[C],v=_-f[x];_=X2(w,_,v)}if(o){const C=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=E+f[C],v=E-f[x];E=X2(w,E,v)}const S=a.fn({...e,[y]:_,[p]:E});return{...S,data:{x:S.x-n,y:S.y-r}}}}},Ere=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=zc(t,e),l=await $y(e,a),u=va(n),f=Ah(n),p=Nl(n)==="y",{width:y,height:_}=r.floating;let E,S;u==="top"||u==="bottom"?(E=u,S=f===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(S=u,E=f==="end"?"top":"bottom");const C=_-l.top-l.bottom,x=y-l.left-l.right,w=Go(_-l[E],C),v=Go(y-l[S],x),I=!e.middlewareData.shift;let k=w,B=v;if(p?B=f||I?Go(v,x):x:k=f||I?Go(w,C):C,I&&!f){const T=zr(l.left,0),N=zr(l.right,0),L=zr(l.top,0),M=zr(l.bottom,0);p?B=y-2*(T!==0||N!==0?T+N:zr(l.left,l.right)):k=_-2*(L!==0||M!==0?L+M:zr(l.top,l.bottom))}await o({...e,availableWidth:B,availableHeight:k});const D=await i.getDimensions(s.floating);return y!==D.width||_!==D.height?{reset:{rects:!0}}:{}}}};function wj(t){const e=Wi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ss(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pg(n)!==s||Pg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Bx(t){return _r(t)?t:t.contextElement}function rc(t){const e=Bx(t);if(!Ss(e))return ya(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=wj(e);let o=(s?Pg(n.width):n.width)/r,a=(s?Pg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bre=ya(0);function Ej(t){const e=Xr(t);return!Ux()||!e.visualViewport?bre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xr(t)?!1:e}function Dl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Bx(t);let o=ya(1);e&&(r?_r(r)&&(o=rc(r)):o=rc(t));const a=Tre(s,n,r)?Ej(s):ya(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const y=Xr(s),_=r&&_r(r)?Xr(r):r;let E=y,S=$b(E);for(;S&&r&&_!==E;){const C=rc(S),x=S.getBoundingClientRect(),w=Wi(S),v=x.left+(S.clientLeft+parseFloat(w.paddingLeft))*C.x,I=x.top+(S.clientTop+parseFloat(w.paddingTop))*C.y;l*=C.x,u*=C.y,f*=C.x,p*=C.y,l+=v,u+=I,E=Xr(S),S=$b(E)}}return Og({width:f,height:p,x:l,y:u})}function Sre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=_o(r),a=e?Uy(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ya(1);const f=ya(0),p=Ss(r);if((p||!p&&!s)&&(($c(r)!=="body"||Ch(o))&&(l=By(r)),Ss(r))){const y=Dl(r);u=rc(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x,y:n.y*u.y-l.scrollTop*u.y+f.y}}function xre(t){return Array.from(t.getClientRects())}function bj(t){return Dl(_o(t)).left+By(t).scrollLeft}function Rre(t){const e=_o(t),n=By(t),r=t.ownerDocument.body,i=zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bj(t);const a=-n.scrollTop;return Wi(r).direction==="rtl"&&(o+=zr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ire(t,e){const n=Xr(t),r=_o(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Ux();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Cre(t,e){const n=Dl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ss(t)?rc(t):ya(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Z2(t,e,n){let r;if(e==="viewport")r=Ire(t,n);else if(e==="document")r=Rre(_o(t));else if(_r(e))r=Cre(e,n);else{const i=Ej(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Og(r)}function Tj(t,e){const n=ga(t);return n===e||!_r(n)||xc(n)?!1:Wi(n).position==="fixed"||Tj(n,e)}function Are(t,e){const n=e.get(t);if(n)return n;let r=Wd(t,[],!1).filter(a=>_r(a)&&$c(a)!=="body"),i=null;const s=Wi(t).position==="fixed";let o=s?ga(t):t;for(;_r(o)&&!xc(o);){const a=Wi(o),l=Vx(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ch(o)&&!l&&Tj(t,o))?r=r.filter(f=>f!==o):i=a,o=ga(o)}return e.set(t,r),r}function Pre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Uy(e)?[]:Are(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const p=Z2(e,f,i);return u.top=zr(p.top,u.top),u.right=Go(p.right,u.right),u.bottom=Go(p.bottom,u.bottom),u.left=zr(p.left,u.left),u},Z2(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kre(t){const{width:e,height:n}=wj(t);return{width:e,height:n}}function Ore(t,e,n){const r=Ss(e),i=_o(e),s=n==="fixed",o=Dl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ya(0);if(r||!r&&!s)if(($c(e)!=="body"||Ch(i))&&(a=By(e)),r){const p=Dl(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=bj(i));const u=o.left+a.scrollLeft-l.x,f=o.top+a.scrollTop-l.y;return{x:u,y:f,width:o.width,height:o.height}}function D_(t){return Wi(t).position==="static"}function eP(t,e){return!Ss(t)||Wi(t).position==="fixed"?null:e?e(t):t.offsetParent}function Sj(t,e){const n=Xr(t);if(Uy(t))return n;if(!Ss(t)){let i=ga(t);for(;i&&!xc(i);){if(_r(i)&&!D_(i))return i;i=ga(i)}return n}let r=eP(t,e);for(;r&&sre(r)&&D_(r);)r=eP(r,e);return r&&xc(r)&&D_(r)&&!Vx(r)?n:r||ore(t)||n}const Nre=async function(t){const e=this.getOffsetParent||Sj,n=this.getDimensions,r=await n(t.floating);return{reference:Ore(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dre(t){return Wi(t).direction==="rtl"}const Lre={convertOffsetParentRelativeRectToViewportRelativeRect:Sre,getDocumentElement:_o,getClippingRect:Pre,getOffsetParent:Sj,getElementRects:Nre,getClientRects:xre,getDimensions:kre,getScale:rc,isElement:_r,isRTL:Dre};function Mre(t,e){let n=null,r;const i=_o(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:f,width:p,height:y}=t.getBoundingClientRect();if(a||e(),!p||!y)return;const _=Up(f),E=Up(i.clientWidth-(u+p)),S=Up(i.clientHeight-(f+y)),C=Up(u),w={rootMargin:-_+"px "+-E+"px "+-S+"px "+-C+"px",threshold:zr(0,Go(1,l))||1};let v=!0;function I(k){const B=k[0].intersectionRatio;if(B!==l){if(!v)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(I,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,w)}n.observe(t)}return o(!0),s}function Fre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Bx(t),f=i||s?[...u?Wd(u):[],...Wd(e)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=u&&a?Mre(u,n):null;let y=-1,_=null;o&&(_=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var v;(v=_)==null||v.observe(e)})),n()}),u&&!l&&_.observe(u),_.observe(e));let E,S=l?Dl(t):null;l&&C();function C(){const x=Dl(t);S&&(x.x!==S.x||x.y!==S.y||x.width!==S.width||x.height!==S.height)&&n(),S=x,E=requestAnimationFrame(C)}return n(),()=>{var x;f.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),p==null||p(),(x=_)==null||x.disconnect(),_=null,l&&cancelAnimationFrame(E)}}const L_=$y,jre=_re,Vre=wre,Ure=yre,Bre=Ere,$re=(t,e,n)=>{const r=new Map,i={platform:Lre,...n},s={...i.platform,_c:r};return gre(t,e,{...i,platform:s})};var gm=typeof document<"u"?O.useLayoutEffect:O.useEffect;function Ng(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ng(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ng(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function xj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tP(t,e){const n=xj(t);return Math.round(e*n)/n}function nP(t){const e=O.useRef(t);return gm(()=>{e.current=t}),e}function zre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,p]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=O.useState(r);Ng(y,r)||_(r);const[E,S]=O.useState(null),[C,x]=O.useState(null),w=O.useCallback(Y=>{Y!==B.current&&(B.current=Y,S(Y))},[]),v=O.useCallback(Y=>{Y!==D.current&&(D.current=Y,x(Y))},[]),I=s||E,k=o||C,B=O.useRef(null),D=O.useRef(null),T=O.useRef(f),N=l!=null,L=nP(l),M=nP(i),U=O.useCallback(()=>{if(!B.current||!D.current)return;const Y={placement:e,strategy:n,middleware:y};M.current&&(Y.platform=M.current),$re(B.current,D.current,Y).then(Q=>{const ee={...Q,isPositioned:!0};F.current&&!Ng(T.current,ee)&&(T.current=ee,Lr.flushSync(()=>{p(ee)}))})},[y,e,n,M]);gm(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[u]);const F=O.useRef(!1);gm(()=>(F.current=!0,()=>{F.current=!1}),[]),gm(()=>{if(I&&(B.current=I),k&&(D.current=k),I&&k){if(L.current)return L.current(I,k,U);U()}},[I,k,U,L,N]);const ie=O.useMemo(()=>({reference:B,floating:D,setReference:w,setFloating:v}),[w,v]),de=O.useMemo(()=>({reference:I,floating:k}),[I,k]),ue=O.useMemo(()=>{const Y={position:n,left:0,top:0};if(!de.floating)return Y;const Q=tP(de.floating,f.x),ee=tP(de.floating,f.y);return a?{...Y,transform:"translate("+Q+"px, "+ee+"px)",...xj(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ee}},[n,a,de.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:U,refs:ie,elements:de,floatingStyles:ue}),[f,U,ie,de,ue])}const Rj=(t,e)=>({...jre(t),options:[t,e]}),Hre=(t,e)=>({...Vre(t),options:[t,e]}),qre=(t,e)=>({...Ure(t),options:[t,e]}),Wre=(t,e)=>({...Bre(t),options:[t,e]}),Ij={...vm},Kre=Ij.useInsertionEffect,Gre=Kre||(t=>t());function Cj(t){const e=O.useRef(()=>{});return Gre(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Hb=typeof document<"u"?O.useLayoutEffect:O.useEffect;let rP=!1,Qre=0;const iP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qre++;function Yre(){const[t,e]=O.useState(()=>rP?iP():void 0);return Hb(()=>{t==null&&e(iP())},[]),O.useEffect(()=>{rP=!0},[]),t}const Xre=Ij.useId,Jre=Xre||Yre;function Zre(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const eie=O.createContext(null),tie=O.createContext(null),nie=()=>{var t;return((t=O.useContext(eie))==null?void 0:t.id)||null},rie=()=>O.useContext(tie),iie="data-floating-ui-focusable";function sie(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Jre(),s=O.useRef({}),[o]=O.useState(()=>Zre()),a=nie()!=null,[l,u]=O.useState(r.reference),f=Cj((_,E,S)=>{s.current.openEvent=_?E:void 0,o.emit("openchange",{open:_,event:E,reason:S,nested:a}),n==null||n(_,E,S)}),p=O.useMemo(()=>({setPositionReference:u}),[]),y=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:y,events:o,floatingId:i,refs:p}),[e,f,y,o,i,p])}function oie(t){t===void 0&&(t={});const{nodeId:e}=t,n=sie({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=O.useState(null),[a,l]=O.useState(null),f=(i==null?void 0:i.reference)||s,p=O.useRef(null),y=rie();Hb(()=>{f&&(p.current=f)},[f]);const _=zre({...t,elements:{...i,...a&&{reference:a}}}),E=O.useCallback(v=>{const I=_r(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(I),_.refs.setReference(I)},[_.refs]),S=O.useCallback(v=>{(_r(v)||v===null)&&(p.current=v,o(v)),(_r(_.refs.reference.current)||_.refs.reference.current===null||v!==null&&!_r(v))&&_.refs.setReference(v)},[_.refs]),C=O.useMemo(()=>({..._.refs,setReference:S,setPositionReference:E,domReference:p}),[_.refs,S,E]),x=O.useMemo(()=>({..._.elements,domReference:f}),[_.elements,f]),w=O.useMemo(()=>({..._,...r,refs:C,elements:x,nodeId:e}),[_,C,x,e,r]);return Hb(()=>{r.dataRef.current.floatingContext=w;const v=y==null?void 0:y.nodesRef.current.find(I=>I.id===e);v&&(v.context=w)}),O.useMemo(()=>({..._,context:w,refs:C,elements:x}),[_,C,x,w])}const sP="active",oP="selected";function M_(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[sP]:o,[oP]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[iie]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,f]=l;if(!(i&&[sP,oP].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var p;(p=r.get(u))==null||p.push(f),o[u]=function(){for(var y,_=arguments.length,E=new Array(_),S=0;S<_;S++)E[S]=arguments[S];return(y=r.get(u))==null?void 0:y.map(C=>C(...E)).find(C=>C!==void 0)}}}else o[u]=f}),o),{})}}function aie(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=O.useCallback(a=>M_(a,t,"reference"),e),s=O.useCallback(a=>M_(a,t,"floating"),n),o=O.useCallback(a=>M_(a,t,"item"),r);return O.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function aP(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const lie=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...f}=zc(t,e),{rects:p,elements:{floating:y}}=e,_=n.current[o],E=(u==null?void 0:u.current)||y,S=y.clientTop||E.clientTop,C=y.clientTop!==0,x=E.clientTop!==0,w=y===E;if(!_)return{};const v={...e,...await Rj(-_.offsetTop-y.clientTop-p.reference.height/2-_.offsetHeight/2-s).fn(e)},I=await L_(aP(v,E.scrollHeight+S+y.clientTop),f),k=await L_(v,{...f,elementContext:"reference"}),B=Math.max(0,I.top),D=v.y+B,T=Math.max(0,E.scrollHeight+(C&&w||x?S*2:0)-B-Math.max(0,I.bottom));return E.style.maxHeight=T+"px",E.scrollTop=B,i&&(E.offsetHeight<_.offsetHeight*Math.min(a,n.current.length-1)-1||k.top>=-l||k.bottom>=-l?Lr.flushSync(()=>i(!0)):Lr.flushSync(()=>i(!1))),r&&(r.current=await L_(aP({...v,y:D},E.offsetHeight+S+y.clientTop),f)),{y:D}}});function uie(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Cj(a),u=O.useRef(!1),f=O.useRef(null),p=O.useRef(null);O.useEffect(()=>{if(!i)return;function _(S){if(S.ctrlKey||!E||s.current==null)return;const C=S.deltaY,x=s.current.top>=-.5,w=s.current.bottom>=-.5,v=E.scrollHeight-E.clientHeight,I=C<0?-1:1,k=C<0?"max":"min";E.scrollHeight<=E.clientHeight||(!x&&C>0||!w&&C<0?(S.preventDefault(),Lr.flushSync(()=>{l(B=>B+Math[k](C,v*I))})):/firefox/i.test(are())&&(E.scrollTop+=C))}const E=(o==null?void 0:o.current)||r.floating;if(n&&E)return E.addEventListener("wheel",_),requestAnimationFrame(()=>{f.current=E.scrollTop,s.current!=null&&(p.current={...s.current})}),()=>{f.current=null,p.current=null,E.removeEventListener("wheel",_)}},[i,n,r.floating,s,o,l]);const y=O.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const _=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!_||!u.current)){if(f.current!==null){const E=_.scrollTop-f.current;(s.current.bottom<-.5&&E<-1||s.current.top<-.5&&E>1)&&Lr.flushSync(()=>l(S=>S+E))}requestAnimationFrame(()=>{f.current=_.scrollTop})}}}),[r.floating,l,s,o]);return O.useMemo(()=>i?{floating:y}:{},[i,y])}let Hc=O.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Hc.displayName="FloatingContext";let $x=O.createContext(null);$x.displayName="PlacementContext";function cie(t){return O.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function fie(){return O.useContext(Hc).setReference}function die(){return O.useContext(Hc).getReferenceProps}function hie(){let{getFloatingProps:t,slot:e}=O.useContext(Hc);return O.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function pie(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=O.useContext($x),n=O.useMemo(()=>t,[JSON.stringify(t,typeof HTMLElement<"u"?(i,s)=>s instanceof HTMLElement?s.outerHTML:s:void 0)]);vn(()=>{e==null||e(n??null)},[e,n]);let r=O.useContext(Hc);return O.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let lP=4;function mie({children:t,enabled:e=!0}){let[n,r]=O.useState(null),[i,s]=O.useState(0),o=O.useRef(null),[a,l]=O.useState(null);gie(a);let u=e&&n!==null&&a!==null,{to:f="bottom",gap:p=0,offset:y=0,padding:_=0,inner:E}=yie(n,a),[S,C="center"]=f.split(" ");vn(()=>{u&&s(0)},[u]);let{refs:x,floatingStyles:w,context:v}=oie({open:u,placement:S==="selection"?C==="center"?"bottom":`bottom-${C}`:C==="center"?`${S}`:`${S}-${C}`,strategy:"absolute",transform:!1,middleware:[Rj({mainAxis:S==="selection"?0:p,crossAxis:y}),Hre({padding:_}),S!=="selection"&&qre({padding:_}),S==="selection"&&E?lie({...E,padding:_,overflowRef:o,offset:i,minItemsVisible:lP,referenceOverflowThreshold:_,onFallbackChange(M){var U,F;if(!M)return;let ie=v.elements.floating;if(!ie)return;let de=parseFloat(getComputedStyle(ie).scrollPaddingBottom)||0,ue=Math.min(lP,ie.childElementCount),Y=0,Q=0;for(let ee of(F=(U=v.elements.floating)==null?void 0:U.childNodes)!=null?F:[])if(ee instanceof HTMLElement){let me=ee.offsetTop,ne=me+ee.clientHeight+de,$=ie.scrollTop,K=$+ie.clientHeight;if(me>=$&&ne<=K)ue--;else{Q=Math.max(0,Math.min(ne,K)-Math.max(me,$)),Y=ee.clientHeight;break}}ue>=1&&s(ee=>{let me=Y*ue-Q+de;return ee>=me?ee:me})}}):null,Wre({padding:_,apply({availableWidth:M,availableHeight:U,elements:F}){Object.assign(F.floating.style,{overflow:"auto",maxWidth:`${M}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:Fre}),[I=S,k=C]=v.placement.split("-");S==="selection"&&(I="selection");let B=O.useMemo(()=>({anchor:[I,k].filter(Boolean).join(" ")}),[I,k]),D=uie(v,{overflowRef:o,onChange:s}),{getReferenceProps:T,getFloatingProps:N}=aie([D]),L=St(M=>{l(M),x.setFloating(M)});return O.createElement($x.Provider,{value:r},O.createElement(Hc.Provider,{value:{setFloating:L,setReference:x.setReference,styles:w,getReferenceProps:T,getFloatingProps:N,slot:B}},t))}function gie(t){vn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function yie(t,e){var n,r,i;let s=F_((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=F_((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=F_((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function F_(t,e,n=void 0){let r=jy(),i=St((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let f=uP(l,u);return[f,p=>{let y=Aj(l);{let _=y.map(E=>window.getComputedStyle(u).getPropertyValue(E));r.requestAnimationFrame(function E(){r.nextFrame(E);let S=!1;for(let[x,w]of y.entries()){let v=window.getComputedStyle(u).getPropertyValue(w);if(_[x]!==v){_[x]=v,S=!0;break}}if(!S)return;let C=uP(l,u);f!==C&&(p(C),f=C)})}return r.dispose}]}return[n,null]}),s=O.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=O.useState();return vn(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function Aj(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Aj(i)]:[r]}return[]}function uP(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let zy=O.createContext(null);zy.displayName="OpenClosedContext";var po=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(po||{});function Pj(){return O.useContext(zy)}function kj({value:t,children:e}){return Pe.createElement(zy.Provider,{value:t},e)}function vie({children:t}){return Pe.createElement(zy.Provider,{value:null},t)}function _ie(t){throw new Error("Unexpected object: "+t)}var or=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(or||{});function j_(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:_ie(t)}}function wie(t){let e=St(t),n=O.useRef(!1);O.useEffect(()=>(n.current=!1,()=>{n.current=!0,XF(()=>{n.current&&e()})}),[e])}function Eie(){let t=typeof document>"u";return"useSyncExternalStore"in vm?(e=>e.useSyncExternalStore)(vm)(()=>()=>{},()=>!1,()=>!t):!1}function bie(){let t=Eie(),[e,n]=O.useState(ml.isHandoffComplete);return e&&ml.isHandoffComplete===!1&&n(!1),O.useEffect(()=>{e!==!0&&n(!0)},[e]),O.useEffect(()=>ml.handoff(),[]),t?!1:e}let Tie=O.createContext(!1);function Sie(){return O.useContext(Tie)}function xie(t){let e=Sie(),n=O.useContext(Nj),r=jx(t),[i,s]=O.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(ml.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return O.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),O.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let Oj=O.Fragment,Rie=Sr(function(t,e){let n=t,r=O.useRef(null),i=wi(rj(f=>{r.current=f}),e),s=jx(r),o=xie(r),[a]=O.useState(()=>{var f;return ml.isServer?null:(f=s==null?void 0:s.createElement("div"))!=null?f:null}),l=O.useContext(Pie),u=bie();return vn(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),vn(()=>{if(a&&l)return l.register(a)},[l,a]),wie(()=>{var f;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))}),u?!o||!a?null:Lr.createPortal(Tr({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Oj,name:"Portal"}),a):null});function Iie(t,e){let n=wi(e),{enabled:r=!0,...i}=t;return r?Pe.createElement(Rie,{...i,ref:n}):Tr({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Oj,name:"Portal"})}let Cie=O.Fragment,Nj=O.createContext(null);function Aie(t,e){let{target:n,...r}=t,i={ref:wi(e)};return Pe.createElement(Nj.Provider,{value:n},Tr({ourProps:i,theirProps:r,defaultTag:Cie,name:"Popover.Group"}))}let Pie=O.createContext(null),kie=Sr(Iie),Oie=Sr(Aie),Nie=Object.assign(kie,{Group:Oie});var cP;let Die=(cP=Pe.startTransition)!=null?cP:function(t){t()};var Lie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Lie||{}),Mie=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(Mie||{});let Fie={0:t=>({...t,disclosureState:ka(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}},4(t,e){return t.buttonElement===e.element?t:{...t,buttonElement:e.element}},5(t,e){return t.panelElement===e.element?t:{...t,panelElement:e.element}}},zx=O.createContext(null);zx.displayName="DisclosureContext";function Hx(t){let e=O.useContext(zx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hx),n}return e}let qx=O.createContext(null);qx.displayName="DisclosureAPIContext";function Dj(t){let e=O.useContext(qx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dj),n}return e}let Wx=O.createContext(null);Wx.displayName="DisclosurePanelContext";function jie(){return O.useContext(Wx)}function Vie(t,e){return ka(e.type,Fie,t,e)}let Uie=O.Fragment;function Bie(t,e){let{defaultOpen:n=!1,...r}=t,i=O.useRef(null),s=wi(e,rj(E=>{i.current=E},t.as===void 0||t.as===O.Fragment)),o=O.useReducer(Vie,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:l},u]=o,f=St(E=>{u({type:1});let S=Bl(i);if(!S||!l)return;let C=E?E instanceof HTMLElement?E:E.current instanceof HTMLElement?E.current:S.getElementById(l):S.getElementById(l);C==null||C.focus()}),p=O.useMemo(()=>({close:f}),[f]),y=O.useMemo(()=>({open:a===0,close:f}),[a,f]),_={ref:s};return Pe.createElement(zx.Provider,{value:o},Pe.createElement(qx.Provider,{value:p},Pe.createElement(Sne,{value:f},Pe.createElement(kj,{value:ka(a,{0:po.Open,1:po.Closed})},Tr({ourProps:_,theirProps:r,slot:y,defaultTag:Uie,name:"Disclosure"})))))}let $ie="button";function zie(t,e){let n=O.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:i=!1,autoFocus:s=!1,...o}=t,[a,l]=Hx("Disclosure.Button"),u=jie(),f=u===null?!1:u===a.panelId,p=O.useRef(null),y=wi(p,e,St(L=>{if(!f)return l({type:4,element:L})})),_=Ox();O.useEffect(()=>{if(!f)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}},[r,l,f]);let E=St(L=>{var M;if(f){if(a.disclosureState===1)return;switch(L.key){case sn.Space:case sn.Enter:L.preventDefault(),L.stopPropagation(),l({type:0}),(M=a.buttonElement)==null||M.focus();break}}else switch(L.key){case sn.Space:case sn.Enter:L.preventDefault(),L.stopPropagation(),l({type:0});break}}),S=St(L=>{switch(L.key){case sn.Space:L.preventDefault();break}}),C=St(L=>{var M;tj(L.currentTarget)||i||(f?(l({type:0}),(M=a.buttonElement)==null||M.focus()):l({type:0}))}),{isFocusVisible:x,focusProps:w}=YF({autoFocus:s}),{isHovered:v,hoverProps:I}=QF({isDisabled:i}),{pressed:k,pressProps:B}=JF({disabled:i}),D=O.useMemo(()=>({open:a.disclosureState===0,hover:v,active:k,disabled:i,focus:x,autofocus:s}),[a,v,k,x,i,s]),T=dj(t,a.buttonElement),N=Ag(f?{ref:y,type:T,disabled:i||void 0,autoFocus:s,onKeyDown:E,onClick:C}:{ref:y,id:r,type:T,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:i||void 0,autoFocus:s,onKeyDown:E,onKeyUp:S,onClick:C},w,I,B);return Tr({mergeRefs:_,ourProps:N,theirProps:o,slot:D,defaultTag:$ie,name:"Disclosure.Button"})}let Hie="div",qie=qd.RenderStrategy|qd.Static;function Wie(t,e){let n=O.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:i=!1,...s}=t,[o,a]=Hx("Disclosure.Panel"),{close:l}=Dj("Disclosure.Panel"),u=Ox(),[f,p]=O.useState(null),y=wi(e,St(w=>{Die(()=>a({type:5,element:w}))}),p);O.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let _=Pj(),[E,S]=pj(i,f,_!==null?(_&po.Open)===po.Open:o.disclosureState===0),C=O.useMemo(()=>({open:o.disclosureState===0,close:l}),[o.disclosureState,l]),x={ref:y,id:r,...hj(S)};return Pe.createElement(vie,null,Pe.createElement(Wx.Provider,{value:o.panelId},Tr({mergeRefs:u,ourProps:x,theirProps:s,slot:C,defaultTag:Hie,features:qie,visible:E,name:"Disclosure.Panel"})))}let Kie=Sr(Bie),qb=Sr(zie),Lj=Sr(Wie),Gie=Object.assign(Kie,{Button:qb,Panel:Lj});function Qie(t,e){let n=O.useRef({left:0,top:0});if(vn(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let fP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function dP(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return fP.test(o)&&(o=o.replace(fP,"")),o}function Yie(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():dP(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return dP(t).trim()}function Xie(t){let e=O.useRef(""),n=O.useRef("");return St(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Yie(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var Jie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Jie||{}),Zie=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Zie||{}),ese=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(ese||{});function V_(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=cj(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let tse={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===or.Nothing)return{...a,activeItemIndex:null};if(e.focus===or.Specific)return{...a,activeItemIndex:t.items.findIndex(f=>f.id===e.id)};if(e.focus===or.Previous){let f=t.activeItemIndex;if(f!==null){let p=t.items[f].dataRef.current.domRef,y=j_(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=t.items[y].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===_.current||((i=_.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:y}}}}else if(e.focus===or.Next){let f=t.activeItemIndex;if(f!==null){let p=t.items[f].dataRef.current.domRef,y=j_(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=t.items[y].dataRef.current.domRef;if(((s=p.current)==null?void 0:s.nextElementSibling)===_.current||((o=_.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:y}}}}let l=V_(t),u=j_(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=V_(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=V_(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},Kx=O.createContext(null);Kx.displayName="MenuContext";function Hy(t){let e=O.useContext(Kx);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hy),n}return e}function nse(t,e){return ka(e.type,tse,t,e)}let rse=O.Fragment;function ise(t,e){let{__demoMode:n=!1,...r}=t,i=O.useReducer(nse,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:o,buttonElement:a},l]=i,u=wi(e);Hne(s===0,[a,o],(_,E)=>{l({type:1}),Fx(E,Mx.Loose)||(_.preventDefault(),a==null||a.focus())});let f=St(()=>{l({type:1})}),p=O.useMemo(()=>({open:s===0,close:f}),[s,f]),y={ref:u};return Pe.createElement(mie,null,Pe.createElement(Kx.Provider,{value:i},Pe.createElement(kj,{value:ka(s,{0:po.Open,1:po.Closed})},Tr({ourProps:y,theirProps:r,slot:p,defaultTag:rse,name:"Menu"}))))}let sse="button";function ose(t,e){var n;let r=O.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,[l,u]=Hy("Menu.Button"),f=die(),p=Ox(),y=wi(e,fie(),St(T=>u({type:7,element:T}))),_=St(T=>{switch(T.key){case sn.Space:case sn.Enter:case sn.ArrowDown:T.preventDefault(),T.stopPropagation(),Lr.flushSync(()=>u({type:0})),u({type:2,focus:or.First});break;case sn.ArrowUp:T.preventDefault(),T.stopPropagation(),Lr.flushSync(()=>u({type:0})),u({type:2,focus:or.Last});break}}),E=St(T=>{switch(T.key){case sn.Space:T.preventDefault();break}}),S=St(T=>{var N;if(tj(T.currentTarget))return T.preventDefault();s||(l.menuState===0?(Lr.flushSync(()=>u({type:1})),(N=l.buttonElement)==null||N.focus({preventScroll:!0})):(T.preventDefault(),u({type:0})))}),{isFocusVisible:C,focusProps:x}=YF({autoFocus:o}),{isHovered:w,hoverProps:v}=QF({isDisabled:s}),{pressed:I,pressProps:k}=JF({disabled:s}),B=O.useMemo(()=>({open:l.menuState===0,active:I||l.menuState===0,disabled:s,hover:w,focus:C,autofocus:o}),[l,w,C,I,s,o]),D=Ag(f(),{ref:y,id:i,type:dj(t,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:_,onKeyUp:E,onClick:S},x,v,k);return Tr({mergeRefs:p,ourProps:D,theirProps:a,slot:B,defaultTag:sse,name:"Menu.Button"})}let ase="div",lse=qd.RenderStrategy|qd.Static;function use(t,e){var n,r;let i=O.useId(),{id:s=`headlessui-menu-items-${i}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...f}=t,p=cie(o),[y,_]=Hy("Menu.Items"),[E,S]=pie(p),C=hie(),[x,w]=O.useState(null),v=wi(e,p?E:null,St(Y=>_({type:8,element:Y})),w),I=jx(y.itemsElement);p&&(a=!0);let k=Pj(),[B,D]=pj(u,x,k!==null?(k&po.Open)===po.Open:y.menuState===0);Pne(B,y.buttonElement,()=>{_({type:1})});let T=y.__demoMode?!1:l&&y.menuState===0;Yne(T,I);let N=y.__demoMode?!1:l&&y.menuState===0;Ane(N,{allowed:O.useCallback(()=>[y.buttonElement,y.itemsElement],[y.buttonElement,y.itemsElement])});let L=y.menuState!==0,M=Qie(L,y.buttonElement)?!1:B;O.useEffect(()=>{let Y=y.itemsElement;Y&&y.menuState===0&&Y!==(I==null?void 0:I.activeElement)&&Y.focus({preventScroll:!0})},[y.menuState,y.itemsElement,I]),ire(y.menuState===0,{container:y.itemsElement,accept(Y){return Y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Y){Y.setAttribute("role","none")}});let U=jy(),F=St(Y=>{var Q,ee,me;switch(U.dispose(),Y.key){case sn.Space:if(y.searchQuery!=="")return Y.preventDefault(),Y.stopPropagation(),_({type:3,value:Y.key});case sn.Enter:if(Y.preventDefault(),Y.stopPropagation(),_({type:1}),y.activeItemIndex!==null){let{dataRef:ne}=y.items[y.activeItemIndex];(ee=(Q=ne.current)==null?void 0:Q.domRef.current)==null||ee.click()}uj(y.buttonElement);break;case sn.ArrowDown:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:or.Next});case sn.ArrowUp:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:or.Previous});case sn.Home:case sn.PageUp:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:or.First});case sn.End:case sn.PageDown:return Y.preventDefault(),Y.stopPropagation(),_({type:2,focus:or.Last});case sn.Escape:Y.preventDefault(),Y.stopPropagation(),Lr.flushSync(()=>_({type:1})),(me=y.buttonElement)==null||me.focus({preventScroll:!0});break;case sn.Tab:Y.preventDefault(),Y.stopPropagation(),Lr.flushSync(()=>_({type:1})),Vne(y.buttonElement,Y.shiftKey?Bb.Previous:Bb.Next);break;default:Y.key.length===1&&(_({type:3,value:Y.key}),U.setTimeout(()=>_({type:4}),350));break}}),ie=St(Y=>{switch(Y.key){case sn.Space:Y.preventDefault();break}}),de=O.useMemo(()=>({open:y.menuState===0}),[y.menuState]),ue=Ag(p?C():{},{"aria-activedescendant":y.activeItemIndex===null||(n=y.items[y.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=y.buttonElement)==null?void 0:r.id,id:s,onKeyDown:F,onKeyUp:ie,role:"menu",tabIndex:y.menuState===0?0:void 0,ref:v,style:{...f.style,...S,"--button-width":Rne(y.buttonElement,!0).width},...hj(D)});return Pe.createElement(Nie,{enabled:a?t.static||B:!1},Tr({ourProps:ue,theirProps:f,slot:de,defaultTag:ase,features:lse,visible:M,name:"Menu.Items"}))}let cse=O.Fragment;function fse(t,e){let n=O.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Hy("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=O.useRef(null),f=wi(e,u);vn(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return Rs().requestAnimationFrame(()=>{var N,L;(L=(N=u.current)==null?void 0:N.scrollIntoView)==null||L.call(N,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let p=Xie(u),y=O.useRef({disabled:i,domRef:u,get textValue(){return p()}});vn(()=>{y.current.disabled=i},[y,i]),vn(()=>(a({type:5,id:r,dataRef:y}),()=>a({type:6,id:r})),[y,r]);let _=St(()=>{a({type:1})}),E=St(N=>{if(i)return N.preventDefault();a({type:1}),uj(o.buttonElement)}),S=St(()=>{if(i)return a({type:2,focus:or.Nothing});a({type:2,focus:or.Specific,id:r})}),C=Xne(),x=St(N=>{C.update(N),!i&&(l||a({type:2,focus:or.Specific,id:r,trigger:0}))}),w=St(N=>{C.wasMoved(N)&&(i||l||a({type:2,focus:or.Specific,id:r,trigger:0}))}),v=St(N=>{C.wasMoved(N)&&(i||l&&a({type:2,focus:or.Nothing}))}),[I,k]=sj(),[B,D]=mne(),T=O.useMemo(()=>({active:l,focus:l,disabled:i,close:_}),[l,i,_]);return Pe.createElement(k,null,Pe.createElement(D,null,Tr({ourProps:{id:r,ref:f,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":I,"aria-describedby":B,disabled:void 0,onClick:E,onFocus:S,onPointerEnter:x,onMouseEnter:x,onPointerMove:w,onMouseMove:w,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:T,defaultTag:cse,name:"Menu.Item"})))}let dse="div";function hse(t,e){let[n,r]=sj();return Pe.createElement(r,null,Tr({ourProps:{ref:e,"aria-labelledby":n,role:"group"},theirProps:t,slot:{},defaultTag:dse,name:"Menu.Section"}))}let pse="header";function mse(t,e){let n=O.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=Dx();vn(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Tr({ourProps:o,theirProps:i,slot:{},defaultTag:pse,name:"Menu.Heading"})}let gse="div";function yse(t,e){return Tr({ourProps:{ref:e,role:"separator"},theirProps:t,slot:{},defaultTag:gse,name:"Menu.Separator"})}let vse=Sr(ise),Mj=Sr(ose),Fj=Sr(use),Wb=Sr(fse),_se=Sr(hse),wse=Sr(mse),Ese=Sr(yse),bse=Object.assign(vse,{Button:Mj,Items:Fj,Item:Wb,Section:_se,Heading:wse,Separator:Ese});function Tse({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Sse=O.forwardRef(Tse);function xse({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rse=O.forwardRef(xse);var jj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hP=Pe.createContext&&Pe.createContext(jj),Ise=["attr","size","title"];function Cse(t,e){if(t==null)return{};var n=Ase(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ase(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Ose(t,"string");return typeof e=="symbol"?e:e+""}function Ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vj(t){return t&&t.map((e,n)=>Pe.createElement(e.tag,Lg({key:n},e.attr),Vj(e.child)))}function qc(t){return e=>Pe.createElement(Nse,Dg({attr:Lg({},t.attr)},e),Vj(t.child))}function Nse(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Cse(t,Ise),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Pe.createElement("svg",Dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Lg(Lg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Pe.createElement("title",null,s),t.children)};return hP!==void 0?Pe.createElement(hP.Consumer,null,n=>e(n)):e(jj)}function Dse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(t)}function mP(...t){return t.filter(Boolean).join(" ")}function si(){var l,u;const t=Ra(),{logoutUzer:e,currentUser:n,setCurrentUser:r}=cr(),i=[{name:"Home",href:"/r-social/",show:!!n},{name:"Register",href:"/r-social/register",show:!n},{name:"Sign in",href:"/r-social/login",show:!n},{name:"Profile",href:"/r-social/profile/me",show:!!n},{name:"Post",href:"/r-social/post",show:!!n},{name:"Posts",href:"/r-social/profile/posts",show:!!n}];function s(){e(),r(null),t("/r-social/login")}const o=f=>{if(f==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg"||f.includes(".googleusercontent.com"))return f;const p="q_auto,f_auto,h_500,w_500,c_auto",y=f.indexOf("/upload")+7;return f.slice(0,y)+`/${p}`+f.slice(y)},a=()=>n&&n!=null&&n.profilePictureURL?o(n.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg";return O.useEffect(()=>{},[n]),R.jsxs(Gie,{as:"nav",className:"bg-gray-800 top-0 right-0 left-0  ",children:[R.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8 ",children:R.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:R.jsxs(qb,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[R.jsx("span",{className:"absolute -inset-0.5"}),R.jsx("span",{className:"sr-only",children:"Open main menu"}),R.jsx(Sse,{"aria-hidden":"true",className:"block h-6 w-6 group-data-[open]:hidden"}),R.jsx(Rse,{"aria-hidden":"true",className:"hidden h-6 w-6 group-data-[open]:block"})]})}),R.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[R.jsx("div",{className:"flex flex-shrink-0 items-center font-mono text-white text-4xl",children:R.jsx(yr,{to:"/r-social/",children:"R-Social"})}),R.jsx("div",{className:"hidden sm:ml-6 sm:block",children:R.jsx("div",{className:"flex space-x-4",children:i.map(f=>R.jsx(yr,{to:f.href,"aria-current":f.current?"page":void 0,className:({isActive:p})=>mP("rounded-md px-3 py-2 text-sm font-medium",f.show?"":"hidden ",p?"bg-gray-900 text-cyan-500":"text-white hover:bg-gray-700 hover:text-white"),children:f.name},f.name))})})]}),R.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[R.jsx(yr,{to:"/r-social/search",children:R.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 mx-1 focus:ring-white focus:ring-offset-1 focus:ring-offset-gray-800",children:[R.jsx("span",{className:"absolute -inset-1.5"}),R.jsx("span",{className:"sr-only",children:"Search"}),R.jsx(Dse,{size:25})]})}),R.jsxs(bse,{as:"div",className:"relative ml-3",children:[n&&R.jsx("div",{children:R.jsxs(Mj,{className:"relative flex rounded-full bg-gray-800 text-sm focus:outline-none ring-2 ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[R.jsx("span",{className:"absolute -inset-1.5"}),R.jsx("span",{className:"sr-only",children:"Open user menu"}),R.jsx("img",{src:a(),alt:"User Profile",className:"h-8 w-8 rounded-full"})]})}),R.jsxs(Fj,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-100 data-[enter]:ease-in-out data-[leave]:ease-in",children:[R.jsx("h1",{className:"text-blue-700 font-mono p-2 ml-2",children:n&&(((l=n==null?void 0:n.username)==null?void 0:l.toUpperCase())||((u=n==null?void 0:n.displayName)==null?void 0:u.toUpperCase()))}),R.jsx(Wb,{children:R.jsx(yr,{to:"/r-social/profile/me",className:"block px-4 py-2 text-sm text-gray-700 data-[focus]:bg-gray-100",children:"Your Profile"})}),R.jsx(Wb,{children:R.jsx(yr,{onClick:()=>{confirm("Do you wanna LOGOUT? ")&&s()},className:"block px-4 py-2 text-sm text-gray-700 data-[focus]:bg-gray-100",children:"Sign out"})})]})]})]})]})}),R.jsx(Lj,{className:"sm:hidden",children:R.jsx("div",{className:"space-y-1 px-2 pb-3 pt-2",children:i.map(f=>R.jsx(yr,{as:"NavLink",to:f.href,"aria-current":f.current?"page":void 0,className:({isActive:p})=>mP("block rounded-md px-3 py-2 text-base font-medium hover:cursor-pointer",f.show?"":"hidden ",p?"bg-gray-900 text-cyan-300":"text-white hover:bg-gray-700 hover:text-white"),children:R.jsx(qb,{children:f.name})},f.name))})})]})}function Lse(t){return qc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"},child:[]}]})(t)}function gP(t){return qc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"},child:[]}]})(t)}function Mse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288z"},child:[]}]})(t)}function Fse(t){return qc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M383.822 344.427c-16.045 0-31.024 5.326-41.721 15.979l-152.957-88.42c1.071-5.328 2.142-9.593 2.142-14.919 0-5.328-1.071-9.593-2.142-14.919l150.826-87.35c11.762 10.653 26.741 17.041 43.852 17.041 35.295 0 64.178-28.766 64.178-63.92C448 72.767 419.117 44 383.822 44c-35.297 0-64.179 28.767-64.179 63.92 0 5.327 1.065 9.593 2.142 14.919l-150.821 87.35c-11.767-10.654-26.741-17.041-43.856-17.041-35.296 0-63.108 28.766-63.108 63.92 0 35.153 28.877 63.92 64.178 63.92 17.115 0 32.089-6.389 43.856-17.042l151.891 88.421c-1.076 4.255-2.141 8.521-2.141 13.847 0 34.094 27.806 61.787 62.037 61.787 34.229 0 62.036-27.693 62.036-61.787.001-34.094-27.805-61.787-62.035-61.787z"},child:[]}]})(t)}const jse=({comment:t,pid:e})=>{const{db:n,currentUser:r}=cr(),i=async p=>{const y=await gr(Ir(Ln(n,"users"),ui("username","==",p)));let _="";return y.forEach(E=>{_=E.data().profilePictureURL}),_};async function s(p,y){(await gr(Ln(n,"users"))).forEach(async E=>{const S=E.data(),C=S.posts.findIndex(x=>x.pid===p);if(C!==-1){const x=[...S.posts];x[C].comments.push({name:r==null?void 0:r.username,comment:y});const w=fs(n,"users",E.id);await $s(w,{posts:x})}})}const{register:o,handleSubmit:a,formState:{errors:l},reset:u}=eh(),f=p=>{s(e,p.comment),u()};return R.jsx("section",{className:" dark:bg-gray-900 bg-slate-400 py-8 lg:py-16 antialiased",children:R.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[R.jsx("div",{className:"flex justify-between items-center mb-6",children:R.jsxs("h2",{className:"text-lg lg:text-2xl font-bold text-gray-900 dark:text-white",children:["Comments (",t.length,")"]})}),R.jsxs("form",{className:"mb-6",onSubmit:a(f),children:[R.jsxs("div",{className:"py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[R.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Your comment"}),R.jsx("textarea",{id:"comment",rows:"6",className:`px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800 ${l.comment?"border-red-500":""}`,placeholder:"Write a comment...",...o("comment",{required:"Comment is required",minLength:{value:1,message:"Comment must be at least 1 character long"}})}),l.comment&&R.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.comment.message})]}),R.jsx("button",{type:"submit",className:"inline-flex items-center py-2.5 px-4 text-xs font-medium text-center bg-blue-500 text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800",children:"Post comment"})]}),t==null?void 0:t.map((p,y)=>R.jsx(Vse,{value:p,getImageUrlByName:i},y))]})})},Vse=({value:t,getImageUrlByName:e})=>{const[n,r]=O.useState("");return O.useEffect(()=>{(async()=>{const s=await e(t.name);r(s)})()},[t.name,e]),R.jsxs("article",{className:"p-6 text-base bg-white rounded-lg dark:bg-gray-900",children:[R.jsx(yr,{to:`/r-social/profile/${t.name}`,children:R.jsx("footer",{className:"flex justify-between items-center mb-2",children:R.jsxs("div",{className:"flex items-center",children:[R.jsx("img",{className:"mr-2 w-6 h-6 rounded-full",src:n||"default_profile_picture_url",alt:t.name}),R.jsx("p",{className:"inline-flex items-center mr-3 text-sm text-gray-900 dark:text-white font-semibold",children:t.name})]})})}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.comment})]})},U_=t=>{let{handleLike:e}=_i(),{currentUser:n,db:r}=cr();const{username:i}=iS(),[s,o]=O.useState(!1),[a,l]=O.useState(!1),u=O.useRef(null);async function f(_){try{const E=await gr(Ir(Ln(r,"users"),ui("uid","==",n==null?void 0:n.uid)));E.empty||E.forEach(async S=>{S.data().postsLiked.includes(_)?l(!0):l(!1)})}catch(E){console.error(E)}}const p=(_,E)=>_.length<=E?_:_.slice(0,E)+"...",y=_=>{navigator.clipboard.writeText(_).then(()=>{hs("Link copied to clipboard!","info","top-right",1e3)}).catch(E=>{console.error("Failed to copy: ",E)})};return O.useEffect(()=>{l(f(t.post.pid))},[n]),R.jsx(R.Fragment,{children:R.jsxs("div",{className:"max-w-md mx-auto  bg-white rounded-xl shadow-md overflow-hidden my-4 border-e-4 border border-blue-100",children:[R.jsx("div",{className:"",children:t.post.type==="image"?R.jsx("img",{src:t.post.mediaURL,alt:"post media",className:"w-full h-60 object-cover"}):R.jsxs("video",{controls:a,id:"post-video",className:"w-full h-60 object-cover",preload:"metadata",ref:u,children:[R.jsx("source",{src:t.post.mediaURL,type:"video/mp4"}),"Your browser does not support the video tag."]})}),R.jsxs("div",{className:"p-4",children:[R.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.post.title}),R.jsx("p",{className:"text-gray-600 mt-2",children:p(t.post.desc,60)})]}),R.jsxs("div",{className:"border-t px-4 py-2 flex justify-between items-center",children:[R.jsxs("button",{className:"flex items-center space-x-1 text-slate-600 hover:text-blue-400",onClick:()=>{l(!a),e(t.post.uid,t.post.pid)},children:[R.jsx("i",{className:"fas fa-heart",children:R.jsx(Lse,{color:a?"blue":"",size:23})}),R.jsxs("span",{children:[t.post.likes.length," Likes"]})]}),R.jsxs("button",{className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500 }",onClick:()=>{o(!s)},children:[R.jsx("i",{className:"fas fa-comment",children:R.jsx(Mse,{size:23})}),R.jsxs("span",{children:["Comments ",t.post.comments.length]})]}),R.jsxs("button",{onClick:()=>y(`https://r-social.github.io/r-social/profile/${i}/posts`),className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500",children:[R.jsx("i",{className:"fas fa-share",children:R.jsx(Fse,{size:23})}),R.jsx("span",{children:"Share"})]})]}),s&&R.jsx(jse,{comment:t.post.comments,pid:t.post.pid})]})})};function ym(){return R.jsx(R.Fragment,{children:R.jsx("div",{className:"h-auto pt-6 mt-2",children:R.jsxs("div",{className:"max-w-sm mx-auto bg-gray-200 rounded-lg shadow-lg overflow-hidden animate-pulse",children:[R.jsxs("div",{className:"border-b px-4 pb-6",children:[R.jsx("div",{className:"text-center my-4",children:R.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-300 mx-auto my-4 animate-pulse"})}),R.jsxs("div",{className:"py-2",children:[R.jsx("div",{className:"h-6 bg-gray-300 rounded-lg animate-pulse"}),R.jsx("div",{className:"h-4 bg-gray-300 rounded-lg mt-2 animate-pulse"})]})]}),R.jsxs("div",{className:"px-4 py-4",children:[R.jsxs("div",{className:"flex gap-2 items-center text-gray-300 mb-4 animate-pulse",children:[R.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded-lg animate-pulse"}),R.jsx("span",{className:"h-4 bg-gray-300 rounded-lg animate-pulse"})]}),R.jsxs("div",{className:"flex items-center animate-pulse",children:[R.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),R.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),R.jsx("div",{className:"flex justify-end mr-2 h-10 w-10 bg-gray-300 rounded-lg"}),R.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-lg animate-pulse"})]})]})]})})})}const cd=t=>{let{currentUser:e}=cr(),{handleLike:n,userArray:r}=_i(),{username:i}=iS();return R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-1 ",children:" Posts"}),R.jsx("div",{className:"flex flex-col flex-wrap  justify-start gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800",children:t.user==="all"?r&&r.map((s,o,a)=>{var l,u;return((l=s==null?void 0:s.posts)==null?void 0:l.length)===0?"":(u=s==null?void 0:s.posts)==null?void 0:u.map((f,p)=>R.jsx(O.Suspense,{fallback:R.jsx(ym,{}),children:R.jsx(U_,{post:f},p)},p))}):t.user==="me"?r&&r.map((s,o,a)=>{var l,u;if(s.uid===(e==null?void 0:e.uid))return((l=s==null?void 0:s.posts)==null?void 0:l.length)===0?"":(u=s==null?void 0:s.posts)==null?void 0:u.map((f,p)=>R.jsx(O.Suspense,{fallback:R.jsx(ym,{}),children:R.jsx(U_,{post:f},p)}))}):R.jsx(R.Fragment,{children:r&&r.map((s,o,a)=>{var l;if(s.username===i)return(l=s==null?void 0:s.posts)==null?void 0:l.map((u,f)=>R.jsx(O.Suspense,{fallback:R.jsx(ym,{}),children:R.jsx(U_,{post:u},f)},f))})})})]})},Use=O.lazy(()=>F7(()=>Promise.resolve().then(()=>Hae),void 0));function Bse(){const{userArray:t,setUserArray:e,getUsers:n,isFollowing:r,setIsFollowing:i,uzerFollowObj:s,setPostsLoaded:o,postsLoaded:a}=_i(),{currentUser:l}=cr();O.useEffect(()=>{l&&t&&t.map((f,p,y)=>{if(f.uid===(l==null?void 0:l.uid)){i(f.following);return}})},[l]);const u=f=>{if(f==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg"||f.includes("google"))return f;const p="q_auto,f_auto,h_500,w_500,c_auto",y=f.indexOf("/upload")+7;return f.slice(0,y)+`/${p}`+f.slice(y)};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:t&&t.map((f,p,y)=>R.jsx(R.Fragment,{children:(l==null?void 0:l.uid)!==f.uid&&R.jsx(O.Suspense,{fallback:R.jsx(ym,{}),children:f.username!==""&&R.jsx(Use,{username:f.username,followers:f.followers.length,following:f.following.length,userBio:f.bio,userPic:u(f.profilePictureURL),userUID:f.uid,isFollowing:r},p)})}))}),a&&R.jsxs(R.Fragment,{children:[R.jsx("hr",{className:"  my-8  h-0.5 bg-slate-400 w-3/4 mx-auto"}),R.jsx(cd,{user:"all"})]})]})}var Uj={exports:{}},B_,yP;function Bj(){if(yP)return B_;yP=1;var t=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi;return B_=t,B_}var $_,vP;function Is(){if(vP)return $_;vP=1;var t=Bj(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return $_=n,$_}var z_,_P;function Ph(){if(_P)return z_;_P=1;var t=Is(),e=t.Symbol;return z_=e,z_}var H_,wP;function $se(){if(wP)return H_;wP=1;var t=Ph(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(a?o[i]=l:delete o[i]),f}return H_=s,H_}var q_,EP;function zse(){if(EP)return q_;EP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return q_=n,q_}var W_,bP;function $l(){if(bP)return W_;bP=1;var t=Ph(),e=$se(),n=zse(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return W_=o,W_}var K_,TP;function wo(){if(TP)return K_;TP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return K_=t,K_}var G_,SP;function kh(){if(SP)return G_;SP=1;var t=$l(),e=wo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return G_=o,G_}var Q_,xP;function Hse(){if(xP)return Q_;xP=1;var t=Is(),e=t["__core-js_shared__"];return Q_=e,Q_}var Y_,RP;function qse(){if(RP)return Y_;RP=1;var t=Hse(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Y_=n,Y_}var X_,IP;function $j(){if(IP)return X_;IP=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return X_=n,X_}var J_,CP;function Wse(){if(CP)return J_;CP=1;var t=kh(),e=qse(),n=wo(),r=$j(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?f:s;return _.test(r(y))}return J_=p,J_}var Z_,AP;function Kse(){if(AP)return Z_;AP=1;function t(e,n){return e==null?void 0:e[n]}return Z_=t,Z_}var e0,PP;function zl(){if(PP)return e0;PP=1;var t=Wse(),e=Kse();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return e0=n,e0}var t0,kP;function zj(){if(kP)return t0;kP=1;var t=zl(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return t0=e,t0}var n0,OP;function Gx(){if(OP)return n0;OP=1;var t=zj();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return n0=e,n0}var r0,NP;function qy(){if(NP)return r0;NP=1;function t(e,n){return e===n||e!==e&&n!==n}return r0=t,r0}var i0,DP;function Qx(){if(DP)return i0;DP=1;var t=Gx(),e=qy(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return i0=i,i0}var s0,LP;function Wc(){if(LP)return s0;LP=1;var t=Qx(),e=Gx();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var f=i[l],p=o?o(s[f],r[f],f,s,r):void 0;p===void 0&&(p=r[f]),a?e(s,f,p):t(s,f,p)}return s}return s0=n,s0}var o0,MP;function Yx(){if(MP)return o0;MP=1;function t(e){return e}return o0=t,o0}var a0,FP;function Gse(){if(FP)return a0;FP=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return a0=t,a0}var l0,jP;function Qse(){if(jP)return l0;jP=1;var t=Gse(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(r,this,f)}}return l0=n,l0}var u0,VP;function Yse(){if(VP)return u0;VP=1;function t(e){return function(){return e}}return u0=t,u0}var c0,UP;function Xse(){if(UP)return c0;UP=1;var t=Yse(),e=zj(),n=Yx(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return c0=r,c0}var f0,BP;function Jse(){if(BP)return f0;BP=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return f0=r,f0}var d0,$P;function Zse(){if($P)return d0;$P=1;var t=Xse(),e=Jse(),n=e(t);return d0=n,d0}var h0,zP;function Hj(){if(zP)return h0;zP=1;var t=Yx(),e=Qse(),n=Zse();function r(i,s){return n(e(i,s,t),i+"")}return h0=r,h0}var p0,HP;function qj(){if(HP)return p0;HP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return p0=e,p0}var m0,qP;function Kc(){if(qP)return m0;qP=1;var t=kh(),e=qj();function n(r){return r!=null&&e(r.length)&&!t(r)}return m0=n,m0}var g0,WP;function Wj(){if(WP)return g0;WP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return g0=n,g0}var y0,KP;function eoe(){if(KP)return y0;KP=1;var t=qy(),e=Kc(),n=Wj(),r=wo();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return y0=i,y0}var v0,GP;function Kj(){if(GP)return v0;GP=1;var t=Hj(),e=eoe();function n(r){return t(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&e(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var f=s[o];f&&r(i,f,o,l)}return i})}return v0=n,v0}var _0,QP;function Wy(){if(QP)return _0;QP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _0=e,_0}var w0,YP;function toe(){if(YP)return w0;YP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return w0=t,w0}var E0,XP;function Cs(){if(XP)return E0;XP=1;function t(e){return e!=null&&typeof e=="object"}return E0=t,E0}var b0,JP;function noe(){if(JP)return b0;JP=1;var t=$l(),e=Cs(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return b0=r,b0}var T0,ZP;function Xx(){if(ZP)return T0;ZP=1;var t=noe(),e=Cs(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return T0=s,T0}var S0,ek;function Oa(){if(ek)return S0;ek=1;var t=Array.isArray;return S0=t,S0}var jf={exports:{}},x0,tk;function roe(){if(tk)return x0;tk=1;function t(){return!1}return x0=t,x0}jf.exports;var nk;function Jx(){return nk||(nk=1,function(t,e){var n=Is(),r=roe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(jf,jf.exports)),jf.exports}var R0,rk;function ioe(){if(rk)return R0;rk=1;var t=$l(),e=qj(),n=Cs(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",E="[object String]",S="[object WeakMap]",C="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",v="[object Float64Array]",I="[object Int8Array]",k="[object Int16Array]",B="[object Int32Array]",D="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",L="[object Uint32Array]",M={};M[w]=M[v]=M[I]=M[k]=M[B]=M[D]=M[T]=M[N]=M[L]=!0,M[r]=M[i]=M[C]=M[s]=M[x]=M[o]=M[a]=M[l]=M[u]=M[f]=M[p]=M[y]=M[_]=M[E]=M[S]=!1;function U(F){return n(F)&&e(F.length)&&!!M[t(F)]}return R0=U,R0}var I0,ik;function Ky(){if(ik)return I0;ik=1;function t(e){return function(n){return e(n)}}return I0=t,I0}var Vf={exports:{}};Vf.exports;var sk;function Zx(){return sk||(sk=1,function(t,e){var n=Bj(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(Vf,Vf.exports)),Vf.exports}var C0,ok;function Gj(){if(ok)return C0;ok=1;var t=ioe(),e=Ky(),n=Zx(),r=n&&n.isTypedArray,i=r?e(r):t;return C0=i,C0}var A0,ak;function Qj(){if(ak)return A0;ak=1;var t=toe(),e=Xx(),n=Oa(),r=Jx(),i=Wj(),s=Gj(),o=Object.prototype,a=o.hasOwnProperty;function l(u,f){var p=n(u),y=!p&&e(u),_=!p&&!y&&r(u),E=!p&&!y&&!_&&s(u),S=p||y||_||E,C=S?t(u.length,String):[],x=C.length;for(var w in u)(f||a.call(u,w))&&!(S&&(w=="length"||_&&(w=="offset"||w=="parent")||E&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,x)))&&C.push(w);return C}return A0=l,A0}var P0,lk;function Yj(){if(lk)return P0;lk=1;function t(e,n){return function(r){return e(n(r))}}return P0=t,P0}var k0,uk;function soe(){if(uk)return k0;uk=1;var t=Yj(),e=t(Object.keys,Object);return k0=e,k0}var O0,ck;function ooe(){if(ck)return O0;ck=1;var t=Wy(),e=soe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return O0=i,O0}var N0,fk;function Gc(){if(fk)return N0;fk=1;var t=Qj(),e=ooe(),n=Kc();function r(i){return n(i)?t(i):e(i)}return N0=r,N0}var D0,dk;function aoe(){if(dk)return D0;dk=1;var t=Qx(),e=Wc(),n=Kj(),r=Kc(),i=Wy(),s=Gc(),o=Object.prototype,a=o.hasOwnProperty,l=n(function(u,f){if(i(f)||r(f)){e(f,s(f),u);return}for(var p in f)a.call(f,p)&&t(u,p,f[p])});return D0=l,D0}var L0,hk;function loe(){if(hk)return L0;hk=1;function t(){this.__data__=[],this.size=0}return L0=t,L0}var M0,pk;function Gy(){if(pk)return M0;pk=1;var t=qy();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return M0=e,M0}var F0,mk;function uoe(){if(mk)return F0;mk=1;var t=Gy(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return F0=r,F0}var j0,gk;function coe(){if(gk)return j0;gk=1;var t=Gy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return j0=e,j0}var V0,yk;function foe(){if(yk)return V0;yk=1;var t=Gy();function e(n){return t(this.__data__,n)>-1}return V0=e,V0}var U0,vk;function doe(){if(vk)return U0;vk=1;var t=Gy();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return U0=e,U0}var B0,_k;function Qy(){if(_k)return B0;_k=1;var t=loe(),e=uoe(),n=coe(),r=foe(),i=doe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,B0=s,B0}var $0,wk;function hoe(){if(wk)return $0;wk=1;var t=Qy();function e(){this.__data__=new t,this.size=0}return $0=e,$0}var z0,Ek;function poe(){if(Ek)return z0;Ek=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return z0=t,z0}var H0,bk;function moe(){if(bk)return H0;bk=1;function t(e){return this.__data__.get(e)}return H0=t,H0}var q0,Tk;function goe(){if(Tk)return q0;Tk=1;function t(e){return this.__data__.has(e)}return q0=t,q0}var W0,Sk;function eR(){if(Sk)return W0;Sk=1;var t=zl(),e=Is(),n=t(e,"Map");return W0=n,W0}var K0,xk;function Yy(){if(xk)return K0;xk=1;var t=zl(),e=t(Object,"create");return K0=e,K0}var G0,Rk;function yoe(){if(Rk)return G0;Rk=1;var t=Yy();function e(){this.__data__=t?t(null):{},this.size=0}return G0=e,G0}var Q0,Ik;function voe(){if(Ik)return Q0;Ik=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Q0=t,Q0}var Y0,Ck;function _oe(){if(Ck)return Y0;Ck=1;var t=Yy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return Y0=i,Y0}var X0,Ak;function woe(){if(Ak)return X0;Ak=1;var t=Yy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return X0=r,X0}var J0,Pk;function Eoe(){if(Pk)return J0;Pk=1;var t=Yy(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return J0=n,J0}var Z0,kk;function boe(){if(kk)return Z0;kk=1;var t=yoe(),e=voe(),n=_oe(),r=woe(),i=Eoe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Z0=s,Z0}var ew,Ok;function Toe(){if(Ok)return ew;Ok=1;var t=boe(),e=Qy(),n=eR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ew=r,ew}var tw,Nk;function Soe(){if(Nk)return tw;Nk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return tw=t,tw}var nw,Dk;function Xy(){if(Dk)return nw;Dk=1;var t=Soe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return nw=e,nw}var rw,Lk;function xoe(){if(Lk)return rw;Lk=1;var t=Xy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return rw=e,rw}var iw,Mk;function Roe(){if(Mk)return iw;Mk=1;var t=Xy();function e(n){return t(this,n).get(n)}return iw=e,iw}var sw,Fk;function Ioe(){if(Fk)return sw;Fk=1;var t=Xy();function e(n){return t(this,n).has(n)}return sw=e,sw}var ow,jk;function Coe(){if(jk)return ow;jk=1;var t=Xy();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return ow=e,ow}var aw,Vk;function Xj(){if(Vk)return aw;Vk=1;var t=Toe(),e=xoe(),n=Roe(),r=Ioe(),i=Coe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,aw=s,aw}var lw,Uk;function Aoe(){if(Uk)return lw;Uk=1;var t=Qy(),e=eR(),n=Xj(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return lw=i,lw}var uw,Bk;function Jj(){if(Bk)return uw;Bk=1;var t=Qy(),e=hoe(),n=poe(),r=moe(),i=goe(),s=Aoe();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,uw=o,uw}var cw,$k;function Poe(){if($k)return cw;$k=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return cw=t,cw}var fw,zk;function koe(){if(zk)return fw;zk=1;var t=Wc(),e=Gc();function n(r,i){return r&&t(i,e(i),r)}return fw=n,fw}var dw,Hk;function Ooe(){if(Hk)return dw;Hk=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return dw=t,dw}var hw,qk;function Noe(){if(qk)return hw;qk=1;var t=wo(),e=Wy(),n=Ooe(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!t(o))return n(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return hw=s,hw}var pw,Wk;function Oh(){if(Wk)return pw;Wk=1;var t=Qj(),e=Noe(),n=Kc();function r(i){return n(i)?t(i,!0):e(i)}return pw=r,pw}var mw,Kk;function Doe(){if(Kk)return mw;Kk=1;var t=Wc(),e=Oh();function n(r,i){return r&&t(i,e(i),r)}return mw=n,mw}var Uf={exports:{}};Uf.exports;var Gk;function Zj(){return Gk||(Gk=1,function(t,e){var n=Is(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var p=u.length,y=a?a(p):new u.constructor(p);return u.copy(y),y}t.exports=l}(Uf,Uf.exports)),Uf.exports}var gw,Qk;function e5(){if(Qk)return gw;Qk=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return gw=t,gw}var yw,Yk;function t5(){if(Yk)return yw;Yk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return yw=t,yw}var vw,Xk;function n5(){if(Xk)return vw;Xk=1;function t(){return[]}return vw=t,vw}var _w,Jk;function tR(){if(Jk)return _w;Jk=1;var t=t5(),e=n5(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return _w=s,_w}var ww,Zk;function Loe(){if(Zk)return ww;Zk=1;var t=Wc(),e=tR();function n(r,i){return t(r,e(r),i)}return ww=n,ww}var Ew,eO;function nR(){if(eO)return Ew;eO=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Ew=t,Ew}var bw,tO;function rR(){if(tO)return bw;tO=1;var t=Yj(),e=t(Object.getPrototypeOf,Object);return bw=e,bw}var Tw,nO;function r5(){if(nO)return Tw;nO=1;var t=nR(),e=rR(),n=tR(),r=n5(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)t(a,n(o)),o=e(o);return a}:r;return Tw=s,Tw}var Sw,rO;function Moe(){if(rO)return Sw;rO=1;var t=Wc(),e=r5();function n(r,i){return t(r,e(r),i)}return Sw=n,Sw}var xw,iO;function i5(){if(iO)return xw;iO=1;var t=nR(),e=Oa();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return xw=n,xw}var Rw,sO;function Foe(){if(sO)return Rw;sO=1;var t=i5(),e=tR(),n=Gc();function r(i){return t(i,n,e)}return Rw=r,Rw}var Iw,oO;function joe(){if(oO)return Iw;oO=1;var t=i5(),e=r5(),n=Oh();function r(i){return t(i,n,e)}return Iw=r,Iw}var Cw,aO;function Voe(){if(aO)return Cw;aO=1;var t=zl(),e=Is(),n=t(e,"DataView");return Cw=n,Cw}var Aw,lO;function Uoe(){if(lO)return Aw;lO=1;var t=zl(),e=Is(),n=t(e,"Promise");return Aw=n,Aw}var Pw,uO;function Boe(){if(uO)return Pw;uO=1;var t=zl(),e=Is(),n=t(e,"Set");return Pw=n,Pw}var kw,cO;function $oe(){if(cO)return kw;cO=1;var t=zl(),e=Is(),n=t(e,"WeakMap");return kw=n,kw}var Ow,fO;function iR(){if(fO)return Ow;fO=1;var t=Voe(),e=eR(),n=Uoe(),r=Boe(),i=$oe(),s=$l(),o=$j(),a="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",y="[object DataView]",_=o(t),E=o(e),S=o(n),C=o(r),x=o(i),w=s;return(t&&w(new t(new ArrayBuffer(1)))!=y||e&&w(new e)!=a||n&&w(n.resolve())!=u||r&&w(new r)!=f||i&&w(new i)!=p)&&(w=function(v){var I=s(v),k=I==l?v.constructor:void 0,B=k?o(k):"";if(B)switch(B){case _:return y;case E:return a;case S:return u;case C:return f;case x:return p}return I}),Ow=w,Ow}var Nw,dO;function zoe(){if(dO)return Nw;dO=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Nw=n,Nw}var Dw,hO;function Hoe(){if(hO)return Dw;hO=1;var t=Is(),e=t.Uint8Array;return Dw=e,Dw}var Lw,pO;function sR(){if(pO)return Lw;pO=1;var t=Hoe();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Lw=e,Lw}var Mw,mO;function qoe(){if(mO)return Mw;mO=1;var t=sR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Mw=e,Mw}var Fw,gO;function Woe(){if(gO)return Fw;gO=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Fw=e,Fw}var jw,yO;function Koe(){if(yO)return jw;yO=1;var t=Ph(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return jw=r,jw}var Vw,vO;function s5(){if(vO)return Vw;vO=1;var t=sR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Vw=e,Vw}var Uw,_O;function Goe(){if(_O)return Uw;_O=1;var t=sR(),e=qoe(),n=Woe(),r=Koe(),i=s5(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",f="[object Set]",p="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",v="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",B="[object Uint16Array]",D="[object Uint32Array]";function T(N,L,M){var U=N.constructor;switch(L){case _:return t(N);case s:case o:return new U(+N);case E:return e(N,M);case S:case C:case x:case w:case v:case I:case k:case B:case D:return i(N,M);case a:return new U;case l:case p:return new U(N);case u:return n(N);case f:return new U;case y:return r(N)}}return Uw=T,Uw}var Bw,wO;function Qoe(){if(wO)return Bw;wO=1;var t=wo(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return Bw=n,Bw}var $w,EO;function o5(){if(EO)return $w;EO=1;var t=Qoe(),e=rR(),n=Wy();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return $w=r,$w}var zw,bO;function Yoe(){if(bO)return zw;bO=1;var t=iR(),e=Cs(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return zw=r,zw}var Hw,TO;function Xoe(){if(TO)return Hw;TO=1;var t=Yoe(),e=Ky(),n=Zx(),r=n&&n.isMap,i=r?e(r):t;return Hw=i,Hw}var qw,SO;function Joe(){if(SO)return qw;SO=1;var t=iR(),e=Cs(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return qw=r,qw}var Ww,xO;function Zoe(){if(xO)return Ww;xO=1;var t=Joe(),e=Ky(),n=Zx(),r=n&&n.isSet,i=r?e(r):t;return Ww=i,Ww}var Kw,RO;function eae(){if(RO)return Kw;RO=1;var t=Jj(),e=Poe(),n=Qx(),r=koe(),i=Doe(),s=Zj(),o=e5(),a=Loe(),l=Moe(),u=Foe(),f=joe(),p=iR(),y=zoe(),_=Goe(),E=o5(),S=Oa(),C=Jx(),x=Xoe(),w=wo(),v=Zoe(),I=Gc(),k=Oh(),B=1,D=2,T=4,N="[object Arguments]",L="[object Array]",M="[object Boolean]",U="[object Date]",F="[object Error]",ie="[object Function]",de="[object GeneratorFunction]",ue="[object Map]",Y="[object Number]",Q="[object Object]",ee="[object RegExp]",me="[object Set]",ne="[object String]",$="[object Symbol]",K="[object WeakMap]",Z="[object ArrayBuffer]",Ae="[object DataView]",Ce="[object Float32Array]",W="[object Float64Array]",ce="[object Int8Array]",xe="[object Int16Array]",Ee="[object Int32Array]",Se="[object Uint8Array]",Ge="[object Uint8ClampedArray]",Et="[object Uint16Array]",He="[object Uint32Array]",We={};We[N]=We[L]=We[Z]=We[Ae]=We[M]=We[U]=We[Ce]=We[W]=We[ce]=We[xe]=We[Ee]=We[ue]=We[Y]=We[Q]=We[ee]=We[me]=We[ne]=We[$]=We[Se]=We[Ge]=We[Et]=We[He]=!0,We[F]=We[ie]=We[K]=!1;function Gt(st,z,J,le,ge,_e){var fe,ke=z&B,Be=z&D,Qe=z&T;if(J&&(fe=ge?J(st,le,ge,_e):J(st)),fe!==void 0)return fe;if(!w(st))return st;var qe=S(st);if(qe){if(fe=y(st),!ke)return o(st,fe)}else{var Wt=p(st),Kn=Wt==ie||Wt==de;if(C(st))return s(st,ke);if(Wt==Q||Wt==N||Kn&&!ge){if(fe=Be||Kn?{}:E(st),!ke)return Be?l(st,i(fe,st)):a(st,r(fe,st))}else{if(!We[Wt])return ge?st:{};fe=_(st,Wt,ke)}}_e||(_e=new t);var dn=_e.get(st);if(dn)return dn;_e.set(st,fe),v(st)?st.forEach(function(nn){fe.add(Gt(nn,z,J,nn,st,_e))}):x(st)&&st.forEach(function(nn,En){fe.set(En,Gt(nn,z,J,En,st,_e))});var nt=Qe?Be?f:u:Be?k:I,fr=qe?void 0:nt(st);return e(fr||st,function(nn,En){fr&&(En=nn,nn=st[En]),n(fe,En,Gt(nn,z,J,En,st,_e))}),fe}return Kw=Gt,Kw}var Gw,IO;function tae(){if(IO)return Gw;IO=1;var t=eae(),e=1,n=4;function r(i){return t(i,e|n)}return Gw=r,Gw}var Qw,CO;function nae(){if(CO)return Qw;CO=1;function t(e){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];o&&(s[i++]=o)}return s}return Qw=t,Qw}var Yw,AO;function rae(){if(AO)return Yw;AO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Yw=e,Yw}var Xw,PO;function iae(){if(PO)return Xw;PO=1;function t(e){return this.__data__.has(e)}return Xw=t,Xw}var Jw,kO;function sae(){if(kO)return Jw;kO=1;var t=Xj(),e=rae(),n=iae();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Jw=r,Jw}var Zw,OO;function oae(){if(OO)return Zw;OO=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return Zw=t,Zw}var e1,NO;function aae(){if(NO)return e1;NO=1;function t(e){return e!==e}return e1=t,e1}var t1,DO;function lae(){if(DO)return t1;DO=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return t1=t,t1}var n1,LO;function Jy(){if(LO)return n1;LO=1;var t=oae(),e=aae(),n=lae();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return n1=r,n1}var r1,MO;function uae(){if(MO)return r1;MO=1;var t=Jy();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return r1=e,r1}var i1,FO;function cae(){if(FO)return i1;FO=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return i1=t,i1}var s1,jO;function oR(){if(jO)return s1;jO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return s1=t,s1}var o1,VO;function fae(){if(VO)return o1;VO=1;function t(e,n){return e.has(n)}return o1=t,o1}var a1,UO;function dae(){if(UO)return a1;UO=1;var t=sae(),e=uae(),n=cae(),r=oR(),i=Ky(),s=fae(),o=200;function a(l,u,f,p){var y=-1,_=e,E=!0,S=l.length,C=[],x=u.length;if(!S)return C;f&&(u=r(u,i(f))),p?(_=n,E=!1):u.length>=o&&(_=s,E=!1,u=new t(u));e:for(;++y<S;){var w=l[y],v=f==null?w:f(w);if(w=p||w!==0?w:0,E&&v===v){for(var I=x;I--;)if(u[I]===v)continue e;C.push(w)}else _(u,v,p)||C.push(w)}return C}return a1=a,a1}var l1,BO;function hae(){if(BO)return l1;BO=1;var t=Ph(),e=Xx(),n=Oa(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return l1=i,l1}var u1,$O;function pae(){if($O)return u1;$O=1;var t=nR(),e=hae();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var f=r[l];i>0&&s(f)?i>1?n(f,i-1,s,o,a):t(a,f):o||(a[a.length]=f)}return a}return u1=n,u1}var c1,zO;function a5(){if(zO)return c1;zO=1;var t=Kc(),e=Cs();function n(r){return e(r)&&t(r)}return c1=n,c1}var f1,HO;function mae(){if(HO)return f1;HO=1;var t=dae(),e=pae(),n=Hj(),r=a5(),i=n(function(s,o){return r(s)?t(s,e(o,1,r,!0)):[]});return f1=i,f1}var d1,qO;function gae(){if(qO)return d1;qO=1;var t=t5(),e=kh();function n(r,i){return t(i,function(s){return e(r[s])})}return d1=n,d1}var h1,WO;function yae(){if(WO)return h1;WO=1;var t=gae(),e=Gc();function n(r){return r==null?[]:t(r,e(r))}return h1=n,h1}var p1,KO;function l5(){if(KO)return p1;KO=1;var t=$l(),e=Oa(),n=Cs(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return p1=i,p1}var m1,GO;function vae(){if(GO)return m1;GO=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return m1=e,m1}var g1,QO;function u5(){if(QO)return g1;QO=1;var t=vae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return g1=n,g1}var y1,YO;function c5(){if(YO)return y1;YO=1;var t=$l(),e=Cs(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return y1=r,y1}var v1,XO;function _ae(){if(XO)return v1;XO=1;var t=u5(),e=wo(),n=c5(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=s.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):i.test(u)?r:+u}return v1=l,v1}var _1,JO;function wae(){if(JO)return _1;JO=1;var t=_ae(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return _1=r,_1}var w1,ZO;function Eae(){if(ZO)return w1;ZO=1;var t=wae();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return w1=e,w1}var E1,eN;function bae(){if(eN)return E1;eN=1;var t=oR();function e(n,r){return t(r,function(i){return n[i]})}return E1=e,E1}var b1,tN;function Tae(){if(tN)return b1;tN=1;var t=bae(),e=Gc();function n(r){return r==null?[]:t(r,e(r))}return b1=n,b1}var T1,nN;function Sae(){if(nN)return T1;nN=1;var t=Jy(),e=Kc(),n=l5(),r=Eae(),i=Tae(),s=Math.max;function o(a,l,u,f){a=e(a)?a:i(a),u=u&&!f?r(u):0;var p=a.length;return u<0&&(u=s(p+u,0)),n(a)?u<=p&&a.indexOf(l,u)>-1:!!p&&t(a,l,u)>-1}return T1=o,T1}var S1,rN;function aR(){if(rN)return S1;rN=1;var t=$l(),e=rR(),n=Cs(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var p=e(f);if(p===null)return!0;var y=a.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==l}return S1=u,S1}var x1,iN;function xae(){if(iN)return x1;iN=1;var t=Cs(),e=aR();function n(r){return t(r)&&r.nodeType===1&&!e(r)}return x1=n,x1}var R1,sN;function f5(){if(sN)return R1;sN=1;var t=Gx(),e=qy();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return R1=n,R1}var I1,oN;function Rae(){if(oN)return I1;oN=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return n}}return I1=t,I1}var C1,aN;function Iae(){if(aN)return C1;aN=1;var t=Rae(),e=t();return C1=e,C1}var A1,lN;function d5(){if(lN)return A1;lN=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return A1=t,A1}var P1,uN;function Cae(){if(uN)return P1;uN=1;var t=Wc(),e=Oh();function n(r){return t(r,e(r))}return P1=n,P1}var k1,cN;function Aae(){if(cN)return k1;cN=1;var t=f5(),e=Zj(),n=s5(),r=e5(),i=o5(),s=Xx(),o=Oa(),a=a5(),l=Jx(),u=kh(),f=wo(),p=aR(),y=Gj(),_=d5(),E=Cae();function S(C,x,w,v,I,k,B){var D=_(C,w),T=_(x,w),N=B.get(T);if(N){t(C,w,N);return}var L=k?k(D,T,w+"",C,x,B):void 0,M=L===void 0;if(M){var U=o(T),F=!U&&l(T),ie=!U&&!F&&y(T);L=T,U||F||ie?o(D)?L=D:a(D)?L=r(D):F?(M=!1,L=e(T,!0)):ie?(M=!1,L=n(T,!0)):L=[]:p(T)||s(T)?(L=D,s(D)?L=E(D):(!f(D)||u(D))&&(L=i(T))):M=!1}M&&(B.set(T,L),I(L,T,v,k,B),B.delete(T)),t(C,w,L)}return k1=S,k1}var O1,fN;function Pae(){if(fN)return O1;fN=1;var t=Jj(),e=f5(),n=Iae(),r=Aae(),i=wo(),s=Oh(),o=d5();function a(l,u,f,p,y){l!==u&&n(u,function(_,E){if(y||(y=new t),i(_))r(l,u,E,f,a,p,y);else{var S=p?p(o(l,E),_,E+"",l,u,y):void 0;S===void 0&&(S=_),e(l,E,S)}},s)}return O1=a,O1}var N1,dN;function kae(){if(dN)return N1;dN=1;var t=Pae(),e=Kj(),n=e(function(r,i,s){t(r,i,s)});return N1=n,N1}var D1,hN;function h5(){if(hN)return D1;hN=1;var t=Ph(),e=oR(),n=Oa(),r=c5(),i=1/0,s=t?t.prototype:void 0,o=s?s.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(r(l))return o?o.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return D1=a,D1}var L1,pN;function Oae(){if(pN)return L1;pN=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return L1=t,L1}var M1,mN;function Nae(){if(mN)return M1;mN=1;var t=Oae();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return M1=e,M1}var F1,gN;function Dae(){if(gN)return F1;gN=1;var t=Jy();function e(n,r){for(var i=n.length;i--&&t(r,n[i],0)>-1;);return i}return F1=e,F1}var j1,yN;function Lae(){if(yN)return j1;yN=1;var t=Jy();function e(n,r){for(var i=-1,s=n.length;++i<s&&t(r,n[i],0)>-1;);return i}return j1=e,j1}var V1,vN;function Mae(){if(vN)return V1;vN=1;function t(e){return e.split("")}return V1=t,V1}var U1,_N;function Fae(){if(_N)return U1;_N=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(u){return a.test(u)}return U1=l,U1}var B1,wN;function jae(){if(wN)return B1;wN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=u+"?",S="["+s+"]?",C="(?:"+_+"(?:"+[f,p,y].join("|")+")"+S+E+")*",x=S+E+C,w="(?:"+[f+a+"?",a,p,y,o].join("|")+")",v=RegExp(l+"(?="+l+")|"+w+x,"g");function I(k){return k.match(v)||[]}return B1=I,B1}var $1,EN;function Vae(){if(EN)return $1;EN=1;var t=Mae(),e=Fae(),n=jae();function r(i){return e(i)?n(i):t(i)}return $1=r,$1}var z1,bN;function Uae(){if(bN)return z1;bN=1;var t=h5();function e(n){return n==null?"":t(n)}return z1=e,z1}var H1,TN;function Bae(){if(TN)return H1;TN=1;var t=h5(),e=u5(),n=Nae(),r=Dae(),i=Lae(),s=Vae(),o=Uae();function a(l,u,f){if(l=o(l),l&&(f||u===void 0))return e(l);if(!l||!(u=t(u)))return l;var p=s(l),y=s(u),_=i(p,y),E=r(p,y)+1;return n(p,_,E).join("")}return H1=a,H1}(function(t,e){var n={};(function(i,s){t.exports=s(aoe(),tae(),nae(),mae(),yae(),Yx(),Sae(),Oa(),xae(),kh(),aR(),l5(),kae(),Bae())})(Fi,function(r,i,s,o,a,l,u,f,p,y,_,E,S,C){return function(x){var w={};function v(I){if(w[I])return w[I].exports;var k=w[I]={i:I,l:!1,exports:{}};return x[I].call(k.exports,k,k.exports,v),k.l=!0,k.exports}return v.m=x,v.c=w,v.d=function(I,k,B){v.o(I,k)||Object.defineProperty(I,k,{enumerable:!0,get:B})},v.r=function(I){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},v.t=function(I,k){if(k&1&&(I=v(I)),k&8||k&4&&typeof I=="object"&&I&&I.__esModule)return I;var B=Object.create(null);if(v.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:I}),k&2&&typeof I!="string")for(var D in I)v.d(B,D,(function(T){return I[T]}).bind(null,D));return B},v.n=function(I){var k=I&&I.__esModule?function(){return I.default}:function(){return I};return v.d(k,"a",k),k},v.o=function(I,k){return Object.prototype.hasOwnProperty.call(I,k)},v.p="",v(v.s="./src/namespace/cloudinary-core.js")}({"./src/namespace/cloudinary-core.js":function(x,w,v){v.r(w),v.d(w,"ClientHintsMetaTag",function(){return CR}),v.d(w,"Cloudinary",function(){return MR}),v.d(w,"Condition",function(){return Ot}),v.d(w,"Configuration",function(){return Ha}),v.d(w,"crc32",function(){return T}),v.d(w,"Expression",function(){return an}),v.d(w,"FetchLayer",function(){return Zh}),v.d(w,"HtmlTag",function(){return Co}),v.d(w,"ImageTag",function(){return ip}),v.d(w,"Layer",function(){return is}),v.d(w,"PictureTag",function(){return _v}),v.d(w,"SubtitlesLayer",function(){return ss}),v.d(w,"TextLayer",function(){return d}),v.d(w,"Transformation",function(){return Ii}),v.d(w,"utf8_encode",function(){return B}),v.d(w,"Util",function(){return k}),v.d(w,"VideoTag",function(){return Ev});var I={};v.r(I),v.d(I,"VERSION",function(){return Eo}),v.d(I,"CF_SHARED_CDN",function(){return ql}),v.d(I,"OLD_AKAMAI_SHARED_CDN",function(){return bo}),v.d(I,"AKAMAI_SHARED_CDN",function(){return Vr}),v.d(I,"SHARED_CDN",function(){return As}),v.d(I,"DEFAULT_TIMEOUT_MS",function(){return Gi}),v.d(I,"DEFAULT_POSTER_OPTIONS",function(){return Gn}),v.d(I,"DEFAULT_VIDEO_SOURCE_TYPES",function(){return Ps}),v.d(I,"SEO_TYPES",function(){return Qi}),v.d(I,"DEFAULT_IMAGE_PARAMS",function(){return ks}),v.d(I,"DEFAULT_VIDEO_PARAMS",function(){return Yi}),v.d(I,"DEFAULT_VIDEO_SOURCES",function(){return Da}),v.d(I,"DEFAULT_EXTERNAL_LIBRARIES",function(){return Qt}),v.d(I,"PLACEHOLDER_IMAGE_MODES",function(){return Ei}),v.d(I,"ACCESSIBILITY_MODES",function(){return ti}),v.d(I,"URL_KEYS",function(){return bi});var k={};v.r(k),v.d(k,"getSDKAnalyticsSignature",function(){return K}),v.d(k,"getAnalyticsOptions",function(){return Ae}),v.d(k,"assign",function(){return W.a}),v.d(k,"cloneDeep",function(){return xe.a}),v.d(k,"compact",function(){return Se.a}),v.d(k,"difference",function(){return Et.a}),v.d(k,"functions",function(){return We.a}),v.d(k,"identity",function(){return st.a}),v.d(k,"includes",function(){return J.a}),v.d(k,"isArray",function(){return ge.a}),v.d(k,"isPlainObject",function(){return fe.a}),v.d(k,"isString",function(){return Be.a}),v.d(k,"merge",function(){return qe.a}),v.d(k,"contains",function(){return J.a}),v.d(k,"isIntersectionObserverSupported",function(){return Cn}),v.d(k,"isNativeLazyLoadSupported",function(){return Na}),v.d(k,"detectIntersection",function(){return Hl}),v.d(k,"omit",function(){return H}),v.d(k,"allStrings",function(){return G}),v.d(k,"without",function(){return re}),v.d(k,"isNumberLike",function(){return he}),v.d(k,"smartEscape",function(){return Re}),v.d(k,"defaults",function(){return Oe}),v.d(k,"objectProto",function(){return ze}),v.d(k,"objToString",function(){return be}),v.d(k,"isObject",function(){return je}),v.d(k,"funcTag",function(){return Le}),v.d(k,"reWords",function(){return ot}),v.d(k,"camelCase",function(){return at}),v.d(k,"snakeCase",function(){return ct}),v.d(k,"convertKeys",function(){return it}),v.d(k,"withCamelCaseKeys",function(){return Yt}),v.d(k,"withSnakeCaseKeys",function(){return kt}),v.d(k,"base64Encode",function(){return Ti}),v.d(k,"base64EncodeURL",function(){return Qn}),v.d(k,"extractUrlParams",function(){return Yn}),v.d(k,"patchFetchFormat",function(){return bn}),v.d(k,"optionConsume",function(){return Si}),v.d(k,"isEmpty",function(){return Je}),v.d(k,"isAndroid",function(){return Xi}),v.d(k,"isEdge",function(){return xi}),v.d(k,"isChrome",function(){return Ye}),v.d(k,"isSafari",function(){return Rt}),v.d(k,"isElement",function(){return Kn.a}),v.d(k,"isFunction",function(){return nt.a}),v.d(k,"trim",function(){return nn.a}),v.d(k,"getData",function(){return mt}),v.d(k,"setData",function(){return Xn}),v.d(k,"getAttribute",function(){return Wl}),v.d(k,"setAttribute",function(){return Ji}),v.d(k,"removeAttribute",function(){return La}),v.d(k,"setAttributes",function(){return Zy}),v.d(k,"hasClass",function(){return Zi}),v.d(k,"addClass",function(){return ri}),v.d(k,"getStyles",function(){return So}),v.d(k,"cssExpand",function(){return Kl}),v.d(k,"domStyle",function(){return Qc}),v.d(k,"curCSS",function(){return It}),v.d(k,"cssValue",function(){return ii}),v.d(k,"augmentWidthOrHeight",function(){return xo}),v.d(k,"getWidthOrHeight",function(){return Yc}),v.d(k,"width",function(){return Dh});var B=function(c){var m,g,P,j,q,oe,te,we;if(c===null||typeof c>"u")return"";for(oe=c+"",we="",q=void 0,P=void 0,te=0,q=P=0,te=oe.length,j=0;j<te;)m=oe.charCodeAt(j),g=null,m<128?P++:m>127&&m<2048?g=String.fromCharCode(m>>6|192,m&63|128):g=String.fromCharCode(m>>12|224,m>>6&63|128,m&63|128),g!==null&&(P>q&&(we+=oe.slice(q,P)),we+=g,q=P=j+1),j++;return P>q&&(we+=oe.slice(q,te)),we};function D(h){var c,m,g,P,j,q;for(h=B(h),P="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",c=0,j=0,q=0,c=c^-1,m=0,g=h.length;m<g;)q=(c^h.charCodeAt(m))&255,j="0x"+P.substr(q*9,8),c=c>>>8^j,m++;return c=c^-1,c<0&&(c+=4294967296),c}var T=D;function N(h,c,m){return c=c>>0,m=String(typeof m<"u"?m:" "),h.length>c?String(h):(c=c-h.length,c>m.length&&(m+=L(m,c/m.length)),m.slice(0,c)+String(h))}function L(h,c){for(var m="";c>0;)m+=h,c--;return m}function M(h){return de(h)||ie(h)||F(h)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(h,c){return ue(h,c)}function ie(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function de(h){if(Array.isArray(h))return ue(h)}function ue(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=0,ee={};M(Y).forEach(function(h){var c=Q.toString(2);c=N(c,6,"0"),ee[c]=h,Q++});var me=ee;function ne(h){if(h.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return h.split(".").reverse().map(function(c){return N(c,2,"0")}).join(".")}function $(h){var c="",m=h.split(".").length,g=m*6,P=ne(h),j=parseInt(P.split(".").join("")),q=j.toString(2);if(q=N(q,g,"0"),q.length%6!==0)throw"Version must be smaller than 43.21.26)";return q.match(/.{1,6}/g).forEach(function(oe){c+=me[oe]}),c}function K(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var c=Z(h.techVersion),m=$(h.sdkSemver),g=$(c),P=h.feature,j=h.sdkCode,q="A";return"".concat(q).concat(j).concat(m).concat(g).concat(P)}catch{return"E"}}function Z(h){var c=h.split(".");return"".concat(c[0],".").concat(c[1])}function Ae(h){var c={sdkSemver:h.sdkSemver,techVersion:h.techVersion,sdkCode:h.sdkCode,feature:"0"};return h.urlAnalytics?(h.accessibility&&(c.feature="D"),h.loading==="lazy"&&(c.feature="C"),h.responsive&&(c.feature="A"),h.placeholder&&(c.feature="B"),c):{}}var Ce=v("lodash/assign"),W=v.n(Ce),ce=v("lodash/cloneDeep"),xe=v.n(ce),Ee=v("lodash/compact"),Se=v.n(Ee),Ge=v("lodash/difference"),Et=v.n(Ge),He=v("lodash/functions"),We=v.n(He),Gt=v("lodash/identity"),st=v.n(Gt),z=v("lodash/includes"),J=v.n(z),le=v("lodash/isArray"),ge=v.n(le),_e=v("lodash/isPlainObject"),fe=v.n(_e),ke=v("lodash/isString"),Be=v.n(ke),Qe=v("lodash/merge"),qe=v.n(Qe),Wt=v("lodash/isElement"),Kn=v.n(Wt),dn=v("lodash/isFunction"),nt=v.n(dn),fr=v("lodash/trim"),nn=v.n(fr);function En(h){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},En(h)}function Cn(){return(typeof window>"u"?"undefined":En(window))==="object"&&window.IntersectionObserver}function Na(){return(typeof HTMLImageElement>"u"?"undefined":En(HTMLImageElement))==="object"&&HTMLImageElement.prototype.loading}function Hl(h,c){try{if(Na()||!Cn()){c();return}var m=new IntersectionObserver(function(g){g.forEach(function(P){P.isIntersecting&&(c(),m.unobserve(P.target))})},{threshold:[0,.01]});m.observe(h)}catch{c()}}var Eo="2.5.0",ql="d3jpl91pxevbkh.cloudfront.net",bo="cloudinary-a.akamaihd.net",Vr="res.cloudinary.com",As=Vr,Gi=1e4,Gn={format:"jpg",resource_type:"video"},Ps=["webm","mp4","ogv"],Qi={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},ks={resource_type:"image",transformation:[],type:"upload"},Yi={fallback_content:"",resource_type:"video",source_transformation:{},source_types:Ps,transformation:[],type:"upload"},Da=[{type:"mp4",codecs:"hev1",transformations:{video_codec:"h265"}},{type:"webm",codecs:"vp9",transformations:{video_codec:"vp9"}},{type:"mp4",transformations:{video_codec:"auto"}},{type:"webm",transformations:{video_codec:"auto"}}],Qt={seeThru:"https://unpkg.com/seethru@4/dist/seeThru.min.js"},Ei={blur:[{effect:"blur:2000",quality:1,fetch_format:"auto"}],pixelate:[{effect:"pixelate",quality:1,fetch_format:"auto"}],"predominant-color-pixel":[{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:1,height:1,gravity:"north_east"},{fetch_format:"auto",quality:"auto"}],"predominant-color":[{variables:[["$currWidth","w"],["$currHeight","h"]]},{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:10,height:10,gravity:"north_east"},{width:"$currWidth",height:"$currHeight",crop:"fill"},{fetch_format:"auto",quality:"auto"}],vectorize:[{effect:"vectorize:3:0.1",fetch_format:"svg"}]},ti={darkmode:"tint:75:black",brightmode:"tint:50:white",monochrome:"grayscale",colorblind:"assist_colorblind"},bi=["accessibility","api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","placeholder","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","signature","ssl_detected","type","url_suffix","use_root_path","version"];function To(h){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},To(h)}function H(h,c){h=h||{};var m=Object.keys(h).filter(function(P){return!J()(c,P)}),g={};return m.forEach(function(P){return g[P]=h[P]}),g}var G=function(c){return c.length&&c.every(Be.a)},re=function(c,m){return c.filter(function(g){return g!==m})},he=function(c){return c!=null&&!isNaN(parseFloat(c))},Re=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/([^a-zA-Z0-9_.\-\/:]+)/g;return c.replace(m,function(g){return g.split("").map(function(P){return"%"+P.charCodeAt(0).toString(16).toUpperCase()}).join("")})},Oe=function(c){for(var m=arguments.length,g=new Array(m>1?m-1:0),P=1;P<m;P++)g[P-1]=arguments[P];return g.reduce(function(j,q){var oe,te;for(oe in q)te=q[oe],j[oe]===void 0&&(j[oe]=te);return j},c)},ze=Object.prototype,be=ze.toString,je=function(c){var m;return m=To(c),!!c&&(m==="object"||m==="function")},Le="[object Function]",Me=function(c){return je(c)&&be.call(c)===Le},ot=function(){var h,c;return c="[A-Z]",h="[a-z]+",RegExp(c+"+(?="+c+h+")|"+c+"?"+h+"|"+c+"+|[0-9]+","g")}(),at=function(c){var m=c.match(ot);return m=m.map(function(g){return g.charAt(0).toLocaleUpperCase()+g.slice(1).toLocaleLowerCase()}),m[0]=m[0].toLocaleLowerCase(),m.join("")},ct=function(c){var m=c.match(ot);return m=m.map(function(g){return g.toLocaleLowerCase()}),m.join("_")},it=function(c,m){var g,P;g={};for(var j in c)P=c[j],m&&(j=m(j)),Je(j)||(g[j]=P);return g},Yt=function(c){return it(c,at)},kt=function(c){return it(c,ct)},Ti=typeof btoa<"u"&&Me(btoa)?btoa:typeof Buffer<"u"&&Me(Buffer)?function(h){return h instanceof Buffer||(h=new Buffer.from(String(h),"binary")),h.toString("base64")}:function(h){throw new Error("No base64 encoding function found")},Qn=function(c){try{c=decodeURI(c)}finally{c=encodeURI(c)}return Ti(c)};function Yn(h){return bi.reduce(function(c,m){return h[m]!=null&&(c[m]=h[m]),c},{})}function bn(h){h==null&&(h={}),h.type==="fetch"&&h.fetch_format==null&&(h.fetch_format=Si(h,"format"))}function Si(h,c,m){var g=h[c];return delete h[c],g??m}function Je(h){if(h==null)return!0;if(typeof h.length=="number")return h.length===0;if(typeof h.size=="number")return h.size===0;if(To(h)=="object"){for(var c in h)if(h.hasOwnProperty(c))return!1;return!0}return!0}function ni(){return navigator&&navigator.userAgent||""}function Xi(){var h=ni();return/Android/i.test(h)}function xi(){var h=ni();return/Edg/i.test(h)}function Ye(){var h=ni();return!xi()&&(/Chrome/i.test(h)||/CriOS/i.test(h))}function Rt(){var h=ni();return/Safari/i.test(h)&&!Ye()&&!Xi()&&!xi()}var Tn,mt=function(c,m){switch(!1){case c!=null:return;case!nt()(c.getAttribute):return c.getAttribute("data-".concat(m));case!nt()(c.getAttr):return c.getAttr("data-".concat(m));case!nt()(c.data):return c.data(m);case!(nt()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&Kn()(c)):return jQuery(c).data(m)}},Xn=function(c,m,g){switch(!1){case c!=null:return;case!nt()(c.setAttribute):return c.setAttribute("data-".concat(m),g);case!nt()(c.setAttr):return c.setAttr("data-".concat(m),g);case!nt()(c.data):return c.data(m,g);case!(nt()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&Kn()(c)):return jQuery(c).data(m,g)}},Wl=function(c,m){switch(!1){case c!=null:return;case!nt()(c.getAttribute):return c.getAttribute(m);case!nt()(c.attr):return c.attr(m);case!nt()(c.getAttr):return c.getAttr(m)}},Ji=function(c,m,g){switch(!1){case c!=null:return;case!nt()(c.setAttribute):return c.setAttribute(m,g);case!nt()(c.attr):return c.attr(m,g);case!nt()(c.setAttr):return c.setAttr(m,g)}},La=function(c,m){switch(!1){case c!=null:return;case!nt()(c.removeAttribute):return c.removeAttribute(m);default:return Ji(c,void 0)}},Zy=function(c,m){var g,P,j;P=[];for(g in m)j=m[g],j!=null?P.push(Ji(c,g,j)):P.push(La(c,g));return P},Zi=function(c,m){if(Kn()(c))return c.className.match(new RegExp("\\b".concat(m,"\\b")))},ri=function(c,m){if(!c.className.match(new RegExp("\\b".concat(m,"\\b"))))return c.className=nn()("".concat(c.className," ").concat(m))},So=function(c){return c.ownerDocument.defaultView.opener?c.ownerDocument.defaultView.getComputedStyle(c,null):window.getComputedStyle(c,null)},Kl=["Top","Right","Bottom","Left"];Tn=function(c,m){var g,P;return g=c.nodeType===9?c.documentElement:c,P=m&&m.parentNode,c===P||!!(P&&P.nodeType===1&&g.contains(P))};var Qc=function(c,m){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style))return c.style[m]},It=function(c,m,g){var P,j,q,oe,te,we;return oe=/^margin/,we=void 0,j=void 0,P=void 0,q=void 0,te=c.style,g=g||So(c),g&&(q=g.getPropertyValue(m)||g[m]),g&&(q===""&&!Tn(c.ownerDocument,c)&&(q=Qc(c,m)),Nh.test(q)&&oe.test(m)&&(we=te.width,j=te.minWidth,P=te.maxWidth,te.minWidth=te.maxWidth=te.width=q,q=g.width,te.width=we,te.minWidth=j,te.maxWidth=P)),q!==void 0?q+"":q},ii=function(c,m,g,P){var j;return j=It(c,m,P),g?parseFloat(j):j},xo=function(c,m,g,P,j){var q,oe,te,we,Ue;if(g===(P?"border":"content"))return 0;for(we=m==="width"?["Right","Left"]:["Top","Bottom"],Ue=0,q=0,oe=we.length;q<oe;q++)te=we[q],g==="margin"&&(Ue+=ii(c,g+te,!0,j)),P?(g==="content"&&(Ue-=ii(c,"padding".concat(te),!0,j)),g!=="margin"&&(Ue-=ii(c,"border".concat(te,"Width"),!0,j))):(Ue+=ii(c,"padding".concat(te),!0,j),g!=="padding"&&(Ue+=ii(c,"border".concat(te,"Width"),!0,j)));return Ue},Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nh=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),Yc=function(c,m,g){var P,j,q,oe;if(oe=!0,q=m==="width"?c.offsetWidth:c.offsetHeight,j=So(c),P=ii(c,"boxSizing",!1,j)==="border-box",q<=0||q==null){if(q=It(c,m,j),(q<0||q==null)&&(q=c.style[m]),Nh.test(q))return q;oe=P&&q===c.style[m],q=parseFloat(q)||0}return q+xo(c,m,g||(P?"border":"content"),oe,j)},Dh=function(c){return Yc(c,"width","content")};function Fa(h){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Fa(h)}function ev(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Lh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,es(g.key),g)}}function ja(h,c,m){return c&&Lh(h.prototype,c),m&&Lh(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function es(h){var c=Mh(h,"string");return Fa(c)=="symbol"?c:c+""}function Mh(h,c){if(Fa(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(Fa(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Va=function(){function h(c){ev(this,h),this.expressions=[],c!=null&&this.expressions.push(h.normalize(c))}return ja(h,[{key:"serialize",value:function(){return h.normalize(this.expressions.join("_"))}},{key:"toString",value:function(){return this.serialize()}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(m){return this.parent=m,this}},{key:"predicate",value:function(m,g,P){return h.OPERATORS[g]!=null&&(g=h.OPERATORS[g]),this.expressions.push("".concat(m,"_").concat(g,"_").concat(P)),this}},{key:"and",value:function(){return this.expressions.push("and"),this}},{key:"or",value:function(){return this.expressions.push("or"),this}},{key:"then",value:function(){return this.getParent().if(this.toString())}},{key:"height",value:function(m,g){return this.predicate("h",m,g)}},{key:"width",value:function(m,g){return this.predicate("w",m,g)}},{key:"aspectRatio",value:function(m,g){return this.predicate("ar",m,g)}},{key:"pageCount",value:function(m,g){return this.predicate("pc",m,g)}},{key:"faceCount",value:function(m,g){return this.predicate("fc",m,g)}},{key:"value",value:function(m){return this.expressions.push(m),this}}],[{key:"new",value:function(m){return new this(m)}},{key:"normalize",value:function(m){if(m==null)return m;m=String(m);var g="\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^",P="(("+g+")(?=[ _]))",j=new RegExp(P,"g");m=m.replace(j,function(we){return h.OPERATORS[we]});var q="("+Object.keys(h.PREDEFINED_VARS).map(function(we){return":".concat(we,"|").concat(we)}).join("|")+")",oe="(\\$_*[^_ ]+)",te=new RegExp("".concat(oe,"|").concat(q),"g");return m=m.replace(te,function(we){return h.PREDEFINED_VARS[we]||we}),m.replace(/[ _]+/g,"_")}},{key:"variable",value:function(m,g){return new this(m).value(g)}},{key:"width",value:function(){return new this("width")}},{key:"height",value:function(){return new this("height")}},{key:"initialWidth",value:function(){return new this("initialWidth")}},{key:"initialHeight",value:function(){return new this("initialHeight")}},{key:"aspectRatio",value:function(){return new this("aspectRatio")}},{key:"initialAspectRatio",value:function(){return new this("initialAspectRatio")}},{key:"pageCount",value:function(){return new this("pageCount")}},{key:"faceCount",value:function(){return new this("faceCount")}},{key:"currentPage",value:function(){return new this("currentPage")}},{key:"tags",value:function(){return new this("tags")}},{key:"pageX",value:function(){return new this("pageX")}},{key:"pageY",value:function(){return new this("pageY")}}])}();Va.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},Va.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_duration:"idu",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},Va.BOUNDRY="[ _]+";var an=Va;function Ur(h){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ur(h)}function tv(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function nv(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,ts(g.key),g)}}function rv(h,c,m){return c&&nv(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function ts(h){var c=iv(h,"string");return Ur(c)=="symbol"?c:c+""}function iv(h,c){if(Ur(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(Ur(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function sv(h,c,m){return c=ns(c),Ua(h,Xc()?Reflect.construct(c,m||[],ns(h).constructor):c.apply(h,m))}function Ua(h,c){if(c&&(Ur(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gl(h)}function Gl(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Xc(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xc=function(){return!!h})()}function ns(h){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ns(h)}function Ba(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Ql(h,c)}function Ql(h,c){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},Ql(h,c)}var Jc=function(h){function c(m){return tv(this,c),sv(this,c,[m])}return Ba(c,h),rv(c,[{key:"height",value:function(g,P){return this.predicate("h",g,P)}},{key:"width",value:function(g,P){return this.predicate("w",g,P)}},{key:"aspectRatio",value:function(g,P){return this.predicate("ar",g,P)}},{key:"pageCount",value:function(g,P){return this.predicate("pc",g,P)}},{key:"faceCount",value:function(g,P){return this.predicate("fc",g,P)}},{key:"duration",value:function(g,P){return this.predicate("du",g,P)}},{key:"initialDuration",value:function(g,P){return this.predicate("idu",g,P)}}])}(an),Ot=Jc;function $a(h){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$a(h)}function ov(h,c){return Vh(h)||Yl(h,c)||jh(h,c)||Fh()}function Fh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jh(h,c){if(h){if(typeof h=="string")return Zc(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Zc(h,c)}}function Zc(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function Yl(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,j,q,oe=[],te=!0,we=!1;try{if(j=(m=m.call(h)).next,c!==0)for(;!(te=(g=j.call(m)).done)&&(oe.push(g.value),oe.length!==c);te=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!te&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return oe}}function Vh(h){if(Array.isArray(h))return h}function Ri(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Uh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,za(g.key),g)}}function av(h,c,m){return c&&Uh(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function za(h){var c=Bh(h,"string");return $a(c)=="symbol"?c:c+""}function Bh(h,c){if($a(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if($a(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Xl=function(){function h(c){Ri(this,h),this.configuration=c==null?{}:xe()(c),Oe(this.configuration,Jl)}return av(h,[{key:"init",value:function(){return this.fromEnvironment(),this.fromDocument(),this}},{key:"set",value:function(m,g){return this.configuration[m]=g,this}},{key:"get",value:function(m){return this.configuration[m]}},{key:"merge",value:function(m){return W()(this.configuration,xe()(m)),this}},{key:"fromDocument",value:function(){var m,g,P,j;if(j=typeof document<"u"&&document!==null?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0,j)for(g=0,P=j.length;g<P;g++)m=j[g],this.configuration[m.getAttribute("name").replace("cloudinary_","")]=m.getAttribute("content");return this}},{key:"fromEnvironment",value:function(){var m=this,g,P,j,q;return typeof process<"u"&&process!==null&&n&&n.CLOUDINARY_URL&&(g=n.CLOUDINARY_URL,q=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/,j=q.exec(g),j&&(j[3]!=null&&(this.configuration.cloud_name=j[3]),j[1]!=null&&(this.configuration.api_key=j[1]),j[2]!=null&&(this.configuration.api_secret=j[2]),j[4]!=null&&(this.configuration.private_cdn=j[4]!=null),j[4]!=null&&(this.configuration.secure_distribution=j[4]),P=j[5],P!=null&&P.split("&").forEach(function(oe){var te=oe.split("="),we=ov(te,2),Ue=we[0],Ze=we[1];Ze==null&&(Ze=!0),m.configuration[Ue]=Ze}))),this}},{key:"config",value:function(m,g){switch(!1){case g===void 0:return this.set(m,g),this.configuration;case!Be()(m):return this.get(m);case!fe()(m):return this.merge(m),this.configuration;default:return this.configuration}}},{key:"toOptions",value:function(){return xe()(this.configuration)}}])}(),Jl={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:(typeof window<"u"&&window!==null&&window.location?window.location.protocol:void 0)==="https:"};Xl.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version","externalLibraries","max_timeout_ms"];var Ha=Xl;function rs(h){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},rs(h)}function lv(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function $h(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,zh(g.key),g)}}function qa(h,c,m){return c&&$h(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function zh(h){var c=Hh(h,"string");return rs(c)=="symbol"?c:c+""}function Hh(h,c){if(rs(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(rs(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var ef=function(){function h(c){var m=this;lv(this,h),this.options={},c!=null&&["resourceType","type","publicId","format"].forEach(function(g){var P;return m.options[g]=(P=c[g])!=null?P:c[ct(g)]})}return qa(h,[{key:"resourceType",value:function(m){return this.options.resourceType=m,this}},{key:"type",value:function(m){return this.options.type=m,this}},{key:"publicId",value:function(m){return this.options.publicId=m,this}},{key:"getPublicId",value:function(){var m;return(m=this.options.publicId)!=null?m.replace(/\//g,":"):void 0}},{key:"getFullPublicId",value:function(){return this.options.format!=null?this.getPublicId()+"."+this.options.format:this.getPublicId()}},{key:"format",value:function(m){return this.options.format=m,this}},{key:"toString",value:function(){var m;if(m=[],this.options.publicId==null)throw"Must supply publicId";return this.options.resourceType!=="image"&&m.push(this.options.resourceType),this.options.type!=="upload"&&m.push(this.options.type),m.push(this.getFullPublicId()),Se()(m).join(":")}},{key:"clone",value:function(){return new this.constructor(this.options)}}])}(),is=ef;function Os(h){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Os(h)}function Zl(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function qh(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,Ns(g.key),g)}}function Wh(h,c,m){return c&&qh(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Ns(h){var c=Kh(h,"string");return Os(c)=="symbol"?c:c+""}function Kh(h,c){if(Os(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(Os(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function Gh(h,c,m){return c=An(c),Qh(h,Wa()?Reflect.construct(c,m||[],An(h).constructor):c.apply(h,m))}function Qh(h,c){if(c&&(Os(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yh(h)}function Yh(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Wa(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wa=function(){return!!h})()}function An(h){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},An(h)}function Xh(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&eu(h,c)}function eu(h,c){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},eu(h,c)}var Ro=function(h){function c(m){var g;Zl(this,c);var P;return g=Gh(this,c,[m]),P=["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","fontHinting","fontAntialiasing","text","textStyle"],m!=null&&P.forEach(function(j){var q;return g.options[j]=(q=m[j])!=null?q:m[ct(j)]}),g.options.resourceType="text",g}return Xh(c,h),Wh(c,[{key:"resourceType",value:function(g){throw"Cannot modify resourceType for text layers"}},{key:"type",value:function(g){throw"Cannot modify type for text layers"}},{key:"format",value:function(g){throw"Cannot modify format for text layers"}},{key:"fontFamily",value:function(g){return this.options.fontFamily=g,this}},{key:"fontSize",value:function(g){return this.options.fontSize=g,this}},{key:"fontWeight",value:function(g){return this.options.fontWeight=g,this}},{key:"fontStyle",value:function(g){return this.options.fontStyle=g,this}},{key:"textDecoration",value:function(g){return this.options.textDecoration=g,this}},{key:"textAlign",value:function(g){return this.options.textAlign=g,this}},{key:"stroke",value:function(g){return this.options.stroke=g,this}},{key:"letterSpacing",value:function(g){return this.options.letterSpacing=g,this}},{key:"lineSpacing",value:function(g){return this.options.lineSpacing=g,this}},{key:"fontHinting",value:function(g){return this.options.fontHinting=g,this}},{key:"fontAntialiasing",value:function(g){return this.options.fontAntialiasing=g,this}},{key:"text",value:function(g){return this.options.text=g,this}},{key:"textStyle",value:function(g){return this.options.textStyle=g,this}},{key:"toString",value:function(){var g,P,j,q,oe,te,we,Ue,Ze,ft;if(Ue=this.textStyleIdentifier(),this.options.publicId!=null&&(q=this.getFullPublicId()),this.options.text!=null){if(P=!Je(q),j=!Je(Ue),P&&j||!P&&!j)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(oe=/\$\([a-zA-Z]\w*\)/g,we=0,ft=Re(this.options.text,/[,\/]/g),Ze="";te=oe.exec(ft);)Ze+=Re(ft.slice(we,te.index)),Ze+=te[0],we=te.index+te[0].length;Ze+=Re(ft.slice(we))}return g=[this.options.resourceType,Ue,q,Ze],Se()(g).join(":")}},{key:"textStyleIdentifier",value:function(){if(!Je(this.options.textStyle))return this.options.textStyle;var g;if(g=[],this.options.fontWeight!=="normal"&&g.push(this.options.fontWeight),this.options.fontStyle!=="normal"&&g.push(this.options.fontStyle),this.options.textDecoration!=="none"&&g.push(this.options.textDecoration),g.push(this.options.textAlign),this.options.stroke!=="none"&&g.push(this.options.stroke),Je(this.options.letterSpacing)&&!he(this.options.letterSpacing)||g.push("letter_spacing_"+this.options.letterSpacing),Je(this.options.lineSpacing)&&!he(this.options.lineSpacing)||g.push("line_spacing_"+this.options.lineSpacing),Je(this.options.fontAntialiasing)||g.push("antialias_"+this.options.fontAntialiasing),Je(this.options.fontHinting)||g.push("hinting_"+this.options.fontHinting),!Je(Se()(g))){if(Je(this.options.fontFamily))throw"Must supply fontFamily. ".concat(g);if(Je(this.options.fontSize)&&!he(this.options.fontSize))throw"Must supply fontSize."}return g.unshift(this.options.fontFamily,this.options.fontSize),g=Se()(g).join("_"),g}}])}(is),d=Ro;function b(h){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},b(h)}function A(h,c,m){return Object.defineProperty(h,"prototype",{writable:!1}),h}function V(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function X(h,c,m){return c=rn(c),se(h,Tt()?Reflect.construct(c,m||[],rn(h).constructor):c.apply(h,m))}function se(h,c){if(c&&(b(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(h)}function Te(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Tt(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tt=function(){return!!h})()}function rn(h){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},rn(h)}function gt(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&hn(h,c)}function hn(h,c){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},hn(h,c)}var Pn=function(h){function c(m){var g;return V(this,c),g=X(this,c,[m]),g.options.resourceType="subtitles",g}return gt(c,h),A(c)}(d),ss=Pn;function kn(h){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},kn(h)}function tu(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function tf(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,v5(g.key),g)}}function y5(h,c,m){return c&&tf(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function v5(h){var c=_5(h,"string");return kn(c)=="symbol"?c:c+""}function _5(h,c){if(kn(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(kn(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function w5(h,c,m){return c=Jh(c),E5(h,lR()?Reflect.construct(c,m||[],Jh(h).constructor):c.apply(h,m))}function E5(h,c){if(c&&(kn(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b5(h)}function b5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function lR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!h})()}function Jh(h){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Jh(h)}function T5(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&uv(h,c)}function uv(h,c){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},uv(h,c)}var S5=function(h){function c(m){var g;return tu(this,c),g=w5(this,c,[m]),Be()(m)?g.options.url=m:m!=null&&m.url&&(g.options.url=m.url),g}return T5(c,h),y5(c,[{key:"url",value:function(g){return this.options.url=g,this}},{key:"toString",value:function(){return"fetch:".concat(Qn(this.options.url))}}])}(is),Zh=S5;function nf(h,c,m){return c=Ds(c),x5(h,uR()?Reflect.construct(c,m||[],Ds(h).constructor):c.apply(h,m))}function x5(h,c){if(c&&(nu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R5(h)}function R5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function uR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!h})()}function Ka(){return typeof Reflect<"u"&&Reflect.get?Ka=Reflect.get.bind():Ka=function(c,m,g){var P=I5(c,m);if(P){var j=Object.getOwnPropertyDescriptor(P,m);return j.get?j.get.call(arguments.length<3?c:g):j.value}},Ka.apply(this,arguments)}function I5(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=Ds(h),h!==null););return h}function Ds(h){return Ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Ds(h)}function rf(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&cv(h,c)}function cv(h,c){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},cv(h,c)}function nu(h){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},nu(h)}function ru(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function cR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,C5(g.key),g)}}function iu(h,c,m){return c&&cR(h.prototype,c),m&&cR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function C5(h){var c=A5(h,"string");return nu(c)=="symbol"?c:c+""}function A5(h,c){if(nu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(nu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var os=function(){function h(c,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.a;ru(this,h),this.name=c,this.shortName=m,this.process=g}return iu(h,[{key:"set",value:function(m){return this.origValue=m,this}},{key:"serialize",value:function(){var m,g;return m=this.value(),g=ge()(m)||fe()(m)||Be()(m)?!Je(m):m!=null,this.shortName!=null&&g?"".concat(this.shortName,"_").concat(m):""}},{key:"value",value:function(){return this.process(this.origValue)}}],[{key:"norm_color",value:function(m){return m!=null?m.replace(/^#/,"rgb:"):void 0}},{key:"build_array",value:function(m){return m==null?[]:ge()(m)?m:[m]}},{key:"process_video_params",value:function(m){var g;switch(m.constructor){case Object:return g="","codec"in m&&(g=m.codec,"profile"in m&&(g+=":"+m.profile,"level"in m&&(g+=":"+m.level,"b_frames"in m&&m.b_frames===!1&&(g+=":bframes_no")))),g;case String:return m;default:return null}}}])}(),P5=function(h){function c(m,g){var P,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return ru(this,c),P=nf(this,c,[m,g,q]),P.sep=j,P}return rf(c,h),iu(c,[{key:"serialize",value:function(){if(this.shortName!=null){var g=this.value();if(Je(g))return"";if(Be()(g))return"".concat(this.shortName,"_").concat(g);var P=g.map(function(j){return nt()(j.serialize)?j.serialize():j}).join(this.sep);return"".concat(this.shortName,"_").concat(P)}else return""}},{key:"value",value:function(){var g=this;return ge()(this.origValue)?this.origValue.map(function(P){return g.process(P)}):this.process(this.origValue)}},{key:"set",value:function(g){return g==null||ge()(g)?Ka(Ds(c.prototype),"set",this).call(this,g):Ka(Ds(c.prototype),"set",this).call(this,[g])}}])}(os),k5=function(h){function c(m){var g,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"t",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return ru(this,c),g=nf(this,c,[m,P,q]),g.sep=j,g}return rf(c,h),iu(c,[{key:"serialize",value:function(){var g=this,P="",j=this.value();if(Je(j))return P;if(G(j)){var q=j.join(this.sep);Je(q)||(P="".concat(this.shortName,"_").concat(q))}else P=j.map(function(oe){if(Be()(oe)&&!Je(oe))return"".concat(g.shortName,"_").concat(oe);if(nt()(oe.serialize))return oe.serialize();if(fe()(oe)&&!Je(oe))return new Ii(oe).serialize()}).filter(function(oe){return oe});return P}},{key:"set",value:function(g){return this.origValue=g,ge()(this.origValue)?Ka(Ds(c.prototype),"set",this).call(this,this.origValue):Ka(Ds(c.prototype),"set",this).call(this,[this.origValue])}}])}(os),O5="([0-9]*)\\.([0-9]+)|([0-9]+)",N5="("+O5+")([%pP])?",D5=function(h){function c(m,g){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.norm_range_value;return ru(this,c),nf(this,c,[m,g,P])}return rf(c,h),iu(c,null,[{key:"norm_range_value",value:function(g){var P=String(g).match(new RegExp("^"+N5+"$"));if(P){var j=P[5]!=null?"p":"";g=(P[1]||P[4])+j}return an.normalize(g)}}])}(os),L5=function(h){function c(m,g){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.a;return ru(this,c),nf(this,c,[m,g,P])}return rf(c,h),iu(c,[{key:"serialize",value:function(){return this.value()}}])}(os),M5=function(h){function c(){return ru(this,c),nf(this,c,arguments)}return rf(c,h),iu(c,[{key:"value",value:function(){if(this.origValue==null)return"";var g;if(this.origValue instanceof is)g=this.origValue;else if(fe()(this.origValue)){var P=Yt(this.origValue);P.resourceType==="text"||P.text!=null?g=new d(P):P.resourceType==="subtitles"?g=new ss(P):P.resourceType==="fetch"||P.url!=null?g=new Zh(P):g=new is(P)}else Be()(this.origValue)?/^fetch:.+/.test(this.origValue)?g=new Zh(this.origValue.substr(6)):g=this.origValue:g="";return g.toString()}}],[{key:"textStyle",value:function(g){return new d(g).textStyleIdentifier()}}])}(os);function F5(h,c,m){return c=ep(c),j5(h,fR()?Reflect.construct(c,m||[],ep(h).constructor):c.apply(h,m))}function j5(h,c){if(c&&(su(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5(h)}function V5(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function fR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!h})()}function ep(h){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ep(h)}function U5(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&fv(h,c)}function fv(h,c){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},fv(h,c)}function dv(h,c){return H5(h)||z5(h,c)||$5(h,c)||B5()}function B5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5(h,c){if(h){if(typeof h=="string")return dR(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return dR(h,c)}}function dR(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function z5(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,j,q,oe=[],te=!0,we=!1;try{if(j=(m=m.call(h)).next,c!==0)for(;!(te=(g=j.call(m)).done)&&(oe.push(g.value),oe.length!==c);te=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!te&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return oe}}function H5(h){if(Array.isArray(h))return h}function su(h){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},su(h)}function hR(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function pR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,q5(g.key),g)}}function mR(h,c,m){return c&&pR(h.prototype,c),m&&pR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function q5(h){var c=W5(h,"string");return su(c)=="symbol"?c:c+""}function W5(h,c){if(su(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(su(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function gR(h){for(var c=arguments.length,m=new Array(c>1?c-1:0),g=1;g<c;g++)m[g-1]=arguments[g];return m.forEach(function(P){Object.keys(P).forEach(function(j){P[j]!=null&&(h[j]=P[j])})}),h}var hv=function(){function h(c){hR(this,h);var m,g;m=void 0,g={},this.toOptions=function(P){var j={};if(P==null&&(P=!0),Object.keys(g).forEach(function(oe){return j[oe]=g[oe].origValue}),gR(j,this.otherOptions),P&&!Je(this.chained)){var q=this.chained.map(function(oe){return oe.toOptions()});q.push(j),j={},gR(j,this.otherOptions),j.transformation=q}return j},this.setParent=function(P){return m=P,P!=null&&this.fromOptions(typeof P.toOptions=="function"?P.toOptions():void 0),this},this.getParent=function(){return m},this.param=function(P,j,q,oe,te){return te==null&&(nt()(oe)?te=oe:te=st.a),g[j]=new os(j,q,te).set(P),this},this.rawParam=function(P,j,q,oe,te){return te=tp(arguments),g[j]=new L5(j,q,te).set(P),this},this.rangeParam=function(P,j,q,oe,te){return te=tp(arguments),g[j]=new D5(j,q,te).set(P),this},this.arrayParam=function(P,j,q){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:":",te=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return te=tp(arguments),g[j]=new P5(j,q,oe,te).set(P),this},this.transformationParam=function(P,j,q){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",te=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return te=tp(arguments),g[j]=new k5(j,q,oe,te).set(P),this},this.layerParam=function(P,j,q){return g[j]=new M5(j,q).set(P),this},this.getValue=function(P){var j=g[P]&&g[P].value();return j??this.otherOptions[P]},this.get=function(P){return g[P]},this.remove=function(P){var j;switch(!1){case g[P]==null:return j=g[P],delete g[P],j.origValue;case this.otherOptions[P]==null:return j=this.otherOptions[P],delete this.otherOptions[P],j;default:return null}},this.keys=function(){var P;return function(){var j;j=[];for(P in g)P!=null&&j.push(P.match(pv)?P:ct(P));return j}().sort()},this.toPlainObject=function(){var P,j,q;P={};for(j in g)P[j]=g[j].value(),fe()(P[j])&&(P[j]=xe()(P[j]));return Je(this.chained)||(q=this.chained.map(function(oe){return oe.toPlainObject()}),q.push(P),P={transformation:q}),P},this.chain=function(){var P,j;return P=Object.getOwnPropertyNames(g),P.length!==0&&(j=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(j)),this},this.resetTransformations=function(){return g={},this},this.otherOptions={},this.chained=[],this.fromOptions(c)}return mR(h,[{key:"fromOptions",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m instanceof h)this.fromTransformation(m);else{(Be()(m)||ge()(m))&&(m={transformation:m}),m=xe()(m,function(j){if(j instanceof h||j instanceof Layer)return new j.clone}),m.if&&(this.set("if",m.if),delete m.if);for(var g in m){var P=m[g];P!=null&&(g.match(pv)?g!=="$attr"&&this.set("variable",g,P):this.set(g,P))}}return this}},{key:"fromTransformation",value:function(m){var g=this;return m instanceof h&&m.keys().forEach(function(P){return g.set(P,m.get(P).origValue)}),this}},{key:"set",value:function(m){var g;g=at(m);for(var P=arguments.length,j=new Array(P>1?P-1:0),q=1;q<P;q++)j[q-1]=arguments[q];return J()(Io.methods,g)?this[g].apply(this,j):this.otherOptions[m]=j[0],this}},{key:"hasLayer",value:function(){return this.getValue("overlay")||this.getValue("underlay")}},{key:"serialize",value:function(){var m,g,P,j,q,oe,te,we,Ue,Ze,ft,Ft,Ms,Ao,as,mu,gu;for(Ze=this.chained.map(function(Fs){return Fs.serialize()}),j=this.keys(),Ao=(q=this.get("transformation"))!=null?q.serialize():void 0,m=(oe=this.get("if"))!=null?oe.serialize():void 0,mu=K5((te=this.get("variables"))!=null?te.value():void 0),j=Et()(j,["transformation","if","variables"]),gu=[],Ft=[],g=0,P=j.length;g<P;g++)ft=j[g],ft.match(pv)?gu.push(ft+"_"+an.normalize((we=this.get(ft))!=null?we.value():void 0)):Ft.push((Ue=this.get(ft))!=null?Ue.serialize():void 0);switch(!1){case!Be()(Ao):Ft.push(Ao);break;case!ge()(Ao):Ze=Ze.concat(Ao)}return Ft=function(){var Fs,yu,xv;for(xv=[],Fs=0,yu=Ft.length;Fs<yu;Fs++)as=Ft[Fs],(ge()(as)&&!Je(as)||!ge()(as)&&as)&&xv.push(as);return xv}(),Ft=gu.sort().concat(mu).concat(Ft.sort()),m==="if_end"?Ft.push(m):Je(m)||Ft.unshift(m),Ms=Se()(Ft).join(this.param_separator),Je(Ms)||Ze.push(Ms),Se()(Ze).join(this.trans_separator)}},{key:"toHtmlAttributes",value:function(){var m=this,g,P,j,q,oe,te,we;j={};var Ue;return Object.keys(this.otherOptions).forEach(function(Ze){te=m.otherOptions[Ze],Ue=ct(Ze),!J()(Io.PARAM_NAMES,Ue)&&!J()(bi,Ue)&&(g=/^html_/.test(Ze)?Ze.slice(5):Ze,j[g]=te)}),this.keys().forEach(function(Ze){/^html_/.test(Ze)&&(j[at(Ze.slice(5))]=m.getValue(Ze))}),this.hasLayer()||this.getValue("angle")||J()(["fit","limit","lfill"],this.getValue("crop"))||(we=(q=this.get("width"))!=null?q.origValue:void 0,P=(oe=this.get("height"))!=null?oe.origValue:void 0,parseFloat(we)>=1&&j.width==null&&(j.width=we),parseFloat(P)>=1&&j.height==null&&(j.height=P)),j}},{key:"toHtml",value:function(){var m;return(m=this.getParent())!=null&&typeof m.toHtml=="function"?m.toHtml():void 0}},{key:"toString",value:function(){return this.serialize()}},{key:"clone",value:function(){return new this.constructor(this.toOptions(!0))}}],[{key:"listNames",value:function(){return Io.methods}},{key:"isValidParamName",value:function(m){return Io.methods.indexOf(at(m))>=0}}])}(),pv=/^\$[a-zA-Z0-9]+$/;hv.prototype.trans_separator="/",hv.prototype.param_separator=",";function tp(h){var c;if(c=h!=null?h[h.length-1]:void 0,nt()(c))return c}function K5(h){var c,m,g,P,j;if(ge()(h)){for(P=[],c=0,m=h.length;c<m;c++){var q=dv(h[c],2);g=q[0],j=q[1],P.push("".concat(g,"_").concat(an.normalize(j)))}return P}else return h}function yR(h){var c=h.function_type,m=h.source;if(c==="remote")return[c,btoa(m)].join(":");if(c==="wasm")return[c,m].join(":")}var Io=function(h){function c(m){return hR(this,c),F5(this,c,[m])}return U5(c,h),mR(c,[{key:"angle",value:function(g){return this.arrayParam(g,"angle","a",".",an.normalize)}},{key:"audioCodec",value:function(g){return this.param(g,"audio_codec","ac")}},{key:"audioFrequency",value:function(g){return this.param(g,"audio_frequency","af")}},{key:"aspectRatio",value:function(g){return this.param(g,"aspect_ratio","ar",an.normalize)}},{key:"background",value:function(g){return this.param(g,"background","b",os.norm_color)}},{key:"bitRate",value:function(g){return this.param(g,"bit_rate","br")}},{key:"border",value:function(g){return this.param(g,"border","bo",function(P){return fe()(P)?(P=W()({},{color:"black",width:2},P),"".concat(P.width,"px_solid_").concat(os.norm_color(P.color))):P})}},{key:"color",value:function(g){return this.param(g,"color","co",os.norm_color)}},{key:"colorSpace",value:function(g){return this.param(g,"color_space","cs")}},{key:"crop",value:function(g){return this.param(g,"crop","c")}},{key:"customFunction",value:function(g){return this.param(g,"custom_function","fn",function(){return yR(g)})}},{key:"customPreFunction",value:function(g){if(!this.get("custom_function"))return this.rawParam(g,"custom_function","",function(){return g=yR(g),g&&"fn_pre:".concat(g)})}},{key:"defaultImage",value:function(g){return this.param(g,"default_image","d")}},{key:"delay",value:function(g){return this.param(g,"delay","dl")}},{key:"density",value:function(g){return this.param(g,"density","dn")}},{key:"duration",value:function(g){return this.rangeParam(g,"duration","du")}},{key:"dpr",value:function(g){return this.param(g,"dpr","dpr",function(P){return P=P.toString(),P!=null&&P.match(/^\d+$/)?P+".0":an.normalize(P)})}},{key:"effect",value:function(g){return this.arrayParam(g,"effect","e",":",an.normalize)}},{key:"else",value:function(){return this.if("else")}},{key:"endIf",value:function(){return this.if("end")}},{key:"endOffset",value:function(g){return this.rangeParam(g,"end_offset","eo")}},{key:"fallbackContent",value:function(g){return this.param(g,"fallback_content")}},{key:"fetchFormat",value:function(g){return this.param(g,"fetch_format","f")}},{key:"format",value:function(g){return this.param(g,"format")}},{key:"flags",value:function(g){return this.arrayParam(g,"flags","fl",".")}},{key:"gravity",value:function(g){return this.param(g,"gravity","g")}},{key:"fps",value:function(g){return this.param(g,"fps","fps",function(P){return Be()(P)?P:ge()(P)?P.join("-"):P})}},{key:"height",value:function(g){var P=this;return this.param(g,"height","h",function(){return P.getValue("crop")||P.getValue("overlay")||P.getValue("underlay")?an.normalize(g):null})}},{key:"htmlHeight",value:function(g){return this.param(g,"html_height")}},{key:"htmlWidth",value:function(g){return this.param(g,"html_width")}},{key:"if",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P,j,q,oe,te;switch(g){case"else":return this.chain(),this.param(g,"if","if");case"end":for(this.chain(),P=q=this.chained.length-1;q>=0&&(j=this.chained[P].getValue("if"),j!=="end");P=q+=-1)if(j!=null&&(oe=c.new().if(j),this.chained[P].remove("if"),te=this.chained[P],this.chained[P]=c.new().transformation([oe,te]),j!=="else"))break;return this.param(g,"if","if");case"":return Ot.new().setParent(this);default:return this.param(g,"if","if",function(we){return Ot.new(we).toString()})}}},{key:"keyframeInterval",value:function(g){return this.param(g,"keyframe_interval","ki")}},{key:"ocr",value:function(g){return this.param(g,"ocr","ocr")}},{key:"offset",value:function(g){var P,j,q=nt()(g!=null?g.split:void 0)?g.split(".."):ge()(g)?g:[null,null],oe=dv(q,2);if(j=oe[0],P=oe[1],j!=null&&this.startOffset(j),P!=null)return this.endOffset(P)}},{key:"opacity",value:function(g){return this.param(g,"opacity","o",an.normalize)}},{key:"overlay",value:function(g){return this.layerParam(g,"overlay","l")}},{key:"page",value:function(g){return this.param(g,"page","pg")}},{key:"poster",value:function(g){return this.param(g,"poster")}},{key:"prefix",value:function(g){return this.param(g,"prefix","p")}},{key:"quality",value:function(g){return this.param(g,"quality","q",an.normalize)}},{key:"radius",value:function(g){return this.arrayParam(g,"radius","r",":",an.normalize)}},{key:"rawTransformation",value:function(g){return this.rawParam(g,"raw_transformation")}},{key:"size",value:function(g){var P,j;if(nt()(g!=null?g.split:void 0)){var q=g.split("x"),oe=dv(q,2);return j=oe[0],P=oe[1],this.width(j),this.height(P)}}},{key:"sourceTypes",value:function(g){return this.param(g,"source_types")}},{key:"sourceTransformation",value:function(g){return this.param(g,"source_transformation")}},{key:"startOffset",value:function(g){return this.rangeParam(g,"start_offset","so")}},{key:"streamingProfile",value:function(g){return this.param(g,"streaming_profile","sp")}},{key:"transformation",value:function(g){return this.transformationParam(g,"transformation","t")}},{key:"underlay",value:function(g){return this.layerParam(g,"underlay","u")}},{key:"variable",value:function(g,P){return this.param(P,g,g)}},{key:"variables",value:function(g){return this.arrayParam(g,"variables")}},{key:"videoCodec",value:function(g){return this.param(g,"video_codec","vc",os.process_video_params)}},{key:"videoSampling",value:function(g){return this.param(g,"video_sampling","vs")}},{key:"width",value:function(g){var P=this;return this.param(g,"width","w",function(){return P.getValue("crop")||P.getValue("overlay")||P.getValue("underlay")?an.normalize(g):null})}},{key:"x",value:function(g){return this.param(g,"x","x",an.normalize)}},{key:"y",value:function(g){return this.param(g,"y","y",an.normalize)}},{key:"zoom",value:function(g){return this.param(g,"zoom","z",an.normalize)}}],[{key:"new",value:function(g){return new c(g)}}])}(hv);Io.methods=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","customFunction","customPreFunction","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","ocr","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],Io.PARAM_NAMES=Io.methods.map(ct).concat(Ha.CONFIG_PARAMS);var Ii=Io;function sf(h){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},sf(h)}function G5(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function vR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,Y5(g.key),g)}}function Q5(h,c,m){return c&&vR(h.prototype,c),m&&vR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function Y5(h){var c=X5(h,"string");return sf(c)=="symbol"?c:c+""}function X5(h,c){if(sf(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(sf(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var J5=function(){function h(c,m,g){G5(this,h);var P;this.name=c,this.publicId=m,g==null&&(fe()(m)?(g=m,this.publicId=void 0):g={}),P=new Ii(g),P.setParent(this),this.transformation=function(){return P}}return Q5(h,[{key:"htmlAttrs",value:function(m){var g,P;return function(){var j;j=[];for(g in m)P=eV(m[g]),P&&j.push(Z5(g,P));return j}().sort().join(" ")}},{key:"getOptions",value:function(){return this.transformation().toOptions()}},{key:"getOption",value:function(m){return this.transformation().getValue(m)}},{key:"attributes",value:function(){var m=this.transformation().toHtmlAttributes();return Object.keys(m).forEach(function(g){fe()(m[g])&&delete m[g]}),m.attributes&&(qe()(m,m.attributes),delete m.attributes),m}},{key:"setAttr",value:function(m,g){return this.transformation().set("html_".concat(m),g),this}},{key:"getAttr",value:function(m){return this.attributes()["html_".concat(m)]||this.attributes()[m]}},{key:"removeAttr",value:function(m){var g;return(g=this.transformation().remove("html_".concat(m)))!=null?g:this.transformation().remove(m)}},{key:"content",value:function(){return""}},{key:"openTag",value:function(){var m="<"+this.name,g=this.htmlAttrs(this.attributes());return g&&g.length>0&&(m+=" "+g),m+">"}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"toHtml",value:function(){return this.openTag()+this.content()+this.closeTag()}},{key:"toDOM",value:function(){var m,g,P,j;if(!nt()(typeof document<"u"&&document!==null?document.createElement:void 0))throw"Can't create DOM if document is not present!";m=document.createElement(this.name),P=this.attributes();for(g in P)j=P[g],m.setAttribute(g,j);return m}}],[{key:"new",value:function(m,g,P){return new this(m,g,P)}},{key:"isResponsive",value:function(m,g){var P;return P=mt(m,"src-cache")||mt(m,"src"),Zi(m,g)&&/\bw_auto\b/.exec(P)}}])}();function Z5(h,c){if(c)return c===!0?h:"".concat(h,'="').concat(c,'"')}function eV(h){return Be()(h)?h.replace('"',"&#34;").replace("'","&#39;"):h}var Co=J5,tV=["placeholder","accessibility"];function nV(h,c){if(h==null)return{};var m=rV(h,c),g,P;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(h);for(P=0;P<j.length;P++)g=j[P],!(c.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(h,g)&&(m[g]=h[g])}return m}function rV(h,c){if(h==null)return{};var m={},g=Object.keys(h),P,j;for(j=0;j<g.length;j++)P=g[j],!(c.indexOf(P)>=0)&&(m[P]=h[P]);return m}function iV(h){var c=document.location.protocol+"//"+document.location.host;return h[0]==="?"?c+=document.location.pathname:h[0]!=="/"&&(c+=document.location.pathname.replace(/\/[^\/]*$/,"/")),c+h}function np(h){return h?!!h.match(/^https?:\//):!1}function sV(h){return T(h)%5+1}function oV(h){var c=h.signature,m=!c||c.indexOf("s--")===0&&c.substr(-2)==="--";return delete h.signature,m?c:"s--".concat(c,"--")}function aV(h,c){if(c.cloud_name&&c.cloud_name[0]==="/")return"/res"+c.cloud_name;var m="http://",g="",P="res",j=".cloudinary.com",q="/"+c.cloud_name;return c.protocol&&(m=c.protocol+"//"),c.private_cdn&&(g=c.cloud_name+"-",q=""),c.cdn_subdomain&&(P="res-"+sV(h)),c.secure?(m="https://",c.secure_cdn_subdomain===!1&&(P="res"),c.secure_distribution!=null&&c.secure_distribution!==bo&&c.secure_distribution!==As&&(g="",P="",j=c.secure_distribution)):c.cname&&(m="http://",g="",P=c.cdn_subdomain?"a"+(T(h)%5+1)+".":"",j=c.cname),[m,g,P,j,q].join("")}function lV(h){var c=h.resource_type,m=c===void 0?"image":c,g=h.type,P=g===void 0?"upload":g,j=h.url_suffix,q=h.use_root_path,oe=h.shorten,te,we=m;if(fe()(we)&&(te=we,we=te.resource_type,P=te.type,oe=te.shorten),P==null&&(P="upload"),j!=null&&(we=Qi["".concat(we,"/").concat(P)],P=null,we==null))throw new Error("URL Suffix only supported for ".concat(Object.keys(Qi).join(", ")));if(q)if(we==="image"&&P==="upload"||we==="images")we=null,P=null;else throw new Error("Root path only supported for image/upload");return oe&&we==="image"&&P==="upload"&&(we="iu",P=null),[we,P].join("/")}function _R(h){return encodeURIComponent(h).replace(/%3A/g,":").replace(/%2F/g,"/")}function uV(h,c){if(np(h))h=_R(h);else{try{h=decodeURIComponent(h)}catch{}h=_R(h),c.url_suffix&&(h=h+"/"+c.url_suffix),c.format&&(c.trust_public_id||(h=h.replace(/\.(jpg|png|gif|webp)$/,"")),h=h+"."+c.format)}return h}function cV(h){var c=h.cloud_name,m=h.url_suffix;if(!c)return"Unknown cloud_name";if(m&&m.match(/[\.\/]/))return"url_suffix should not include . or /"}function fV(h,c){var m=c.force_version||typeof c.force_version>"u",g=h.indexOf("/")<0||h.match(/^v[0-9]+/)||np(h)||c.version;return m&&!g&&(c.version=1),c.version?"v".concat(c.version):""}function dV(h){var c=h||{},m=c.placeholder,g=c.accessibility,P=nV(c,tV),j=new Ii(P);if(g&&ti[g]&&j.chain().effect(ti[g]),m){m==="predominant-color"&&j.getValue("width")&&j.getValue("height")&&(m+="-pixel");var q=Ei[m]||Ei.blur;q.forEach(function(oe){return j.chain().transformation(oe)})}return j.serialize()}function hV(h,c){var m=c.type;return!np(h)&&m==="fetch"?iV(h):h}function pV(h,c){if(np(h)&&(c.type==="upload"||c.type==="asset"))return h;var m=fV(h,c),g=dV(c),P=aV(h,c),j=oV(c),q=lV(c);return h=uV(h,c),Se()([P,q,j,g,m,h]).join("/").replace(/([^:])\/+/g,"$1/").replace(" ","%20")}function mV(h,c){return h instanceof Ii&&(h=h.toOptions()),h=Oe({},h,c,ks),h.type==="fetch"&&(h.fetch_format=h.fetch_format||h.format),h}function Ls(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!h)return h;c=mV(c,m),h=hV(h,c);var g=cV(c);if(g)throw g;var P=pV(h,c);if(c.urlAnalytics){var j=Ae(c),q=K(j),oe="?";P.indexOf("?")>=0&&(oe="&"),P="".concat(P).concat(oe,"_a=").concat(q)}if(c.auth_token){var te=P.indexOf("?")>=0?"&":"?";P="".concat(P).concat(te,"__cld_token__=").concat(c.auth_token)}return P}function gV(h,c){return wV(h)||_V(h,c)||vV(h,c)||yV()}function yV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(h,c){if(h){if(typeof h=="string")return wR(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return wR(h,c)}}function wR(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function _V(h,c){var m=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m!=null){var g,P,j,q,oe=[],te=!0,we=!1;try{if(j=(m=m.call(h)).next,c!==0)for(;!(te=(g=j.call(m)).done)&&(oe.push(g.value),oe.length!==c);te=!0);}catch(Ue){we=!0,P=Ue}finally{try{if(!te&&m.return!=null&&(q=m.return(),Object(q)!==q))return}finally{if(we)throw P}}return oe}}function wV(h){if(Array.isArray(h))return h}function EV(h){var c=h.breakpoints||[];if(c.length)return c;var m=[h.min_width,h.max_width,h.max_images].map(Number),g=gV(m,3),P=g[0],j=g[1],q=g[2];if([P,j,q].some(isNaN))throw"Either (min_width, max_width, max_images) or breakpoints must be provided to the image srcset attribute";if(P>j)throw"min_width must be less than max_width";if(q<=0)throw"max_images must be a positive integer";q===1&&(P=j);for(var oe=Math.ceil((j-P)/Math.max(q-1,1)),te=P;te<j;te+=oe)c.push(te);return c.push(j),c}var mv=Je;function bV(h,c,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},P=Yn(g);return m=m||g,P.raw_transformation=new Ii([qe.a({},m),{crop:"scale",width:c}]).toString(),Ls(h,P)}function TV(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return EV(c)}function SV(h,c,m,g){return g=xe.a(g),bn(g),c.map(function(P){return"".concat(bV(h,P,m,g)," ").concat(P,"w")}).join(", ")}function xV(h){return h==null?"":h.map(function(c){return"(max-width: ".concat(c,"px) ").concat(c,"px")}).join(", ")}function ER(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},P={};if(mv(m))return P;var j=!c.sizes&&m.sizes===!0,q=!c.srcset;if(q||j){var oe=TV(h,m,g);if(q){var te=m.transformation,we=SV(h,oe,te,g);mv(we)||(P.srcset=we)}if(j){var Ue=xV(oe);mv(Ue)||(P.sizes=Ue)}}return P}function RV(h){var c=[];return h!=null&&(h.min_width!=null&&c.push("(min-width: ".concat(h.min_width,"px)")),h.max_width!=null&&c.push("(max-width: ".concat(h.max_width,"px)"))),c.join(" and ")}function ou(h){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ou(h)}function IV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function CV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,PV(g.key),g)}}function AV(h,c,m){return c&&CV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function PV(h){var c=kV(h,"string");return ou(c)=="symbol"?c:c+""}function kV(h,c){if(ou(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(ou(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function OV(h,c,m){return c=au(c),NV(h,bR()?Reflect.construct(c,m||[],au(h).constructor):c.apply(h,m))}function NV(h,c){if(c&&(ou(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(h)}function DV(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function bR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!h})()}function rp(){return typeof Reflect<"u"&&Reflect.get?rp=Reflect.get.bind():rp=function(c,m,g){var P=LV(c,m);if(P){var j=Object.getOwnPropertyDescriptor(P,m);return j.get?j.get.call(arguments.length<3?c:g):j.value}},rp.apply(this,arguments)}function LV(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=au(h),h!==null););return h}function au(h){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},au(h)}function MV(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&gv(h,c)}function gv(h,c){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},gv(h,c)}var FV=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return IV(this,c),OV(this,c,["img",m,g])}return MV(c,h),AV(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var g,P,j;g=rp(au(c.prototype),"attributes",this).call(this)||{},P=this.getOptions();var q=this.getOption("attributes")||{},oe=this.getOption("srcset")||q.srcset,te={};return Be()(oe)?te.srcset=oe:te=ER(this.publicId,q,oe,P),Je(te)||(delete g.width,delete g.height),qe()(g,te),j=P.responsive&&!P.client_hints?"data-src":"src",g[j]==null&&(g[j]=Ls(this.publicId,this.getOptions())),g}}])}(Co),ip=FV;function lu(h){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},lu(h)}function jV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function VV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,BV(g.key),g)}}function UV(h,c,m){return c&&VV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function BV(h){var c=$V(h,"string");return lu(c)=="symbol"?c:c+""}function $V(h,c){if(lu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(lu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function zV(h,c,m){return c=uu(c),HV(h,TR()?Reflect.construct(c,m||[],uu(h).constructor):c.apply(h,m))}function HV(h,c){if(c&&(lu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qV(h)}function qV(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function TR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TR=function(){return!!h})()}function sp(){return typeof Reflect<"u"&&Reflect.get?sp=Reflect.get.bind():sp=function(c,m,g){var P=WV(c,m);if(P){var j=Object.getOwnPropertyDescriptor(P,m);return j.get?j.get.call(arguments.length<3?c:g):j.value}},sp.apply(this,arguments)}function WV(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=uu(h),h!==null););return h}function uu(h){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},uu(h)}function KV(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&yv(h,c)}function yv(h,c){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},yv(h,c)}var GV=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jV(this,c),zV(this,c,["source",m,g])}return KV(c,h),UV(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var g=this.getOption("srcset"),P=sp(uu(c.prototype),"attributes",this).call(this)||{},j=this.getOptions();return qe()(P,ER(this.publicId,P,g,j)),P.srcset||(P.srcset=Ls(this.publicId,j)),!P.media&&j.media&&(P.media=RV(j.media)),P}}])}(Co),SR=GV;function cu(h){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},cu(h)}function QV(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function YV(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,JV(g.key),g)}}function XV(h,c,m){return c&&YV(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function JV(h){var c=ZV(h,"string");return cu(c)=="symbol"?c:c+""}function ZV(h,c){if(cu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(cu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function e8(h,c,m){return c=fu(c),t8(h,xR()?Reflect.construct(c,m||[],fu(h).constructor):c.apply(h,m))}function t8(h,c){if(c&&(cu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n8(h)}function n8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function xR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!h})()}function op(){return typeof Reflect<"u"&&Reflect.get?op=Reflect.get.bind():op=function(c,m,g){var P=r8(c,m);if(P){var j=Object.getOwnPropertyDescriptor(P,m);return j.get?j.get.call(arguments.length<3?c:g):j.value}},op.apply(this,arguments)}function r8(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=fu(h),h!==null););return h}function fu(h){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},fu(h)}function i8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&vv(h,c)}function vv(h,c){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},vv(h,c)}var s8=function(h){function c(m){var g,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return QV(this,c),g=e8(this,c,["picture",m,P]),g.widthList=j,g}return i8(c,h),XV(c,[{key:"content",value:function(){var g=this;return this.widthList.map(function(P){var j=P.min_width,q=P.max_width,oe=P.transformation,te=g.getOptions(),we=new Ii(te);return we.chain().fromOptions(typeof oe=="string"?{raw_transformation:oe}:oe),te=Yn(te),te.media={min_width:j,max_width:q},te.transformation=we,new SR(g.publicId,te).toHtml()}).join("")+new ip(this.publicId,this.getOptions()).toHtml()}},{key:"attributes",value:function(){var g=op(fu(c.prototype),"attributes",this).call(this);return delete g.width,delete g.height,g}},{key:"closeTag",value:function(){return"</"+this.name+">"}}])}(Co),_v=s8;function du(h){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},du(h)}function o8(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function a8(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,u8(g.key),g)}}function l8(h,c,m){return c&&a8(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function u8(h){var c=c8(h,"string");return du(c)=="symbol"?c:c+""}function c8(h,c){if(du(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(du(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function f8(h,c,m){return c=hu(c),d8(h,RR()?Reflect.construct(c,m||[],hu(h).constructor):c.apply(h,m))}function d8(h,c){if(c&&(du(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h8(h)}function h8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function RR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!h})()}function ap(){return typeof Reflect<"u"&&Reflect.get?ap=Reflect.get.bind():ap=function(c,m,g){var P=p8(c,m);if(P){var j=Object.getOwnPropertyDescriptor(P,m);return j.get?j.get.call(arguments.length<3?c:g):j.value}},ap.apply(this,arguments)}function p8(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=hu(h),h!==null););return h}function hu(h){return hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},hu(h)}function m8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&wv(h,c)}function wv(h,c){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},wv(h,c)}var g8=["source_types","source_transformation","fallback_content","poster","sources"],y8=["webm","mp4","ogv"],v8={format:"jpg",resource_type:"video"},_8=function(h){function c(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o8(this,c),g=Oe({},g,Yi),f8(this,c,["video",m.replace(/\.(mp4|ogv|webm)$/,""),g])}return m8(c,h),l8(c,[{key:"setSourceTransformation",value:function(g){return this.transformation().sourceTransformation(g),this}},{key:"setSourceTypes",value:function(g){return this.transformation().sourceTypes(g),this}},{key:"setPoster",value:function(g){return this.transformation().poster(g),this}},{key:"setFallbackContent",value:function(g){return this.transformation().fallbackContent(g),this}},{key:"content",value:function(){var g=this,P=this.transformation().getValue("source_types"),j=this.transformation().getValue("source_transformation"),q=this.transformation().getValue("fallback_content"),oe=this.getOption("sources"),te=[];return ge()(oe)&&!Je(oe)?te=oe.map(function(we){var Ue=Ls(g.publicId,Oe({},we.transformations||{},{resource_type:"video",format:we.type}),g.getOptions());return g.createSourceTag(Ue,we.type,we.codecs)}):(Je(P)&&(P=y8),ge()(P)&&(te=P.map(function(we){var Ue=Ls(g.publicId,Oe({},j[we]||{},{resource_type:"video",format:we}),g.getOptions());return g.createSourceTag(Ue,we)}))),te.join("")+q}},{key:"attributes",value:function(){var g=this.getOption("source_types"),P=this.getOption("poster");if(P===void 0&&(P={}),fe()(P)){var j=P.public_id!=null?ks:v8;P=Ls(P.public_id||this.publicId,Oe({},P,j,this.getOptions()))}var q=ap(hu(c.prototype),"attributes",this).call(this)||{};q=H(q,g8);var oe=this.getOption("sources"),te=!Je(oe)||Je(g)||ge()(g);return te||(q.src=Ls(this.publicId,this.getOptions(),{resource_type:"video",format:g})),P!=null&&(q.poster=P),q}},{key:"createSourceTag",value:function(g,P){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,q=null;if(!Je(P)){var oe=P==="ogv"?"ogg":P;if(q="video/"+oe,!Je(j)){var te=ge()(j)?j.join(", "):j;q+="; codecs="+te}}return"<source "+this.htmlAttrs({src:g,type:q})+">"}}])}(Co),Ev=_8;function pu(h){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},pu(h)}function w8(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function E8(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,T8(g.key),g)}}function b8(h,c,m){return c&&E8(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function T8(h){var c=S8(h,"string");return pu(c)=="symbol"?c:c+""}function S8(h,c){if(pu(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(pu(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function x8(h,c,m){return c=lp(c),R8(h,IR()?Reflect.construct(c,m||[],lp(h).constructor):c.apply(h,m))}function R8(h,c){if(c&&(pu(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8(h)}function I8(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function IR(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!h})()}function lp(h){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},lp(h)}function C8(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&bv(h,c)}function bv(h,c){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,P){return g.__proto__=P,g},bv(h,c)}var A8=function(h){function c(m){return w8(this,c),x8(this,c,["meta",void 0,W()({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},m)])}return C8(c,h),b8(c,[{key:"closeTag",value:function(){return""}}])}(Co),CR=A8;function P8(h){return D8(h)||N8(h)||O8(h)||k8()}function k8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8(h,c){if(h){if(typeof h=="string")return Tv(h,c);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Tv(h,c)}}function N8(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function D8(h){if(Array.isArray(h))return Tv(h)}function Tv(h,c){(c==null||c>h.length)&&(c=h.length);for(var m=0,g=new Array(c);m<c;m++)g[m]=h[m];return g}function L8(h){return ge()(h)?h:h.constructor.name==="NodeList"?P8(h):Be()(h)?Array.prototype.slice.call(document.querySelectorAll(h),0):[h]}function M8(h,c,m,g){return new Promise(function(P,j){h.innerHTML=c.videoTag(m,g).toHtml();var q=h.querySelector(".cld-transparent-video");q.style.width="100%",P(h)})}var F8=M8;function j8(h,c){h.transformation?h.transformation.push({flags:[c]}):(h.flags||(h.flags=[]),typeof h.flags=="string"&&(h.flags=[h.flags]),h.flags.push(c))}var V8=j8;function U8(h){h.autoplay=!0,h.muted=!0,h.controls=!1,h.max_timeout_ms=h.max_timeout_ms||Gi,h.class=h.class||"",h.class+=" cld-transparent-video",h.externalLibraries=h.externalLibraries||{},h.externalLibraries.seeThru||(h.externalLibraries.seeThru=Qt.seeThru),V8(h,"alpha")}var B8=U8;function $8(h,c,m){return new Promise(function(g,P){if(m)g();else{var j=document.createElement("script");j.src=h;var q=setTimeout(function(){P({status:"error",message:"Timeout loading script ".concat(h)})},c);j.onerror=function(){clearTimeout(q),P({status:"error",message:"Error loading ".concat(h)})},j.onload=function(){clearTimeout(q),g()},document.head.appendChild(j)}})}var z8=$8;function H8(h,c){return setTimeout(function(){c({status:"error",message:"Timeout loading Blob URL"})},h)}function q8(h,c){return new Promise(function(m,g){var P=H8(c,g),j=typeof fetch<"u"&&fetch?W8:K8;j(h).then(function(q){m({status:"success",payload:{blobURL:URL.createObjectURL(q)}})}).catch(function(){g({status:"error",message:"Error loading Blob URL"})}).finally(function(){clearTimeout(P)})})}function W8(h){return new Promise(function(c,m){fetch(h).then(function(g){g.blob().then(function(P){c(P)})}).catch(function(){m("error")})})}function K8(h){return new Promise(function(c,m){var g=new XMLHttpRequest;g.responseType="blob",g.onload=function(P){c(g.response)},g.onerror=function(){m("error")},g.open("GET",h,!0),g.send()})}var G8=q8;function Q8(h){var c=h.autoplay,m=h.playsinline,g=h.loop,P=h.muted,j=h.poster,q=h.blobURL,oe=h.videoURL,te=document.createElement("video");return te.style.visibility="hidden",te.position="absolute",te.x=0,te.y=0,te.src=q,te.setAttribute("data-video-url",oe),c&&te.setAttribute("autoplay",c),m&&te.setAttribute("playsinline",m),g&&te.setAttribute("loop",g),P&&te.setAttribute("muted",P),P&&(te.muted=P),j&&te.setAttribute("poster",j),te.onload=function(){URL.revokeObjectURL(q)},te}var Y8=Q8;function X8(h,c,m,g){var P=window,j=P.seeThru,q=P.setTimeout,oe=P.clearTimeout;return new Promise(function(te,we){var Ue=q(function(){we({status:"error",message:"Timeout instantiating seeThru instance"})},c);if(j)var Ze=j.create(h).ready(function(){oe(Ue);var ft=Ze.getCanvas();ft.style.width="100%",ft.className+=" "+m,g&&Ze.play(),te(Ze)});else we({status:"error",message:"Error instantiating seeThru instance"})})}var J8=X8;function Z8(h,c,m){var g=m.poster,P=m.autoplay,j=m.playsinline,q=m.loop,oe=m.muted;return c=c+".mp4",new Promise(function(te,we){z8(m.externalLibraries.seeThru,m.max_timeout_ms,window.seeThru).then(function(){G8(c,m.max_timeout_ms).then(function(Ue){var Ze=Ue.payload,ft=Y8({blobURL:Ze.blobURL,videoURL:c,poster:g,autoplay:P,playsinline:j,loop:q,muted:oe});h.appendChild(ft),J8(ft,m.max_timeout_ms,m.class,m.autoplay).then(function(){te(h)}).catch(function(Ft){we(Ft)})}).catch(function(Ue){var Ze=Ue.status,ft=Ue.message;we({status:Ze,message:ft})})}).catch(function(Ue){var Ze=Ue.status,ft=Ue.message;we({status:Ze,message:ft})})})}var eU=Z8;function tU(){return new Promise(function(h,c){Rt()&&h(!1);var m=document.createElement("video"),g=m.canPlayType&&m.canPlayType('video/webm; codecs="vp9"');h(g==="maybe"||g==="probably")})}var nU=tU;function of(h){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},of(h)}function rU(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function AR(h,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,sU(g.key),g)}}function iU(h,c,m){return c&&AR(h.prototype,c),m&&AR(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function sU(h){var c=oU(h,"string");return of(c)=="symbol"?c:c+""}function oU(h,c){if(of(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,c);if(of(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var PR,kR,OR,NR,Sv,DR;OR=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return m*Math.ceil(c/m)},kR=function(c,m){var g;for(g=c.length-2;g>=0&&c[g]>=m;)g--;return c[g+1]},PR=function(c,m,g,P){var j,q,oe,te;return te=(j=(q=(oe=P.responsive_use_breakpoints)!=null?oe:P.responsive_use_stoppoints)!=null?q:this.config("responsive_use_breakpoints"))!=null?j:this.config("responsive_use_stoppoints"),!te||te==="resize"&&!P.resizing?m:this.calc_breakpoint(c,m,g)},NR=function(c){var m,g;for(m=0;(c=c!=null?c.parentNode:void 0)instanceof Element&&!m;)g=window.getComputedStyle(c),/^inline/.test(g.display)||(m=Dh(c));return m},DR=function(c,m){return c.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(m))},Sv=function(c,m){var g;return g=mt(m,"width")||0,c>g&&(g=c,Xn(m,"width",c)),g};var LR=function(){function h(c){rU(this,h);var m;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,m=new Ha(c),this.config=function(g,P){return m.config(g,P)},this.fromDocument=function(){return m.fromDocument(),this},this.fromEnvironment=function(){return m.fromEnvironment(),this},this.init=function(){return m.init(),this}}return iU(h,[{key:"url",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ls(m,g,this.config())}},{key:"video_url",value:function(m,g){return g=W()({resource_type:"video"},g),this.url(m,g)}},{key:"video_thumbnail_url",value:function(m,g){return g=W()({},Gn,g),this.url(m,g)}},{key:"transformation_string",value:function(m){return new Ii(m).serialize()}},{key:"image",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P,j,q;return j=this.imageTag(m,g),P=(q=g.client_hints!=null?g.client_hints:this.config("client_hints"))!=null?q:!1,g.src==null&&!P&&j.setAttr("src",""),j=j.toDOM(),P||(Xn(j,"src-cache",this.url(m,g)),this.cloudinary_update(j,g)),j}},{key:"imageTag",value:function(m,g){var P;return P=new ip(m,this.config()),P.transformation().fromOptions(g),P}},{key:"pictureTag",value:function(m,g,P){var j;return j=new _v(m,this.config(),P),j.transformation().fromOptions(g),j}},{key:"sourceTag",value:function(m,g){var P;return P=new SR(m,this.config()),P.transformation().fromOptions(g),P}},{key:"video_thumbnail",value:function(m,g){return this.image(m,qe()({},Gn,g))}},{key:"facebook_profile_image",value:function(m,g){return this.image(m,W()({type:"facebook"},g))}},{key:"twitter_profile_image",value:function(m,g){return this.image(m,W()({type:"twitter"},g))}},{key:"twitter_name_profile_image",value:function(m,g){return this.image(m,W()({type:"twitter_name"},g))}},{key:"gravatar_image",value:function(m,g){return this.image(m,W()({type:"gravatar"},g))}},{key:"fetch_image",value:function(m,g){return this.image(m,W()({type:"fetch"},g))}},{key:"video",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.videoTag(m,g).toHtml()}},{key:"videoTag",value:function(m,g){return g=Oe({},g,this.config()),new Ev(m,g)}},{key:"sprite_css",value:function(m,g){return g=W()({type:"sprite"},g),m.match(/.css$/)||(g.format="css"),this.url(m,g)}},{key:"responsive",value:function(m){var g=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j,q,oe,te,we,Ue;if(this.responsiveConfig=qe()(this.responsiveConfig||{},m),te=(j=this.responsiveConfig.responsive_class)!=null?j:this.config("responsive_class"),P&&this.cloudinary_update("img.".concat(te,", img.cld-hidpi"),this.responsiveConfig),we=(q=(oe=this.responsiveConfig.responsive_resize)!=null?oe:this.config("responsive_resize"))!=null?q:!0,we&&!this.responsiveResizeInitialized){this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,Ue=null;var Ze=function(){var Ft,Ms,Ao,as,mu,gu,Fs;return Ft=(Ms=(Ao=g.responsiveConfig.responsive_debounce)!=null?Ao:g.config("responsive_debounce"))!=null?Ms:100,as=function(){Ue&&(clearTimeout(Ue),Ue=null)},mu=function(){return g.cloudinary_update("img.".concat(te),g.responsiveConfig)},Fs=function(){return as(),mu()},gu=function(){as(),Ue=setTimeout(Fs,Ft)},Ft?gu():mu()};return window.addEventListener("resize",Ze),function(){return window.removeEventListener("resize",Ze)}}}},{key:"calc_breakpoint",value:function(m,g,P){var j=mt(m,"breakpoints")||mt(m,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||OR;return nt()(j)?j(g,P):(Be()(j)&&(j=j.split(",").map(function(q){return parseInt(q)}).sort(function(q,oe){return q-oe})),kR(j,g))}},{key:"calc_stoppoint",value:function(m,g,P){return this.calc_breakpoint(m,g,P)}},{key:"device_pixel_ratio",value:function(m){m=m??!0;var g=(typeof window<"u"&&window!==null?window.devicePixelRatio:void 0)||1;m&&(g=Math.ceil(g)),(g<=0||g===NaN)&&(g=1);var P=g.toString();return P.match(/^\d+$/)&&(P+=".0"),P}},{key:"processImageTags",value:function(m,g){if(Je(m))return this;g=Oe({},g||{},this.config());var P=m.filter(function(j){return/^img$/i.test(j.tagName)}).map(function(j){var q=W()({width:j.getAttribute("width"),height:j.getAttribute("height"),src:j.getAttribute("src")},g),oe=q.source||q.src;delete q.source,delete q.src;var te=new Ii(q).toHtmlAttributes();return Xn(j,"src-cache",Ls(oe,q)),j.setAttribute("width",te.width),j.setAttribute("height",te.height),j});return this.cloudinary_update(P,g),this}},{key:"cloudinary_update",value:function(m,g){var P=this,j,q,oe,te;if(m===null)return this;g==null&&(g={});var we=g.responsive!=null?g.responsive:this.config("responsive");m=L8(m);var Ue;this.responsiveConfig&&this.responsiveConfig.responsive_class!=null?Ue=this.responsiveConfig.responsive_class:g.responsive_class!=null?Ue=g.responsive_class:Ue=this.config("responsive_class");var Ze=g.round_dpr!=null?g.round_dpr:this.config("round_dpr");return m.forEach(function(ft){if(/img/i.test(ft.tagName)){var Ft=!0;if(we&&ri(ft,Ue),q=mt(ft,"src-cache")||mt(ft,"src"),!Je(q)){q=DR.call(P,q,Ze),Co.isResponsive(ft,Ue)&&(j=NR(ft),j!==0?(/w_auto:breakpoints/.test(q)?(te=Sv(j,ft),te?q=q.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:".concat(te)):Ft=!1):(oe=/w_auto(:(\d+))?/.exec(q),oe&&(te=PR.call(P,ft,j,oe[2],g),te=Sv(te,ft),te?q=q.replace(/w_auto[^,\/]*/g,"w_".concat(te)):Ft=!1)),La(ft,"width"),g.responsive_preserve_height||La(ft,"height")):Ft=!1);var Ms=g.loading==="lazy"&&!P.isNativeLazyLoadSupported()&&P.isLazyLoadSupported()&&!m[0].getAttribute("src");(Ft||Ms)&&P.setAttributeIfExists(m[0],"width","data-width"),Ft&&!Ms&&Ji(ft,"src",q)}}}),this}},{key:"setAttributeIfExists",value:function(m,g,P){var j=m.getAttribute(P);j!=null&&Ji(m,g,j)}},{key:"isLazyLoadSupported",value:function(){return window&&"IntersectionObserver"in window}},{key:"isNativeLazyLoadSupported",value:function(){return"loading"in HTMLImageElement.prototype}},{key:"transformation",value:function(m){return Ii.new(this.config()).fromOptions(m).setParent(this)}},{key:"injectTransparentVideoElement",value:function(m,g){var P=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(q,oe){m||oe({status:"error",message:"Expecting htmlElContainer to be HTMLElement"}),B8(j);var te=P.video_url(g,j);nU().then(function(we){var Ue;we?(Ue=F8(m,P,g,j),q(m)):Ue=eU(m,te,j),Ue.then(function(){q(m)}).catch(function(Ze){var ft=Ze.status,Ft=Ze.message;oe({status:ft,message:Ft})})}).catch(function(we){var Ue=we.status,Ze=we.message;oe({status:Ue,message:Ze})})})}}],[{key:"new",value:function(m){return new this(m)}}])}();W()(LR,I);var MR=LR;w.default={ClientHintsMetaTag:CR,Cloudinary:MR,Condition:Ot,Configuration:Ha,crc32:T,Expression:an,FetchLayer:Zh,HtmlTag:Co,ImageTag:ip,Layer:is,PictureTag:_v,SubtitlesLayer:ss,TextLayer:d,Transformation:Ii,utf8_encode:B,Util:k,VideoTag:Ev}},"lodash/assign":function(x,w){x.exports=r},"lodash/cloneDeep":function(x,w){x.exports=i},"lodash/compact":function(x,w){x.exports=s},"lodash/difference":function(x,w){x.exports=o},"lodash/functions":function(x,w){x.exports=a},"lodash/identity":function(x,w){x.exports=l},"lodash/includes":function(x,w){x.exports=u},"lodash/isArray":function(x,w){x.exports=f},"lodash/isElement":function(x,w){x.exports=p},"lodash/isFunction":function(x,w){x.exports=y},"lodash/isPlainObject":function(x,w){x.exports=_},"lodash/isString":function(x,w){x.exports=E},"lodash/merge":function(x,w){x.exports=S},"lodash/trim":function(x,w){x.exports=C}})})})(Uj);var p5=Uj.exports;const m5=(t,e=500)=>{const[n,r]=O.useState(t),[i,s]=O.useState(!1);return O.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),[n,i,s]};function g5(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),[o,a]=O.useState(null),[l,u]=O.useState(""),[f,p]=O.useState(""),[y,_]=O.useState(!1);new p5.Cloudinary({cloud_name:"dnpesnh4i"});const[E,S]=O.useState(""),[C]=m5(E),[x,w]=O.useState(!1),[v,I]=O.useState(!1),{currentUser:k,registerUzer:B,loginWithProvider:D,setCurrentUser:T,db:N,isFirstLogin:L}=cr(),{setIsFirstLogin:M}=_i(),U=async ue=>{const Y="https://api.cloudinary.com/v1_1/dnpesnh4i/image/upload",Q=new FormData;Q.append("file",ue),Q.append("upload_preset","userProfile");try{return(await fn.post(Y,Q,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}catch(ee){throw console.error("Cloudinary Upload Error:",ee),ee}},F=async(ue,Y,Q,ee)=>{try{const me=Ln(N,"users"),ne=Ir(me,ui("uid","==",ue)),$=await gr(ne);$.empty||$.forEach(async K=>{const Z=fs(N,"users",K.id);await $s(Z,Y).then(()=>{const Ae={...k,username:Q.username,bio:Q.bio,profilePictureURL:ee};localStorage.setItem("user",JSON.stringify(Ae))}).catch(Ae=>{console.error(Ae)}),t("/r-social/profile/me")})}catch(me){console.error("Error updating user: ",me)}},ie=async ue=>{if(u("Uploading..."),o)try{u("Uploading...");const Y=await U(f);u("Upload successful!");const Q=k.uid,ee={username:ue.username,bio:ue.bio,profilePictureURL:Y};F(Q,ee,ue,Y);const me={...k,username:ue.username,bio:ue.bio,profilePictureURL:Y};M(!1)}catch(Y){u("Upload failed"),console.error("Error uploading the image:",Y)}else alert("Please select an image to upload")},de=ue=>{const Y=ue.target.files[0];if(Y){const Q=Y.size/1024/1024,ee=Y.type,me=["image/jpeg","image/png","image/jpg"];if(Q>3){alert("File size exceeds 3MB"),ue.target.value=null;return}if(!me.includes(ee)){alert("File format not allowed. Please upload a JPG, JPEG, or PNG file."),ue.target.value=null;return}const ne=URL.createObjectURL(Y);p(Y),a(ne)}};return O.useEffect(()=>{(async()=>{if(!E)return;_(!0);const Y=Ln(N,"users"),Q=Ir(Y,ui("username","==",E));try{const ee=await gr(Q);I(!ee.empty)}catch(ee){console.error("Error checking username: ",ee),I(!1)}finally{_(!1)}})()},[C,N]),R.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg p-6 mt-10 border-2",children:[R.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Profile"}),R.jsxs("form",{onSubmit:n(ie),className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),R.jsx("input",{required:!0,value:E,onInput:ue=>{S(ue.target.value),ue.target.value===""&&w(!1)},type:"text",...e("username",{required:!0,minLength:{value:3,message:"Username must have atleast 3 characters"},maxLength:{value:18,message:"Username must be atmost 18 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Your username"}),r.username&&R.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.username.message}),y&&R.jsx("p",{children:"Checking Username..."}),v?C!==""?R.jsxs("p",{className:"text-red-500 text-sm mt-1",children:['Username "',C,'" already exists']}):"":C!==""?R.jsx("p",{className:"text-green-500 text-sm mt-1",children:"Username available"}):""]}),R.jsx("br",{}),R.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center mb-2",children:"Profile Picture"}),R.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden shadow-lg mx-auto",children:[R.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:[o?R.jsx("img",{src:o,alt:"Profile Preview",className:"w-full h-full object-cover rounded-full"}):R.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:R.jsx(gP,{size:40})}),R.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:[R.jsx(gP,{size:40,className:"text-white"}),R.jsx("input",{type:"file",accept:"image/jpeg, image/png, image/jpg",...e("profilePic",{required:!0}),className:"absolute inset-0 opacity-0 cursor-pointer",onChange:de})]})]}),r.profilePic&&R.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Profile picture is required"})]})]}),R.jsx("br",{}),R.jsx("br",{}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),R.jsx("textarea",{...e("bio",{required:!0,maxLength:200}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:k!=null&&k.bio?k.bio:"Tell us about yourself (Max 200 characters)",rows:"3"}),r.bio&&R.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Bio is required (Max 200 characters)"})]}),R.jsx("button",{type:"submit",disabled:i||v,className:"w-full bg-indigo-600 text-white font-medium py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 font-mono disabled:bg-slate-500 ",children:"Update"}),R.jsx("span",{children:i&&R.jsx(Fy,{type:"spin",color:"white",height:"20%",width:"20%"})})]}),l&&R.jsx("p",{className:"text-center text-3xl text-green-400",children:l})]})}function $ae(){var T,N,L,M,U,F;const{currentUser:t,db:e}=cr();let{username:n}=iS();const r=Ra(),[i,s]=O.useState({}),[o,a]=O.useState(!1),[l,u]=O.useState(),{isFirstLogin:f,setIsFirstLogin:p,getUserDetailsById:y,getUsers:_,userArray:E,isFollowing:S,getValueByKey:C,setDisplayUser:x,displayUser:w,setIsFollowing:v}=_i(),I=()=>{n==="me"?(u("me"),a(ie=>!ie)):(u("specific"),a(ie=>!ie))};O.useEffect(()=>{E==null||E.forEach(ie=>{n===ie.username&&s(ie)})},[E]);const k=ie=>{if(ie==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg"||ie.includes("google"))return ie;const de="q_auto,f_auto,h_500,w_500,c_auto",ue=ie.indexOf("/upload")+7;return ie.slice(0,ue)+`/${de}`+ie.slice(ue)},B=()=>t&&t.profilePictureURL?k(t.profilePictureURL):"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg";function D(){r("/r-social/firstLogin")}return O.useEffect(()=>{C(E,t==null?void 0:t.uid)},[]),R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"h-full overflow-hidden  flex    bg-slate-500",children:f&&n==="me"?R.jsx(g5,{}):R.jsxs("div",{className:"max-w-2xl border-2 border-cyan-100  mx-4 sm:max-w-sm md:max-w-sm lg:max-w-sm xl:max-w-sm sm:mx-auto md:mx-auto lg:mx-auto xl:mx-auto mt-16 bg-white shadow-xl rounded-lg text-gray-900 mb-10",children:[R.jsx("div",{className:"rounded-t-lg h-32 overflow-hidden",children:R.jsx("img",{className:"object-cover object-top w-full",src:"https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ",alt:"Mountain"})}),R.jsx("div",{className:"mx-auto w-32 h-32 relative -mt-16 border-4 border-white rounded-full overflow-hidden",children:R.jsx("img",{className:"object-cover object-center h-32",src:n==="me"?B():E&&i.profilePictureURL,alt:"Baingan Pic"})}),R.jsxs("div",{className:"text-center mt-2",children:[R.jsx("h2",{className:"font-semibold",children:n==="me"?t&&t.username:i.username}),R.jsx("p",{className:"text-gray-500",children:n==="me"?t&&t.bio:i.bio})]}),R.jsxs("ul",{className:"py-4 mt-2 text-gray-700 flex items-center justify-around",children:[R.jsxs("li",{className:"flex flex-col items-center justify-around",children:[R.jsx(yr,{to:`/r-social/profile/${n}/following`,children:R.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})})}),R.jsxs("div",{children:[n==="me"?t&&((T=t.following)==null?void 0:T.length):E&&((N=i==null?void 0:i.following)==null?void 0:N.length),R.jsx("span",{children:" Following"})]})]}),R.jsxs("li",{className:"flex flex-col items-center justify-between",children:[R.jsx(yr,{to:`/r-social/profile/${n}/followers`,children:R.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z"})})}),R.jsxs("div",{children:[n==="me"?t&&((L=t.followers)==null?void 0:L.length):E&&((M=i==null?void 0:i.followers)==null?void 0:M.length),R.jsx("span",{children:" Followers"})]})]}),R.jsxs("li",{className:"flex flex-col items-center justify-around",children:[R.jsx("button",{onClick:I,children:R.jsx("svg",{className:"w-4 fill-current text-blue-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z"})})}),R.jsxs("div",{children:[n==="me"?(U=t==null?void 0:t.posts)==null?void 0:U.length:E&&((F=i==null?void 0:i.posts)==null?void 0:F.length),R.jsx("span",{children:" Posts"})]})]})]}),n==="me"&&R.jsx("div",{className:"p-4 border-t mx-8 mt-2",children:R.jsx("div",{className:"p-4  rounded-lg flex items-center justify-center",children:R.jsxs("button",{onClick:D,className:"  mx-auto rounded-full bg-blue-700 hover:shadow-lg font-semibold text-white px-6 py-2 flex items-center",children:["Edit Profile",R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 fill-current ml-2",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50",children:R.jsx("path",{d:"M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z"})})]})})})]})}),o&&R.jsx(cd,{user:l})]})}const zae=()=>R.jsx(R.Fragment,{children:R.jsxs("div",{className:"w-full h-screen flex flex-col lg:flex-row items-center justify-center space-y-16 lg:space-y-0 space-x-8 2xl:space-x-0",children:[R.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center lg:px-2 xl:px-0 text-center",children:[R.jsx("p",{className:"text-7xl md:text-8xl lg:text-9xl font-bold tracking-wider text-gray-300",children:"404"}),R.jsx("p",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-wider text-gray-300 mt-2",children:"Page Not Found"}),R.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-gray-500 my-12",children:"Sorry, the page you are looking for could not be found."}),R.jsxs(DL,{to:"/r-social/",className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-gray-100 px-4 py-2 rounded transition duration-150",title:"Return Home",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{"fill-rule":"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})}),R.jsx("span",{children:"Return Home"})]})]}),R.jsx("div",{className:"w-1/2 lg:h-full flex lg:items-end justify-center p-4",children:R.jsxs("svg",{className:"w-full text-blue-600",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 1120.59226 777.91584","xmlns:xlink":"http://www.w3.org/1999/xlink",children:[R.jsx("title",{children:"not found"}),R.jsx("circle",{cx:"212.59226",cy:"103",r:"64",fill:"#ff6584"}),R.jsx("path",{d:"M563.68016,404.16381c0,151.01141-89.77389,203.73895-200.51559,203.73895S162.649,555.17522,162.649,404.16381,363.16457,61.04208,363.16457,61.04208,563.68016,253.1524,563.68016,404.16381Z",transform:"translate(-39.70387 -61.04208)",fill:"#cbd5e1"}),R.jsx("polygon",{points:"316.156 523.761 318.21 397.378 403.674 241.024 318.532 377.552 319.455 320.725 378.357 207.605 319.699 305.687 319.699 305.687 321.359 203.481 384.433 113.423 321.621 187.409 322.658 0 316.138 248.096 316.674 237.861 252.547 139.704 315.646 257.508 309.671 371.654 309.493 368.625 235.565 265.329 309.269 379.328 308.522 393.603 308.388 393.818 308.449 394.99 293.29 684.589 313.544 684.589 315.974 535.005 389.496 421.285 316.156 523.761",fill:"#3f3d56"}),R.jsx("path",{d:"M1160.29613,466.01367c0,123.61-73.4842,166.77-164.13156,166.77s-164.13156-43.16-164.13156-166.77S996.16457,185.15218,996.16457,185.15218,1160.29613,342.40364,1160.29613,466.01367Z",transform:"translate(-39.70387 -61.04208)",fill:"#cbd5e1"}),R.jsx("polygon",{points:"950.482 552.833 952.162 449.383 1022.119 321.4 952.426 433.154 953.182 386.639 1001.396 294.044 953.382 374.329 953.382 374.329 954.741 290.669 1006.369 216.952 954.954 277.514 955.804 124.11 950.467 327.188 950.906 318.811 898.414 238.464 950.064 334.893 945.173 428.327 945.027 425.847 884.514 341.294 944.844 434.608 944.232 446.293 944.123 446.469 944.173 447.428 931.764 684.478 948.343 684.478 950.332 562.037 1010.514 468.952 950.482 552.833",fill:"#3f3d56"}),R.jsx("ellipse",{cx:"554.59226",cy:"680.47903",rx:"554.59226",ry:"28.03433",fill:"#3f3d56"}),R.jsx("ellipse",{cx:"892.44491",cy:"726.79663",rx:"94.98858",ry:"4.80162",fill:"#3f3d56"}),R.jsx("ellipse",{cx:"548.71959",cy:"773.11422",rx:"94.98858",ry:"4.80162",fill:"#3f3d56"}),R.jsx("ellipse",{cx:"287.94432",cy:"734.27887",rx:"217.01436",ry:"10.96996",fill:"#3f3d56"}),R.jsx("circle",{cx:"97.08375",cy:"566.26982",r:"79",fill:"#2f2e41"}),R.jsx("rect",{x:"99.80546",y:"689.02332",width:"24",height:"43",transform:"translate(-31.32451 -62.31008) rotate(0.67509)",fill:"#2f2e41"}),R.jsx("rect",{x:"147.80213",y:"689.58887",width:"24",height:"43",transform:"translate(-31.31452 -62.87555) rotate(0.67509)",fill:"#2f2e41"}),R.jsx("ellipse",{cx:"119.54569",cy:"732.61606",rx:"7.5",ry:"20",transform:"translate(-654.1319 782.47948) rotate(-89.32491)",fill:"#2f2e41"}),R.jsx("ellipse",{cx:"167.55414",cy:"732.18168",rx:"7.5",ry:"20",transform:"translate(-606.25475 830.05533) rotate(-89.32491)",fill:"#2f2e41"}),R.jsx("circle",{cx:"99.31925",cy:"546.29477",r:"27",fill:"#fff"}),R.jsx("circle",{cx:"99.31925",cy:"546.29477",r:"9",fill:"#3f3d56"}),R.jsx("path",{d:"M61.02588,552.94636c-6.04185-28.64075,14.68758-57.26483,46.30049-63.93367s62.13813,11.14292,68.18,39.78367-14.97834,38.93-46.59124,45.59886S67.06774,581.58712,61.02588,552.94636Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),R.jsx("path",{d:"M257.29613,671.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.40351,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S257.29613,616.30827,257.29613,671.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),R.jsx("path",{d:"M181.50168,737.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415-26.88076-41.5798,26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.60595,37.27566L204.18523,621.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),R.jsx("circle",{cx:"712.48505",cy:"565.41532",r:"79",fill:"#2f2e41"}),R.jsx("rect",{x:"741.77716",y:"691.82355",width:"24",height:"43",transform:"translate(-215.99457 191.86399) rotate(-17.08345)",fill:"#2f2e41"}),R.jsx("rect",{x:"787.6593",y:"677.72286",width:"24",height:"43",transform:"matrix(0.95588, -0.29376, 0.29376, 0.95588, -209.82788, 204.72037)",fill:"#2f2e41"}),R.jsx("ellipse",{cx:"767.887",cy:"732.00275",rx:"20",ry:"7.5",transform:"translate(-220.8593 196.83312) rotate(-17.08345)",fill:"#2f2e41"}),R.jsx("ellipse",{cx:"813.47537",cy:"716.94619",rx:"20",ry:"7.5",transform:"translate(-214.42477 209.56103) rotate(-17.08345)",fill:"#2f2e41"}),R.jsx("circle",{cx:"708.52153",cy:"545.71023",r:"27",fill:"#fff"}),R.jsx("circle",{cx:"708.52153",cy:"545.71023",r:"9",fill:"#3f3d56"}),R.jsx("path",{d:"M657.35526,578.74316c-14.48957-25.43323-3.47841-59.016,24.59412-75.0092s62.57592-8.34055,77.06549,17.09268-2.39072,41.6435-30.46325,57.63671S671.84483,604.17639,657.35526,578.74316Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),R.jsx("path",{d:"M611.29613,661.29875c0,50.55711-30.05368,68.20979-67.13,68.20979q-1.28835,0-2.57261-.02864c-1.71785-.03682-3.41933-.1186-5.10033-.23313-33.46068-2.36813-59.45707-20.92878-59.45707-67.948,0-48.65932,62.18106-110.05916,66.85186-114.60322l.00819-.00817c.18-.17587.27-.26177.27-.26177S611.29613,610.74164,611.29613,661.29875Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),R.jsx("path",{d:"M541.72029,721.77424l24.55253-34.30732-24.6139,38.07426-.0654,3.93872c-1.71785-.03682-3.41933-.1186-5.10033-.23313l2.6463-50.58165-.02047-.39266.045-.07361.24949-4.77718-24.67531-38.16836,24.753,34.58547.05731,1.01433,2-38.21741-21.12507-39.44039L541.80616,625.928l2.08182-79.23247.00819-.26994v.26177l-.34764,62.47962,21.031-24.76934-21.11693,30.15184-.55624,34.21735,19.63634-32.839-19.71812,37.87389-.31085,19.0228,28.50763-45.70631-28.614,52.34448Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),R.jsx("path",{d:"M875.29613,682.38411c0,55.07585-32.73985,74.3063-73.13,74.3063q-1.4035,0-2.80255-.0312c-1.87139-.04011-3.72494-.1292-5.55619-.254-36.45135-2.57979-64.77127-22.79937-64.77127-74.02113,0-53.00843,67.73872-119.89612,72.827-124.84633l.00892-.00889c.19608-.19159.29409-.28516.29409-.28516S875.29613,627.30827,875.29613,682.38411Z",transform:"translate(-39.70387 -61.04208)",fill:"currentColor"}),R.jsx("path",{d:"M799.50168,748.26482l26.747-37.37367-26.81386,41.4773-.07125,4.29076c-1.87139-.04011-3.72494-.1292-5.55619-.254l2.88282-55.10258-.0223-.42775.049-.0802.27179-5.20415L770.108,654.01076l26.96539,37.67668.06244,1.105,2.17874-41.63324-23.0132-42.96551,23.29391,35.6583,2.26789-86.31419.00892-.294v.28516l-.37871,68.064,22.91079-26.98321-23.00435,32.84678-.606,37.27566L822.18523,632.958l-21.4805,41.259-.33863,20.723,31.05561-49.79149-31.17146,57.023Z",transform:"translate(-39.70387 -61.04208)",fill:"#3f3d56"}),R.jsx("ellipse",{cx:"721.51694",cy:"656.82212",rx:"12.40027",ry:"39.5",transform:"translate(-220.83517 966.22323) rotate(-64.62574)",fill:"#2f2e41"}),R.jsx("ellipse",{cx:"112.51694",cy:"651.82212",rx:"12.40027",ry:"39.5",transform:"translate(-574.07936 452.71367) rotate(-68.15829)",fill:"#2f2e41"})]})})]})});function Ai({children:t}){const{currentUser:e}=cr(),n=Ra(),r=xa(),{isFirstLogin:i}=_i();return O.useEffect(()=>{e===null&&n("/r-social/login",{replace:!0})},[e]),O.useEffect(()=>{console.log(i),i&&n("/r-social/firstLogin",{replace:!0})},[r]),t}const Kd=({userBio:t,username:e,followers:n,following:r,userPic:i,userUID:s,isFollowing:o,setFlag:a,flag:l})=>{const{setIsFollowing:u,handleFollow:f,uzerFollowArray:p,uzerFollowObj:y}=_i();O.useState(n);const{currentUser:_}=cr(),E=(S,C)=>S.length<=C?S:S.slice(0,C)+"...";return R.jsx(R.Fragment,{children:R.jsx("div",{className:"h-auto pt-6 mt-2  items-stretch ",children:R.jsxs("div",{className:"max-w-sm  mx-auto bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg hover:shadow-2 hover:shadow-blue-300",children:[R.jsxs("div",{className:"border-b px-4 pb-6",children:[R.jsxs("div",{className:"text-center my-4",children:[R.jsx(yr,{to:`/r-social/profile/${e}`,children:R.jsx("img",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 mx-auto my-4",src:i||"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg",alt:"Profile Pic"})}),R.jsxs("div",{className:"py-2",children:[R.jsx("h3",{className:"font-bold text-2xl text-gray-800 dark:text-white mb-1",children:E(e,20)}),R.jsxs("div",{className:"inline-flex text-gray-700 dark:text-gray-300 items-center",children:[R.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-600 mr-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:R.jsx("path",{className:"",d:"M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 1 0-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),E(t,28)]})]})]}),R.jsx("div",{className:"flex gap-2 px-2",children:R.jsx("button",{onClick:S=>{f(S.target.value)},value:s,className:`flex-1 rounded-full bg-blue-600 dark:bg-blue-800 text-white dark:text-white antialiased font-bold hover:bg-blue-800 dark:hover:bg-blue-900 px-4 py-2 ${_.username===e?" invisible ":""}`,children:o!=null&&o.includes(s)?"Following":"Follow"})})]}),R.jsx("div",{className:"px-4 py-4",children:R.jsxs("div",{className:"flex gap-2 items-center text-gray-800 dark:text-gray-300 mb-4",children:[R.jsx(yr,{to:`/r-social/profile/${e}/followers`,children:R.jsx("svg",{className:"h-6 w-6 text-gray-600 dark:text-gray-400",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:R.jsx("path",{className:"",d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"})})}),R.jsxs("span",{children:[R.jsx("strong",{className:"text-black dark:text-white",children:n})," Followers "]}),R.jsx(yr,{to:`/r-social/profile/${e}/following`,children:R.jsx("svg",{className:"h-6 w-6 text-gray-600 dark:text-gray-400",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:R.jsx("path",{className:"",d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"})})}),R.jsxs("span",{children:[R.jsx("strong",{className:"text-black dark:text-white",children:r})," Following "]})]})})]})})})},Hae=Object.freeze(Object.defineProperty({__proto__:null,default:Kd},Symbol.toStringTag,{value:"Module"})),SN=()=>{let{isFollowing:t,userArray:e,setUsersIsFollowing:n,isUsersFollowing:r,userFollow:i}=_i(),{currentUser:s}=cr();const a=xa().pathname,l=p=>{if(p==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return p;const y="q_auto,f_auto,h_500,w_500,c_auto",_=p.indexOf("/upload")+7;return p.slice(0,_)+`/${y}`+p.slice(_)},u=a.match(/\/profile\/(.*)\/following$/),f=u?u[1]:null;return R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-2 ",children:"Following"}),R.jsx("br",{}),R.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:f==="me"?R.jsx(R.Fragment,{children:e&&e.map((p,y)=>p.followers.includes(s==null?void 0:s.uid)?R.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:l(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null)}):R.jsx(R.Fragment,{children:e&&e.map((p,y)=>{const _=e.find(E=>E.username===f.replace("%20"," "));return _&&p.followers.includes(_.uid)?R.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:l(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null})})})]})},qae=()=>{let{isFollowing:t,userArray:e,setUsersIsFollowing:n,isUsersFollowing:r,userFollow:i}=_i(),{currentUser:s}=cr();const a=xa().pathname,l=p=>{if(p==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return p;const y="q_auto,f_auto,h_500,w_500,c_auto",_=p.indexOf("/upload")+7;return p.slice(0,_)+`/${y}`+p.slice(_)},u=a.match(/\/profile\/(.*)\/followers$/),f=u?u[1]:null;return R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-center text-3xl font-mono text-blue-800 mt-2 ",children:"Followers"}),R.jsx("br",{}),R.jsx("div",{className:"flex flex-wrap flex-row justify-around gap-x-1.5 gap-y-1.5 m-0 p-0 duration-800 ",children:f==="me"?R.jsx(R.Fragment,{children:e&&e.map((p,y)=>p.following.includes(s==null?void 0:s.uid)?R.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:l(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null)}):R.jsx(R.Fragment,{children:e&&e.map((p,y)=>{const _=e.find(E=>E.username===f.replace("%20"," "));return _&&p.following.includes(_.uid)?R.jsx(Kd,{username:p.username,followers:p.followers.length,following:p.following.length,userBio:p.bio,userPic:l(p.profilePictureURL),userUID:p.uid,isFollowing:t},y):null})})})]})};function xN(t){return qc({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}var Vn=[];for(var q1=0;q1<256;++q1)Vn.push((q1+256).toString(16).slice(1));function Wae(t,e=0){return(Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]).toLowerCase()}var Bp,Kae=new Uint8Array(16);function Gae(){if(!Bp&&(Bp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bp(Kae)}var Qae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const RN={randomUUID:Qae};function Yae(t,e,n){if(RN.randomUUID&&!e&&!t)return RN.randomUUID();t=t||{};var r=t.random||(t.rng||Gae)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Wae(r)}function Xae(){const t=Ra(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=eh(),[o,a]=O.useState("0%"),[l,u]=O.useState(null),[f,p]=O.useState(""),[y,_]=O.useState(""),[E,S]=O.useState(null),[C,x]=O.useState(null),w=O.useRef(null);new p5.Cloudinary({cloud_name:"dnpesnh4i"});const{currentUser:v,registerUzer:I,loginWithProvider:k,setCurrentUser:B,db:D,isFirstLogin:T}=cr(),N=de=>{if(de==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return de;const ue="q_auto,f_auto,h_500,w_500,c_auto",Y=de.indexOf("/upload")+7;return de.slice(0,Y)+`/${ue}`+de.slice(Y)};_i();const L=async de=>{const ue="https://api.cloudinary.com/v1_1/dnpesnh4i/image/upload",Y=new FormData;Y.append("file",de),Y.append("upload_preset","userProfile");try{return(await fn.post(ue,Y,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}catch(Q){throw console.error("Cloudinary Upload Error:",Q),Q}},M=async(de,ue,Y)=>{const Q=Tte(Ate,`posts/${v.uid}/${ue}`),ee=Ete(Q,de);ee.on("state_changed",me=>{const ne=me.bytesTransferred/me.totalBytes*100;a(Math.ceil(ne))},me=>{console.error("Error  uploading video:",me)},()=>{bte(ee.snapshot.ref).then(me=>{const ne={posts:[...v.posts,{pid:ue,title:Y.title,desc:Y.desc,mediaURL:me,type:E,comments:[],postURL:`http://localhost:5173/${v.username}/posts/${Y.title}`,likes:[],uid:v.uid}]};U(v.uid,ne)})})},U=async(de,ue,Y,Q)=>{try{const ee=Ln(D,"users"),me=Ir(ee,ui("uid","==",de)),ne=await gr(me);ne.empty||ne.forEach(async $=>{const K=fs(D,"users",$.id);await $s(K,ue).then(()=>{const Z={...v,posts:ue.posts}}).catch(Z=>{console.error(Z)}),t("/r-social/profile/me")})}catch(ee){console.error("Error updating user: ",ee)}},F=async de=>{if(p("Uploading..."),l)try{p("Uploading...");let ue=Yae();if(E==="image"){const Y=await L(y);p("Upload successful!");const Q={posts:[...v.posts,{pid:ue,title:de.title,desc:de.desc,mediaURL:N(Y),type:E,comments:[],postURL:`http://localhost:5173/${v.username}/posts/${de.title}`,likes:[],uid:v.uid}]};U(v.uid,Q,de,Y)}else M(C,ue,de)}catch(ue){p("Upload failed"),console.error("Error uploading the image:",ue)}else alert("Please select an image to upload")},ie=de=>{const ue=de.target.files[0];if(ue){const Y=ue.size/1024/1024,Q=ue.type,ee=["image/jpeg","image/png","image/jpg","video/mp4"];if(S(Q==="image/jpg"||Q==="image/jpeg"||Q==="image/png"?"image":Q==="video/mp4"?"video":null),Y>10){alert("File size exceeds 10MB"),de.target.value=null;return}if(!ee.includes(Q)){alert("File format not allowed. Please upload a JPG, JPEG, PNG, or MP4 file."),de.target.value=null;return}const me=URL.createObjectURL(ue);_(ue),x(ue),u(me)}};return O.useEffect(()=>{if(E==="video"){const de=setTimeout(()=>{w.current.play()},2e3);return()=>clearTimeout(de)}},[C]),R.jsxs("div",{className:"max-w-md mx-auto bg-orange-100 border-blue-700 shadow-lg rounded-lg p-6 mt-10 border-2",children:[R.jsx("h2",{className:"text-3xl font-semibold text-center text-gray-800 mb-4",children:"Post"}),R.jsxs("form",{onSubmit:n(F),className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),R.jsx("input",{type:"text",...e("title",{required:!0,minLength:{value:2,message:"Title must have atleast 2 characters"},maxLength:{value:120,message:"Password must have maximum 120 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Title"}),r.title&&R.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title.message})]}),R.jsx("br",{}),R.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center mb-2",children:"Image/Video"}),R.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden shadow-lg mx-auto",children:R.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:[l?E==="image"?R.jsx("img",{src:l,alt:"Post Preview",className:"w-full h-full object-cover rounded-full"}):"":R.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:R.jsx(xN,{size:40,color:"blue"})}),R.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:[R.jsx(xN,{color:"white",size:40}),R.jsx("input",{type:"file",accept:"image/jpeg, image/png, image/jpg, video/mp4",...e("postMedia",{required:!1}),className:"absolute inset-0 opacity-0 cursor-pointer",onChange:ie})]})]})})]}),R.jsx("div",{className:"text-center p-4   shadow-blue",children:C&&E==="video"&&l?R.jsxs(R.Fragment,{children:[R.jsx("p",{className:"",children:"Video Preview"}),R.jsx("video",{ref:w,className:"rounded-md shadow-2xl shadow-slate-500",controls:!0,preload:"true",loop:!0,src:l,children:" "})]}):""}),R.jsx("br",{}),R.jsx("br",{}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),R.jsx("textarea",{...e("desc",{required:!1,maxLength:200}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Tell us about the post (Max 200 characters)",rows:"3"})]}),R.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 text-white font-medium py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 font-mono",children:["Post ",R.jsx("span",{children:i&&R.jsx(Fy,{type:"spin",color:"white",height:"20%",width:"20%"})})]})]}),f&&R.jsx("p",{className:"text-center text-3xl text-green-400",children:f}),f&&o&&R.jsxs("p",{className:"text-center text-3xl text-green-700",children:[o,"%"]})]})}const Jae=()=>R.jsxs("div",{className:"rounded-lg w-48 h-32 flex flex-col justify-center items-center px-3 py-2 bg-gray-100 animate-pulse",children:[R.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded mb-2"}),R.jsx("div",{className:"h-14 w-14 bg-gray-300 rounded-full"})]}),Zae=()=>{const{db:t}=cr(),[e,n]=O.useState(""),[r,i]=O.useState([]),[s,o]=O.useState([]),[a,l]=O.useState(!1),[u,f]=O.useState({user:!1,post:!1}),[p]=m5(e),y=E=>{if(E==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return E;const S="q_auto,f_auto,h_500,w_500,c_auto",C=E.indexOf("/upload")+7;return E.slice(0,C)+`/${S}`+E.slice(C)},_=(E,S)=>S?E.split(new RegExp(`(${S})`,"gi")).map((x,w)=>x.toLowerCase()===S.toLowerCase()?R.jsx("span",{className:"text-blue-500",children:x},w):x):E;return O.useEffect(()=>{(async()=>{if((e===""||p==="")&&(i([]),o([])),!p)return;l(!0);const S=Ir(Ln(t,"users"),_X("username"),wX(50)),x=(await gr(S)).docs.map(I=>I.data()),w=x.filter(I=>I.username.toLowerCase().includes(p.toLowerCase())),v=x.flatMap(I=>I.posts).filter(I=>I.title.toLowerCase().includes(p.toLowerCase()));i(w),o(v),l(!1)})()},[p,t]),R.jsx(R.Fragment,{children:R.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg p-6 mt-2 border-2",children:[R.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Search"}),R.jsxs("div",{className:"flex flex-col space-y-2",children:[R.jsx("div",{className:"relative",children:R.jsx("input",{type:"text",value:e,onChange:E=>{n(E.target.value),E.target.value===""&&f({user:!1,post:!1})},className:"w-full rounded-lg px-3 py-2 bg-gray-100 text-gray-800 outline-none focus:ring-2 ring-2 ring-blue-900 focus:ring-blue-500 focus:ring-opacity-50 shadow-sm",placeholder:"Search Users & Posts...🔍"})}),a?R.jsx(Jae,{}):R.jsxs(R.Fragment,{children:[R.jsx("br",{}),"Users  ",R.jsx("div",{className:"flex flex-wrap gap-3 justify-start text-center",children:r.length>0?r.map(E=>R.jsx(yr,{to:`/r-social/profile/${E.username}`,children:R.jsxs("div",{className:"rounded-lg w-40 h-30 flex flex-col justify-center items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 shadow-sm",children:[R.jsx("div",{className:"text-center mb-2",children:_(E.username,p)}),R.jsx("span",{className:"relative h-14 w-14 rounded-full overflow-hidden",children:R.jsx("img",{src:y(E.profilePictureURL),alt:"",className:"h-full w-full object-cover rounded-full"})})]})},E.uid)):p===""&&u.user&&R.jsxs("div",{className:"text-gray-500 w-full text-center",children:['No users found matching "',p,'".']})}),R.jsx("br",{}),"Posts",R.jsx("div",{className:"flex flex-wrap gap-3 justify-start text-center",children:s.length>0?s.map(E=>R.jsxs("div",{className:"rounded-lg w-60 h-auto flex flex-col justify-start items-start px-3 py-2 bg-gray-100 hover:bg-gray-200 shadow-sm",children:[R.jsx("div",{className:"font-medium text-blue-500 mb-1"}),R.jsx("div",{className:"text-gray-600 text-sm w-full ",children:_(E.title,p)})]},E.id)):p===""&&u.post&&R.jsxs("div",{className:"text-gray-500 w-full text-center",children:['No posts found matching "',p,'".']})})]})]})]})})},ele=Zz([{path:"/r-social/",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(Bse,{})]})})},{path:"/r-social/firstLogin",element:R.jsx(g5,{})},{path:"/r-social/setting",element:R.jsx(R.Fragment,{children:R.jsx(Ai,{children:"Not yet made"})})},{path:"/r-social/profile",children:[{path:":username",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx($ae,{})]})})}]},{path:"/r-social/profile/me/following",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(SN,{})]})})},{path:"/r-social/profile/posts",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(cd,{user:"all"})]})})},{path:"/r-social/profile/me/posts",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(cd,{user:"me"})]})})},{path:"/r-social/profile/:username/following",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(SN,{})]})})},{path:"/r-social/profile/:username/posts",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(cd,{user:"specific"})]})})},{path:"/r-social/profile/:username/followers",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(qae,{})]})})},{path:"/r-social/search",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(Zae,{})]})})},{path:"/r-social/register",element:R.jsxs(R.Fragment,{children:[R.jsx(si,{}),R.jsx(Bte,{})]})},{path:"/r-social/post",element:R.jsx(R.Fragment,{children:R.jsxs(Ai,{children:[R.jsx(si,{}),R.jsx(Xae,{})]})})},{path:"/r-social/login",element:R.jsxs(R.Fragment,{children:[R.jsx(si,{}),R.jsx(Ute,{})]})},{path:"*",element:R.jsx(R.Fragment,{children:R.jsx(zae,{})})}]);U4(document.getElementById("root")).render(R.jsx(R.Fragment,{children:R.jsx(Pte,{children:R.jsxs(Vte,{children:[R.jsx(aH,{router:ele}),R.jsx(wG,{})]})})}));
